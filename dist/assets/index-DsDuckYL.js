function zb(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ub(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Km={exports:{}},Ka={},Gm={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ni=Symbol.for("react.element"),Bb=Symbol.for("react.portal"),Vb=Symbol.for("react.fragment"),Hb=Symbol.for("react.strict_mode"),Wb=Symbol.for("react.profiler"),Kb=Symbol.for("react.provider"),Gb=Symbol.for("react.context"),qb=Symbol.for("react.forward_ref"),Jb=Symbol.for("react.suspense"),Yb=Symbol.for("react.memo"),Xb=Symbol.for("react.lazy"),vh=Symbol.iterator;function Qb(e){return e===null||typeof e!="object"?null:(e=vh&&e[vh]||e["@@iterator"],typeof e=="function"?e:null)}var qm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jm=Object.assign,Ym={};function zs(e,t,n){this.props=e,this.context=t,this.refs=Ym,this.updater=n||qm}zs.prototype.isReactComponent={};zs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xm(){}Xm.prototype=zs.prototype;function hd(e,t,n){this.props=e,this.context=t,this.refs=Ym,this.updater=n||qm}var pd=hd.prototype=new Xm;pd.constructor=hd;Jm(pd,zs.prototype);pd.isPureReactComponent=!0;var xh=Array.isArray,Qm=Object.prototype.hasOwnProperty,md={current:null},Zm={key:!0,ref:!0,__self:!0,__source:!0};function eg(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Qm.call(t,r)&&!Zm.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ni,type:e,key:o,ref:i,props:s,_owner:md.current}}function Zb(e,t){return{$$typeof:ni,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gd(e){return typeof e=="object"&&e!==null&&e.$$typeof===ni}function ej(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var yh=/\/+/g;function Vl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ej(""+e.key):t.toString(36)}function Bi(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ni:case Bb:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Vl(i,0):r,xh(s)?(n="",e!=null&&(n=e.replace(yh,"$&/")+"/"),Bi(s,t,n,"",function(u){return u})):s!=null&&(gd(s)&&(s=Zb(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(yh,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",xh(e))for(var l=0;l<e.length;l++){o=e[l];var c=r+Vl(o,l);i+=Bi(o,t,n,c,s)}else if(c=Qb(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=r+Vl(o,l++),i+=Bi(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function pi(e,t,n){if(e==null)return e;var r=[],s=0;return Bi(e,r,"","",function(o){return t.call(n,o,s++)}),r}function tj(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rt={current:null},Vi={transition:null},nj={ReactCurrentDispatcher:rt,ReactCurrentBatchConfig:Vi,ReactCurrentOwner:md};function tg(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:pi,forEach:function(e,t,n){pi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return pi(e,function(){t++}),t},toArray:function(e){return pi(e,function(t){return t})||[]},only:function(e){if(!gd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pe.Component=zs;pe.Fragment=Vb;pe.Profiler=Wb;pe.PureComponent=hd;pe.StrictMode=Hb;pe.Suspense=Jb;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nj;pe.act=tg;pe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Jm({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=md.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Qm.call(t,c)&&!Zm.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ni,type:e.type,key:s,ref:o,props:r,_owner:i}};pe.createContext=function(e){return e={$$typeof:Gb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Kb,_context:e},e.Consumer=e};pe.createElement=eg;pe.createFactory=function(e){var t=eg.bind(null,e);return t.type=e,t};pe.createRef=function(){return{current:null}};pe.forwardRef=function(e){return{$$typeof:qb,render:e}};pe.isValidElement=gd;pe.lazy=function(e){return{$$typeof:Xb,_payload:{_status:-1,_result:e},_init:tj}};pe.memo=function(e,t){return{$$typeof:Yb,type:e,compare:t===void 0?null:t}};pe.startTransition=function(e){var t=Vi.transition;Vi.transition={};try{e()}finally{Vi.transition=t}};pe.unstable_act=tg;pe.useCallback=function(e,t){return rt.current.useCallback(e,t)};pe.useContext=function(e){return rt.current.useContext(e)};pe.useDebugValue=function(){};pe.useDeferredValue=function(e){return rt.current.useDeferredValue(e)};pe.useEffect=function(e,t){return rt.current.useEffect(e,t)};pe.useId=function(){return rt.current.useId()};pe.useImperativeHandle=function(e,t,n){return rt.current.useImperativeHandle(e,t,n)};pe.useInsertionEffect=function(e,t){return rt.current.useInsertionEffect(e,t)};pe.useLayoutEffect=function(e,t){return rt.current.useLayoutEffect(e,t)};pe.useMemo=function(e,t){return rt.current.useMemo(e,t)};pe.useReducer=function(e,t,n){return rt.current.useReducer(e,t,n)};pe.useRef=function(e){return rt.current.useRef(e)};pe.useState=function(e){return rt.current.useState(e)};pe.useSyncExternalStore=function(e,t,n){return rt.current.useSyncExternalStore(e,t,n)};pe.useTransition=function(){return rt.current.useTransition()};pe.version="18.3.1";Gm.exports=pe;var h=Gm.exports;const be=Wm(h),ng=zb({__proto__:null,default:be},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rj=h,sj=Symbol.for("react.element"),oj=Symbol.for("react.fragment"),ij=Object.prototype.hasOwnProperty,aj=rj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lj={key:!0,ref:!0,__self:!0,__source:!0};function rg(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)ij.call(t,r)&&!lj.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:sj,type:e,key:o,ref:i,props:s,_owner:aj.current}}Ka.Fragment=oj;Ka.jsx=rg;Ka.jsxs=rg;Km.exports=Ka;var a=Km.exports,sg={exports:{}},yt={},og={exports:{}},ig={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,N){var P=T.length;T.push(N);e:for(;0<P;){var z=P-1>>>1,V=T[z];if(0<s(V,N))T[z]=N,T[P]=V,P=z;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var N=T[0],P=T.pop();if(P!==N){T[0]=P;e:for(var z=0,V=T.length,Q=V>>>1;z<Q;){var Z=2*(z+1)-1,we=T[Z],I=Z+1,O=T[I];if(0>s(we,P))I<V&&0>s(O,we)?(T[z]=O,T[I]=P,z=I):(T[z]=we,T[Z]=P,z=Z);else if(I<V&&0>s(O,P))T[z]=O,T[I]=P,z=I;else break e}}return N}function s(T,N){var P=T.sortIndex-N.sortIndex;return P!==0?P:T.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,p=3,x=!1,S=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(T){for(var N=n(u);N!==null;){if(N.callback===null)r(u);else if(N.startTime<=T)r(u),N.sortIndex=N.expirationTime,t(c,N);else break;N=n(u)}}function w(T){if(y=!1,g(T),!S)if(n(c)!==null)S=!0,H(k);else{var N=n(u);N!==null&&W(w,N.startTime-T)}}function k(T,N){S=!1,y&&(y=!1,v(_),_=-1),x=!0;var P=p;try{for(g(N),f=n(c);f!==null&&(!(f.expirationTime>N)||T&&!L());){var z=f.callback;if(typeof z=="function"){f.callback=null,p=f.priorityLevel;var V=z(f.expirationTime<=N);N=e.unstable_now(),typeof V=="function"?f.callback=V:f===n(c)&&r(c),g(N)}else r(c);f=n(c)}if(f!==null)var Q=!0;else{var Z=n(u);Z!==null&&W(w,Z.startTime-N),Q=!1}return Q}finally{f=null,p=P,x=!1}}var j=!1,C=null,_=-1,E=5,R=-1;function L(){return!(e.unstable_now()-R<E)}function M(){if(C!==null){var T=e.unstable_now();R=T;var N=!0;try{N=C(!0,T)}finally{N?A():(j=!1,C=null)}}else j=!1}var A;if(typeof m=="function")A=function(){m(M)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,K=B.port2;B.port1.onmessage=M,A=function(){K.postMessage(null)}}else A=function(){b(M,0)};function H(T){C=T,j||(j=!0,A())}function W(T,N){_=b(function(){T(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){S||x||(S=!0,H(k))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(p){case 1:case 2:case 3:var N=3;break;default:N=p}var P=p;p=N;try{return T()}finally{p=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,N){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var P=p;p=T;try{return N()}finally{p=P}},e.unstable_scheduleCallback=function(T,N,P){var z=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?z+P:z):P=z,T){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=P+V,T={id:d++,callback:N,priorityLevel:T,startTime:P,expirationTime:V,sortIndex:-1},P>z?(T.sortIndex=P,t(u,T),n(c)===null&&T===n(u)&&(y?(v(_),_=-1):y=!0,W(w,P-z))):(T.sortIndex=V,t(c,T),S||x||(S=!0,H(k))),T},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(T){var N=p;return function(){var P=p;p=N;try{return T.apply(this,arguments)}finally{p=P}}}})(ig);og.exports=ig;var cj=og.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uj=h,xt=cj;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ag=new Set,Io={};function Br(e,t){Ts(e,t),Ts(e+"Capture",t)}function Ts(e,t){for(Io[e]=t,e=0;e<t.length;e++)ag.add(t[e])}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uc=Object.prototype.hasOwnProperty,dj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wh={},Sh={};function fj(e){return Uc.call(Sh,e)?!0:Uc.call(wh,e)?!1:dj.test(e)?Sh[e]=!0:(wh[e]=!0,!1)}function hj(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pj(e,t,n,r){if(t===null||typeof t>"u"||hj(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function st(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ge[e]=new st(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ge[t]=new st(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ge[e]=new st(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ge[e]=new st(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ge[e]=new st(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ge[e]=new st(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ge[e]=new st(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ge[e]=new st(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ge[e]=new st(e,5,!1,e.toLowerCase(),null,!1,!1)});var vd=/[\-:]([a-z])/g;function xd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vd,xd);Ge[t]=new st(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vd,xd);Ge[t]=new st(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vd,xd);Ge[t]=new st(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ge[e]=new st(e,1,!1,e.toLowerCase(),null,!1,!1)});Ge.xlinkHref=new st("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ge[e]=new st(e,1,!1,e.toLowerCase(),null,!0,!0)});function yd(e,t,n,r){var s=Ge.hasOwnProperty(t)?Ge[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pj(t,n,s,r)&&(n=null),r||s===null?fj(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Pn=uj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mi=Symbol.for("react.element"),as=Symbol.for("react.portal"),ls=Symbol.for("react.fragment"),wd=Symbol.for("react.strict_mode"),Bc=Symbol.for("react.profiler"),lg=Symbol.for("react.provider"),cg=Symbol.for("react.context"),Sd=Symbol.for("react.forward_ref"),Vc=Symbol.for("react.suspense"),Hc=Symbol.for("react.suspense_list"),bd=Symbol.for("react.memo"),Hn=Symbol.for("react.lazy"),ug=Symbol.for("react.offscreen"),bh=Symbol.iterator;function Zs(e){return e===null||typeof e!="object"?null:(e=bh&&e[bh]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,Hl;function uo(e){if(Hl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Hl=t&&t[1]||""}return`
`+Hl+e}var Wl=!1;function Kl(e,t){if(!e||Wl)return"";Wl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Wl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?uo(e):""}function mj(e){switch(e.tag){case 5:return uo(e.type);case 16:return uo("Lazy");case 13:return uo("Suspense");case 19:return uo("SuspenseList");case 0:case 2:case 15:return e=Kl(e.type,!1),e;case 11:return e=Kl(e.type.render,!1),e;case 1:return e=Kl(e.type,!0),e;default:return""}}function Wc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ls:return"Fragment";case as:return"Portal";case Bc:return"Profiler";case wd:return"StrictMode";case Vc:return"Suspense";case Hc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cg:return(e.displayName||"Context")+".Consumer";case lg:return(e._context.displayName||"Context")+".Provider";case Sd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bd:return t=e.displayName||null,t!==null?t:Wc(e.type)||"Memo";case Hn:t=e._payload,e=e._init;try{return Wc(e(t))}catch{}}return null}function gj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wc(t);case 8:return t===wd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ir(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vj(e){var t=dg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gi(e){e._valueTracker||(e._valueTracker=vj(e))}function fg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ca(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Kc(e,t){var n=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function jh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ir(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hg(e,t){t=t.checked,t!=null&&yd(e,"checked",t,!1)}function Gc(e,t){hg(e,t);var n=ir(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?qc(e,t.type,n):t.hasOwnProperty("defaultValue")&&qc(e,t.type,ir(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _h(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function qc(e,t,n){(t!=="number"||ca(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fo=Array.isArray;function ys(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ir(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Jc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ch(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(fo(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ir(n)}}function pg(e,t){var n=ir(t.value),r=ir(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function kh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function mg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?mg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vi,gg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vi=vi||document.createElement("div"),vi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Oo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var So={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xj=["Webkit","ms","Moz","O"];Object.keys(So).forEach(function(e){xj.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),So[t]=So[e]})});function vg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||So.hasOwnProperty(e)&&So[e]?(""+t).trim():t+"px"}function xg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=vg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var yj=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xc(e,t){if(t){if(yj[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function Qc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zc=null;function jd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var eu=null,ws=null,Ss=null;function Nh(e){if(e=oi(e)){if(typeof eu!="function")throw Error(U(280));var t=e.stateNode;t&&(t=Xa(t),eu(e.stateNode,e.type,t))}}function yg(e){ws?Ss?Ss.push(e):Ss=[e]:ws=e}function wg(){if(ws){var e=ws,t=Ss;if(Ss=ws=null,Nh(e),t)for(e=0;e<t.length;e++)Nh(t[e])}}function Sg(e,t){return e(t)}function bg(){}var Gl=!1;function jg(e,t,n){if(Gl)return e(t,n);Gl=!0;try{return Sg(e,t,n)}finally{Gl=!1,(ws!==null||Ss!==null)&&(bg(),wg())}}function Do(e,t){var n=e.stateNode;if(n===null)return null;var r=Xa(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var tu=!1;if(kn)try{var eo={};Object.defineProperty(eo,"passive",{get:function(){tu=!0}}),window.addEventListener("test",eo,eo),window.removeEventListener("test",eo,eo)}catch{tu=!1}function wj(e,t,n,r,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var bo=!1,ua=null,da=!1,nu=null,Sj={onError:function(e){bo=!0,ua=e}};function bj(e,t,n,r,s,o,i,l,c){bo=!1,ua=null,wj.apply(Sj,arguments)}function jj(e,t,n,r,s,o,i,l,c){if(bj.apply(this,arguments),bo){if(bo){var u=ua;bo=!1,ua=null}else throw Error(U(198));da||(da=!0,nu=u)}}function Vr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function _g(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Eh(e){if(Vr(e)!==e)throw Error(U(188))}function _j(e){var t=e.alternate;if(!t){if(t=Vr(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Eh(s),e;if(o===r)return Eh(s),t;o=o.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function Cg(e){return e=_j(e),e!==null?kg(e):null}function kg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=kg(e);if(t!==null)return t;e=e.sibling}return null}var Ng=xt.unstable_scheduleCallback,Rh=xt.unstable_cancelCallback,Cj=xt.unstable_shouldYield,kj=xt.unstable_requestPaint,De=xt.unstable_now,Nj=xt.unstable_getCurrentPriorityLevel,_d=xt.unstable_ImmediatePriority,Eg=xt.unstable_UserBlockingPriority,fa=xt.unstable_NormalPriority,Ej=xt.unstable_LowPriority,Rg=xt.unstable_IdlePriority,Ga=null,ln=null;function Rj(e){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Ga,e,void 0,(e.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:Pj,Tj=Math.log,Aj=Math.LN2;function Pj(e){return e>>>=0,e===0?32:31-(Tj(e)/Aj|0)|0}var xi=64,yi=4194304;function ho(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ha(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=ho(l):(o&=i,o!==0&&(r=ho(o)))}else i=n&~s,i!==0?r=ho(i):o!==0&&(r=ho(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Wt(t),s=1<<n,r|=e[n],t&=~s;return r}function Ij(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oj(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Wt(o),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=Ij(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function ru(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tg(){var e=xi;return xi<<=1,!(xi&4194240)&&(xi=64),e}function ql(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ri(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wt(t),e[t]=n}function Dj(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Wt(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function Cd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Wt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ye=0;function Ag(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Pg,kd,Ig,Og,Dg,su=!1,wi=[],Xn=null,Qn=null,Zn=null,Mo=new Map,Lo=new Map,Kn=[],Mj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Th(e,t){switch(e){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":Mo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lo.delete(t.pointerId)}}function to(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=oi(t),t!==null&&kd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Lj(e,t,n,r,s){switch(t){case"focusin":return Xn=to(Xn,e,t,n,r,s),!0;case"dragenter":return Qn=to(Qn,e,t,n,r,s),!0;case"mouseover":return Zn=to(Zn,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Mo.set(o,to(Mo.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Lo.set(o,to(Lo.get(o)||null,e,t,n,r,s)),!0}return!1}function Mg(e){var t=jr(e.target);if(t!==null){var n=Vr(t);if(n!==null){if(t=n.tag,t===13){if(t=_g(n),t!==null){e.blockedOn=t,Dg(e.priority,function(){Ig(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ou(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Zc=r,n.target.dispatchEvent(r),Zc=null}else return t=oi(n),t!==null&&kd(t),e.blockedOn=n,!1;t.shift()}return!0}function Ah(e,t,n){Hi(e)&&n.delete(t)}function $j(){su=!1,Xn!==null&&Hi(Xn)&&(Xn=null),Qn!==null&&Hi(Qn)&&(Qn=null),Zn!==null&&Hi(Zn)&&(Zn=null),Mo.forEach(Ah),Lo.forEach(Ah)}function no(e,t){e.blockedOn===t&&(e.blockedOn=null,su||(su=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,$j)))}function $o(e){function t(s){return no(s,e)}if(0<wi.length){no(wi[0],e);for(var n=1;n<wi.length;n++){var r=wi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Xn!==null&&no(Xn,e),Qn!==null&&no(Qn,e),Zn!==null&&no(Zn,e),Mo.forEach(t),Lo.forEach(t),n=0;n<Kn.length;n++)r=Kn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Kn.length&&(n=Kn[0],n.blockedOn===null);)Mg(n),n.blockedOn===null&&Kn.shift()}var bs=Pn.ReactCurrentBatchConfig,pa=!0;function Fj(e,t,n,r){var s=ye,o=bs.transition;bs.transition=null;try{ye=1,Nd(e,t,n,r)}finally{ye=s,bs.transition=o}}function zj(e,t,n,r){var s=ye,o=bs.transition;bs.transition=null;try{ye=4,Nd(e,t,n,r)}finally{ye=s,bs.transition=o}}function Nd(e,t,n,r){if(pa){var s=ou(e,t,n,r);if(s===null)sc(e,t,r,ma,n),Th(e,r);else if(Lj(s,e,t,n,r))r.stopPropagation();else if(Th(e,r),t&4&&-1<Mj.indexOf(e)){for(;s!==null;){var o=oi(s);if(o!==null&&Pg(o),o=ou(e,t,n,r),o===null&&sc(e,t,r,ma,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else sc(e,t,r,null,n)}}var ma=null;function ou(e,t,n,r){if(ma=null,e=jd(r),e=jr(e),e!==null)if(t=Vr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=_g(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ma=e,null}function Lg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nj()){case _d:return 1;case Eg:return 4;case fa:case Ej:return 16;case Rg:return 536870912;default:return 16}default:return 16}}var Jn=null,Ed=null,Wi=null;function $g(){if(Wi)return Wi;var e,t=Ed,n=t.length,r,s="value"in Jn?Jn.value:Jn.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return Wi=s.slice(e,1<r?1-r:void 0)}function Ki(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Si(){return!0}function Ph(){return!1}function wt(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Si:Ph,this.isPropagationStopped=Ph,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),t}var Us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rd=wt(Us),si=Pe({},Us,{view:0,detail:0}),Uj=wt(si),Jl,Yl,ro,qa=Pe({},si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Td,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ro&&(ro&&e.type==="mousemove"?(Jl=e.screenX-ro.screenX,Yl=e.screenY-ro.screenY):Yl=Jl=0,ro=e),Jl)},movementY:function(e){return"movementY"in e?e.movementY:Yl}}),Ih=wt(qa),Bj=Pe({},qa,{dataTransfer:0}),Vj=wt(Bj),Hj=Pe({},si,{relatedTarget:0}),Xl=wt(Hj),Wj=Pe({},Us,{animationName:0,elapsedTime:0,pseudoElement:0}),Kj=wt(Wj),Gj=Pe({},Us,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qj=wt(Gj),Jj=Pe({},Us,{data:0}),Oh=wt(Jj),Yj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Qj[e])?!!t[e]:!1}function Td(){return Zj}var e_=Pe({},si,{key:function(e){if(e.key){var t=Yj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ki(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Td,charCode:function(e){return e.type==="keypress"?Ki(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ki(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),t_=wt(e_),n_=Pe({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dh=wt(n_),r_=Pe({},si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Td}),s_=wt(r_),o_=Pe({},Us,{propertyName:0,elapsedTime:0,pseudoElement:0}),i_=wt(o_),a_=Pe({},qa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),l_=wt(a_),c_=[9,13,27,32],Ad=kn&&"CompositionEvent"in window,jo=null;kn&&"documentMode"in document&&(jo=document.documentMode);var u_=kn&&"TextEvent"in window&&!jo,Fg=kn&&(!Ad||jo&&8<jo&&11>=jo),Mh=" ",Lh=!1;function zg(e,t){switch(e){case"keyup":return c_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ug(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cs=!1;function d_(e,t){switch(e){case"compositionend":return Ug(t);case"keypress":return t.which!==32?null:(Lh=!0,Mh);case"textInput":return e=t.data,e===Mh&&Lh?null:e;default:return null}}function f_(e,t){if(cs)return e==="compositionend"||!Ad&&zg(e,t)?(e=$g(),Wi=Ed=Jn=null,cs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fg&&t.locale!=="ko"?null:t.data;default:return null}}var h_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $h(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!h_[e.type]:t==="textarea"}function Bg(e,t,n,r){yg(r),t=ga(t,"onChange"),0<t.length&&(n=new Rd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var _o=null,Fo=null;function p_(e){Zg(e,0)}function Ja(e){var t=fs(e);if(fg(t))return e}function m_(e,t){if(e==="change")return t}var Vg=!1;if(kn){var Ql;if(kn){var Zl="oninput"in document;if(!Zl){var Fh=document.createElement("div");Fh.setAttribute("oninput","return;"),Zl=typeof Fh.oninput=="function"}Ql=Zl}else Ql=!1;Vg=Ql&&(!document.documentMode||9<document.documentMode)}function zh(){_o&&(_o.detachEvent("onpropertychange",Hg),Fo=_o=null)}function Hg(e){if(e.propertyName==="value"&&Ja(Fo)){var t=[];Bg(t,Fo,e,jd(e)),jg(p_,t)}}function g_(e,t,n){e==="focusin"?(zh(),_o=t,Fo=n,_o.attachEvent("onpropertychange",Hg)):e==="focusout"&&zh()}function v_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ja(Fo)}function x_(e,t){if(e==="click")return Ja(t)}function y_(e,t){if(e==="input"||e==="change")return Ja(t)}function w_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gt=typeof Object.is=="function"?Object.is:w_;function zo(e,t){if(Gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Uc.call(t,s)||!Gt(e[s],t[s]))return!1}return!0}function Uh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bh(e,t){var n=Uh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uh(n)}}function Wg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Kg(){for(var e=window,t=ca();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ca(e.document)}return t}function Pd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function S_(e){var t=Kg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Wg(n.ownerDocument.documentElement,n)){if(r!==null&&Pd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Bh(n,o);var i=Bh(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var b_=kn&&"documentMode"in document&&11>=document.documentMode,us=null,iu=null,Co=null,au=!1;function Vh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;au||us==null||us!==ca(r)||(r=us,"selectionStart"in r&&Pd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Co&&zo(Co,r)||(Co=r,r=ga(iu,"onSelect"),0<r.length&&(t=new Rd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=us)))}function bi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ds={animationend:bi("Animation","AnimationEnd"),animationiteration:bi("Animation","AnimationIteration"),animationstart:bi("Animation","AnimationStart"),transitionend:bi("Transition","TransitionEnd")},ec={},Gg={};kn&&(Gg=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function Ya(e){if(ec[e])return ec[e];if(!ds[e])return e;var t=ds[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Gg)return ec[e]=t[n];return e}var qg=Ya("animationend"),Jg=Ya("animationiteration"),Yg=Ya("animationstart"),Xg=Ya("transitionend"),Qg=new Map,Hh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ur(e,t){Qg.set(e,t),Br(t,[e])}for(var tc=0;tc<Hh.length;tc++){var nc=Hh[tc],j_=nc.toLowerCase(),__=nc[0].toUpperCase()+nc.slice(1);ur(j_,"on"+__)}ur(qg,"onAnimationEnd");ur(Jg,"onAnimationIteration");ur(Yg,"onAnimationStart");ur("dblclick","onDoubleClick");ur("focusin","onFocus");ur("focusout","onBlur");ur(Xg,"onTransitionEnd");Ts("onMouseEnter",["mouseout","mouseover"]);Ts("onMouseLeave",["mouseout","mouseover"]);Ts("onPointerEnter",["pointerout","pointerover"]);Ts("onPointerLeave",["pointerout","pointerover"]);Br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Br("onBeforeInput",["compositionend","keypress","textInput","paste"]);Br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C_=new Set("cancel close invalid load scroll toggle".split(" ").concat(po));function Wh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,jj(r,t,void 0,e),e.currentTarget=null}function Zg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;Wh(s,l,u),o=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;Wh(s,l,u),o=c}}}if(da)throw e=nu,da=!1,nu=null,e}function Ce(e,t){var n=t[fu];n===void 0&&(n=t[fu]=new Set);var r=e+"__bubble";n.has(r)||(ev(t,e,2,!1),n.add(r))}function rc(e,t,n){var r=0;t&&(r|=4),ev(n,e,r,t)}var ji="_reactListening"+Math.random().toString(36).slice(2);function Uo(e){if(!e[ji]){e[ji]=!0,ag.forEach(function(n){n!=="selectionchange"&&(C_.has(n)||rc(n,!1,e),rc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ji]||(t[ji]=!0,rc("selectionchange",!1,t))}}function ev(e,t,n,r){switch(Lg(t)){case 1:var s=Fj;break;case 4:s=zj;break;default:s=Nd}n=s.bind(null,t,n,e),s=void 0,!tu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function sc(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=jr(l),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}l=l.parentNode}}r=r.return}jg(function(){var u=o,d=jd(n),f=[];e:{var p=Qg.get(e);if(p!==void 0){var x=Rd,S=e;switch(e){case"keypress":if(Ki(n)===0)break e;case"keydown":case"keyup":x=t_;break;case"focusin":S="focus",x=Xl;break;case"focusout":S="blur",x=Xl;break;case"beforeblur":case"afterblur":x=Xl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Ih;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Vj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=s_;break;case qg:case Jg:case Yg:x=Kj;break;case Xg:x=i_;break;case"scroll":x=Uj;break;case"wheel":x=l_;break;case"copy":case"cut":case"paste":x=qj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Dh}var y=(t&4)!==0,b=!y&&e==="scroll",v=y?p!==null?p+"Capture":null:p;y=[];for(var m=u,g;m!==null;){g=m;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,v!==null&&(w=Do(m,v),w!=null&&y.push(Bo(m,w,g)))),b)break;m=m.return}0<y.length&&(p=new x(p,S,null,n,d),f.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",p&&n!==Zc&&(S=n.relatedTarget||n.fromElement)&&(jr(S)||S[Nn]))break e;if((x||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,x?(S=n.relatedTarget||n.toElement,x=u,S=S?jr(S):null,S!==null&&(b=Vr(S),S!==b||S.tag!==5&&S.tag!==6)&&(S=null)):(x=null,S=u),x!==S)){if(y=Ih,w="onMouseLeave",v="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(y=Dh,w="onPointerLeave",v="onPointerEnter",m="pointer"),b=x==null?p:fs(x),g=S==null?p:fs(S),p=new y(w,m+"leave",x,n,d),p.target=b,p.relatedTarget=g,w=null,jr(d)===u&&(y=new y(v,m+"enter",S,n,d),y.target=g,y.relatedTarget=b,w=y),b=w,x&&S)t:{for(y=x,v=S,m=0,g=y;g;g=Yr(g))m++;for(g=0,w=v;w;w=Yr(w))g++;for(;0<m-g;)y=Yr(y),m--;for(;0<g-m;)v=Yr(v),g--;for(;m--;){if(y===v||v!==null&&y===v.alternate)break t;y=Yr(y),v=Yr(v)}y=null}else y=null;x!==null&&Kh(f,p,x,y,!1),S!==null&&b!==null&&Kh(f,b,S,y,!0)}}e:{if(p=u?fs(u):window,x=p.nodeName&&p.nodeName.toLowerCase(),x==="select"||x==="input"&&p.type==="file")var k=m_;else if($h(p))if(Vg)k=y_;else{k=v_;var j=g_}else(x=p.nodeName)&&x.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=x_);if(k&&(k=k(e,u))){Bg(f,k,n,d);break e}j&&j(e,p,u),e==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&qc(p,"number",p.value)}switch(j=u?fs(u):window,e){case"focusin":($h(j)||j.contentEditable==="true")&&(us=j,iu=u,Co=null);break;case"focusout":Co=iu=us=null;break;case"mousedown":au=!0;break;case"contextmenu":case"mouseup":case"dragend":au=!1,Vh(f,n,d);break;case"selectionchange":if(b_)break;case"keydown":case"keyup":Vh(f,n,d)}var C;if(Ad)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else cs?zg(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Fg&&n.locale!=="ko"&&(cs||_!=="onCompositionStart"?_==="onCompositionEnd"&&cs&&(C=$g()):(Jn=d,Ed="value"in Jn?Jn.value:Jn.textContent,cs=!0)),j=ga(u,_),0<j.length&&(_=new Oh(_,e,null,n,d),f.push({event:_,listeners:j}),C?_.data=C:(C=Ug(n),C!==null&&(_.data=C)))),(C=u_?d_(e,n):f_(e,n))&&(u=ga(u,"onBeforeInput"),0<u.length&&(d=new Oh("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=C))}Zg(f,t)})}function Bo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ga(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Do(e,n),o!=null&&r.unshift(Bo(e,o,s)),o=Do(e,t),o!=null&&r.push(Bo(e,o,s))),e=e.return}return r}function Yr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Kh(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Do(n,o),c!=null&&i.unshift(Bo(n,c,l))):s||(c=Do(n,o),c!=null&&i.push(Bo(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var k_=/\r\n?/g,N_=/\u0000|\uFFFD/g;function Gh(e){return(typeof e=="string"?e:""+e).replace(k_,`
`).replace(N_,"")}function _i(e,t,n){if(t=Gh(t),Gh(e)!==t&&n)throw Error(U(425))}function va(){}var lu=null,cu=null;function uu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var du=typeof setTimeout=="function"?setTimeout:void 0,E_=typeof clearTimeout=="function"?clearTimeout:void 0,qh=typeof Promise=="function"?Promise:void 0,R_=typeof queueMicrotask=="function"?queueMicrotask:typeof qh<"u"?function(e){return qh.resolve(null).then(e).catch(T_)}:du;function T_(e){setTimeout(function(){throw e})}function oc(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),$o(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);$o(t)}function er(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Jh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Bs=Math.random().toString(36).slice(2),nn="__reactFiber$"+Bs,Vo="__reactProps$"+Bs,Nn="__reactContainer$"+Bs,fu="__reactEvents$"+Bs,A_="__reactListeners$"+Bs,P_="__reactHandles$"+Bs;function jr(e){var t=e[nn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nn]||n[nn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Jh(e);e!==null;){if(n=e[nn])return n;e=Jh(e)}return t}e=n,n=e.parentNode}return null}function oi(e){return e=e[nn]||e[Nn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function Xa(e){return e[Vo]||null}var hu=[],hs=-1;function dr(e){return{current:e}}function ke(e){0>hs||(e.current=hu[hs],hu[hs]=null,hs--)}function je(e,t){hs++,hu[hs]=e.current,e.current=t}var ar={},Ze=dr(ar),ut=dr(!1),Ar=ar;function As(e,t){var n=e.type.contextTypes;if(!n)return ar;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function dt(e){return e=e.childContextTypes,e!=null}function xa(){ke(ut),ke(Ze)}function Yh(e,t,n){if(Ze.current!==ar)throw Error(U(168));je(Ze,t),je(ut,n)}function tv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(U(108,gj(e)||"Unknown",s));return Pe({},n,r)}function ya(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ar,Ar=Ze.current,je(Ze,e),je(ut,ut.current),!0}function Xh(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=tv(e,t,Ar),r.__reactInternalMemoizedMergedChildContext=e,ke(ut),ke(Ze),je(Ze,e)):ke(ut),je(ut,n)}var yn=null,Qa=!1,ic=!1;function nv(e){yn===null?yn=[e]:yn.push(e)}function I_(e){Qa=!0,nv(e)}function fr(){if(!ic&&yn!==null){ic=!0;var e=0,t=ye;try{var n=yn;for(ye=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}yn=null,Qa=!1}catch(s){throw yn!==null&&(yn=yn.slice(e+1)),Ng(_d,fr),s}finally{ye=t,ic=!1}}return null}var ps=[],ms=0,wa=null,Sa=0,_t=[],Ct=0,Pr=null,wn=1,Sn="";function yr(e,t){ps[ms++]=Sa,ps[ms++]=wa,wa=e,Sa=t}function rv(e,t,n){_t[Ct++]=wn,_t[Ct++]=Sn,_t[Ct++]=Pr,Pr=e;var r=wn;e=Sn;var s=32-Wt(r)-1;r&=~(1<<s),n+=1;var o=32-Wt(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,wn=1<<32-Wt(t)+s|n<<s|r,Sn=o+e}else wn=1<<o|n<<s|r,Sn=e}function Id(e){e.return!==null&&(yr(e,1),rv(e,1,0))}function Od(e){for(;e===wa;)wa=ps[--ms],ps[ms]=null,Sa=ps[--ms],ps[ms]=null;for(;e===Pr;)Pr=_t[--Ct],_t[Ct]=null,Sn=_t[--Ct],_t[Ct]=null,wn=_t[--Ct],_t[Ct]=null}var gt=null,mt=null,Ee=!1,Vt=null;function sv(e,t){var n=kt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Qh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gt=e,mt=er(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gt=e,mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Pr!==null?{id:wn,overflow:Sn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=kt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,gt=e,mt=null,!0):!1;default:return!1}}function pu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mu(e){if(Ee){var t=mt;if(t){var n=t;if(!Qh(e,t)){if(pu(e))throw Error(U(418));t=er(n.nextSibling);var r=gt;t&&Qh(e,t)?sv(r,n):(e.flags=e.flags&-4097|2,Ee=!1,gt=e)}}else{if(pu(e))throw Error(U(418));e.flags=e.flags&-4097|2,Ee=!1,gt=e}}}function Zh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gt=e}function Ci(e){if(e!==gt)return!1;if(!Ee)return Zh(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!uu(e.type,e.memoizedProps)),t&&(t=mt)){if(pu(e))throw ov(),Error(U(418));for(;t;)sv(e,t),t=er(t.nextSibling)}if(Zh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){mt=er(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}mt=null}}else mt=gt?er(e.stateNode.nextSibling):null;return!0}function ov(){for(var e=mt;e;)e=er(e.nextSibling)}function Ps(){mt=gt=null,Ee=!1}function Dd(e){Vt===null?Vt=[e]:Vt.push(e)}var O_=Pn.ReactCurrentBatchConfig;function so(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function ki(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ep(e){var t=e._init;return t(e._payload)}function iv(e){function t(v,m){if(e){var g=v.deletions;g===null?(v.deletions=[m],v.flags|=16):g.push(m)}}function n(v,m){if(!e)return null;for(;m!==null;)t(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function s(v,m){return v=sr(v,m),v.index=0,v.sibling=null,v}function o(v,m,g){return v.index=g,e?(g=v.alternate,g!==null?(g=g.index,g<m?(v.flags|=2,m):g):(v.flags|=2,m)):(v.flags|=1048576,m)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,m,g,w){return m===null||m.tag!==6?(m=hc(g,v.mode,w),m.return=v,m):(m=s(m,g),m.return=v,m)}function c(v,m,g,w){var k=g.type;return k===ls?d(v,m,g.props.children,w,g.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Hn&&ep(k)===m.type)?(w=s(m,g.props),w.ref=so(v,m,g),w.return=v,w):(w=Zi(g.type,g.key,g.props,null,v.mode,w),w.ref=so(v,m,g),w.return=v,w)}function u(v,m,g,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=pc(g,v.mode,w),m.return=v,m):(m=s(m,g.children||[]),m.return=v,m)}function d(v,m,g,w,k){return m===null||m.tag!==7?(m=Er(g,v.mode,w,k),m.return=v,m):(m=s(m,g),m.return=v,m)}function f(v,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=hc(""+m,v.mode,g),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case mi:return g=Zi(m.type,m.key,m.props,null,v.mode,g),g.ref=so(v,null,m),g.return=v,g;case as:return m=pc(m,v.mode,g),m.return=v,m;case Hn:var w=m._init;return f(v,w(m._payload),g)}if(fo(m)||Zs(m))return m=Er(m,v.mode,g,null),m.return=v,m;ki(v,m)}return null}function p(v,m,g,w){var k=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:l(v,m,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case mi:return g.key===k?c(v,m,g,w):null;case as:return g.key===k?u(v,m,g,w):null;case Hn:return k=g._init,p(v,m,k(g._payload),w)}if(fo(g)||Zs(g))return k!==null?null:d(v,m,g,w,null);ki(v,g)}return null}function x(v,m,g,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(g)||null,l(m,v,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case mi:return v=v.get(w.key===null?g:w.key)||null,c(m,v,w,k);case as:return v=v.get(w.key===null?g:w.key)||null,u(m,v,w,k);case Hn:var j=w._init;return x(v,m,g,j(w._payload),k)}if(fo(w)||Zs(w))return v=v.get(g)||null,d(m,v,w,k,null);ki(m,w)}return null}function S(v,m,g,w){for(var k=null,j=null,C=m,_=m=0,E=null;C!==null&&_<g.length;_++){C.index>_?(E=C,C=null):E=C.sibling;var R=p(v,C,g[_],w);if(R===null){C===null&&(C=E);break}e&&C&&R.alternate===null&&t(v,C),m=o(R,m,_),j===null?k=R:j.sibling=R,j=R,C=E}if(_===g.length)return n(v,C),Ee&&yr(v,_),k;if(C===null){for(;_<g.length;_++)C=f(v,g[_],w),C!==null&&(m=o(C,m,_),j===null?k=C:j.sibling=C,j=C);return Ee&&yr(v,_),k}for(C=r(v,C);_<g.length;_++)E=x(C,v,_,g[_],w),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?_:E.key),m=o(E,m,_),j===null?k=E:j.sibling=E,j=E);return e&&C.forEach(function(L){return t(v,L)}),Ee&&yr(v,_),k}function y(v,m,g,w){var k=Zs(g);if(typeof k!="function")throw Error(U(150));if(g=k.call(g),g==null)throw Error(U(151));for(var j=k=null,C=m,_=m=0,E=null,R=g.next();C!==null&&!R.done;_++,R=g.next()){C.index>_?(E=C,C=null):E=C.sibling;var L=p(v,C,R.value,w);if(L===null){C===null&&(C=E);break}e&&C&&L.alternate===null&&t(v,C),m=o(L,m,_),j===null?k=L:j.sibling=L,j=L,C=E}if(R.done)return n(v,C),Ee&&yr(v,_),k;if(C===null){for(;!R.done;_++,R=g.next())R=f(v,R.value,w),R!==null&&(m=o(R,m,_),j===null?k=R:j.sibling=R,j=R);return Ee&&yr(v,_),k}for(C=r(v,C);!R.done;_++,R=g.next())R=x(C,v,_,R.value,w),R!==null&&(e&&R.alternate!==null&&C.delete(R.key===null?_:R.key),m=o(R,m,_),j===null?k=R:j.sibling=R,j=R);return e&&C.forEach(function(M){return t(v,M)}),Ee&&yr(v,_),k}function b(v,m,g,w){if(typeof g=="object"&&g!==null&&g.type===ls&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case mi:e:{for(var k=g.key,j=m;j!==null;){if(j.key===k){if(k=g.type,k===ls){if(j.tag===7){n(v,j.sibling),m=s(j,g.props.children),m.return=v,v=m;break e}}else if(j.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Hn&&ep(k)===j.type){n(v,j.sibling),m=s(j,g.props),m.ref=so(v,j,g),m.return=v,v=m;break e}n(v,j);break}else t(v,j);j=j.sibling}g.type===ls?(m=Er(g.props.children,v.mode,w,g.key),m.return=v,v=m):(w=Zi(g.type,g.key,g.props,null,v.mode,w),w.ref=so(v,m,g),w.return=v,v=w)}return i(v);case as:e:{for(j=g.key;m!==null;){if(m.key===j)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(v,m.sibling),m=s(m,g.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else t(v,m);m=m.sibling}m=pc(g,v.mode,w),m.return=v,v=m}return i(v);case Hn:return j=g._init,b(v,m,j(g._payload),w)}if(fo(g))return S(v,m,g,w);if(Zs(g))return y(v,m,g,w);ki(v,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(n(v,m.sibling),m=s(m,g),m.return=v,v=m):(n(v,m),m=hc(g,v.mode,w),m.return=v,v=m),i(v)):n(v,m)}return b}var Is=iv(!0),av=iv(!1),ba=dr(null),ja=null,gs=null,Md=null;function Ld(){Md=gs=ja=null}function $d(e){var t=ba.current;ke(ba),e._currentValue=t}function gu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function js(e,t){ja=e,Md=gs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ct=!0),e.firstContext=null)}function At(e){var t=e._currentValue;if(Md!==e)if(e={context:e,memoizedValue:t,next:null},gs===null){if(ja===null)throw Error(U(308));gs=e,ja.dependencies={lanes:0,firstContext:e}}else gs=gs.next=e;return t}var _r=null;function Fd(e){_r===null?_r=[e]:_r.push(e)}function lv(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Fd(t)):(n.next=s.next,s.next=n),t.interleaved=n,En(e,r)}function En(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wn=!1;function zd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _n(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,En(e,n)}return s=r.interleaved,s===null?(t.next=t,Fd(r)):(t.next=s.next,s.next=t),r.interleaved=t,En(e,n)}function Gi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cd(e,n)}}function tp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function _a(e,t,n,r){var s=e.updateQueue;Wn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,l=o;do{var p=l.lane,x=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=e,y=l;switch(p=t,x=n,y.tag){case 1:if(S=y.payload,typeof S=="function"){f=S.call(x,f,p);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=y.payload,p=typeof S=="function"?S.call(x,f,p):S,p==null)break e;f=Pe({},f,p);break e;case 2:Wn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else x={eventTime:x,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=x,c=f):d=d.next=x,i|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Or|=i,e.lanes=i,e.memoizedState=f}}function np(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var ii={},cn=dr(ii),Ho=dr(ii),Wo=dr(ii);function Cr(e){if(e===ii)throw Error(U(174));return e}function Ud(e,t){switch(je(Wo,t),je(Ho,e),je(cn,ii),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yc(t,e)}ke(cn),je(cn,t)}function Os(){ke(cn),ke(Ho),ke(Wo)}function uv(e){Cr(Wo.current);var t=Cr(cn.current),n=Yc(t,e.type);t!==n&&(je(Ho,e),je(cn,n))}function Bd(e){Ho.current===e&&(ke(cn),ke(Ho))}var Te=dr(0);function Ca(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ac=[];function Vd(){for(var e=0;e<ac.length;e++)ac[e]._workInProgressVersionPrimary=null;ac.length=0}var qi=Pn.ReactCurrentDispatcher,lc=Pn.ReactCurrentBatchConfig,Ir=0,Ae=null,$e=null,Be=null,ka=!1,ko=!1,Ko=0,D_=0;function qe(){throw Error(U(321))}function Hd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gt(e[n],t[n]))return!1;return!0}function Wd(e,t,n,r,s,o){if(Ir=o,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qi.current=e===null||e.memoizedState===null?F_:z_,e=n(r,s),ko){o=0;do{if(ko=!1,Ko=0,25<=o)throw Error(U(301));o+=1,Be=$e=null,t.updateQueue=null,qi.current=U_,e=n(r,s)}while(ko)}if(qi.current=Na,t=$e!==null&&$e.next!==null,Ir=0,Be=$e=Ae=null,ka=!1,t)throw Error(U(300));return e}function Kd(){var e=Ko!==0;return Ko=0,e}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Ae.memoizedState=Be=e:Be=Be.next=e,Be}function Pt(){if($e===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=Be===null?Ae.memoizedState:Be.next;if(t!==null)Be=t,$e=e;else{if(e===null)throw Error(U(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Be===null?Ae.memoizedState=Be=e:Be=Be.next=e}return Be}function Go(e,t){return typeof t=="function"?t(e):t}function cc(e){var t=Pt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=$e,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((Ir&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,Ae.lanes|=d,Or|=d}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=l,Gt(r,t.memoizedState)||(ct=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Ae.lanes|=o,Or|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function uc(e){var t=Pt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Gt(o,t.memoizedState)||(ct=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function dv(){}function fv(e,t){var n=Ae,r=Pt(),s=t(),o=!Gt(r.memoizedState,s);if(o&&(r.memoizedState=s,ct=!0),r=r.queue,Gd(mv.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,qo(9,pv.bind(null,n,r,s,t),void 0,null),Ve===null)throw Error(U(349));Ir&30||hv(n,t,s)}return s}function hv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function pv(e,t,n,r){t.value=n,t.getSnapshot=r,gv(t)&&vv(e)}function mv(e,t,n){return n(function(){gv(t)&&vv(e)})}function gv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gt(e,n)}catch{return!0}}function vv(e){var t=En(e,1);t!==null&&Kt(t,e,1,-1)}function rp(e){var t=tn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:e},t.queue=e,e=e.dispatch=$_.bind(null,Ae,e),[t.memoizedState,e]}function qo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function xv(){return Pt().memoizedState}function Ji(e,t,n,r){var s=tn();Ae.flags|=e,s.memoizedState=qo(1|t,n,void 0,r===void 0?null:r)}function Za(e,t,n,r){var s=Pt();r=r===void 0?null:r;var o=void 0;if($e!==null){var i=$e.memoizedState;if(o=i.destroy,r!==null&&Hd(r,i.deps)){s.memoizedState=qo(t,n,o,r);return}}Ae.flags|=e,s.memoizedState=qo(1|t,n,o,r)}function sp(e,t){return Ji(8390656,8,e,t)}function Gd(e,t){return Za(2048,8,e,t)}function yv(e,t){return Za(4,2,e,t)}function wv(e,t){return Za(4,4,e,t)}function Sv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bv(e,t,n){return n=n!=null?n.concat([e]):null,Za(4,4,Sv.bind(null,t,e),n)}function qd(){}function jv(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _v(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Cv(e,t,n){return Ir&21?(Gt(n,t)||(n=Tg(),Ae.lanes|=n,Or|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ct=!0),e.memoizedState=n)}function M_(e,t){var n=ye;ye=n!==0&&4>n?n:4,e(!0);var r=lc.transition;lc.transition={};try{e(!1),t()}finally{ye=n,lc.transition=r}}function kv(){return Pt().memoizedState}function L_(e,t,n){var r=rr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Nv(e))Ev(t,n);else if(n=lv(e,t,n,r),n!==null){var s=nt();Kt(n,e,r,s),Rv(n,t,r)}}function $_(e,t,n){var r=rr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Nv(e))Ev(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,n);if(s.hasEagerState=!0,s.eagerState=l,Gt(l,i)){var c=t.interleaved;c===null?(s.next=s,Fd(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=lv(e,t,s,r),n!==null&&(s=nt(),Kt(n,e,r,s),Rv(n,t,r))}}function Nv(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function Ev(e,t){ko=ka=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Rv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cd(e,n)}}var Na={readContext:At,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useInsertionEffect:qe,useLayoutEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useMutableSource:qe,useSyncExternalStore:qe,useId:qe,unstable_isNewReconciler:!1},F_={readContext:At,useCallback:function(e,t){return tn().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:sp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ji(4194308,4,Sv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ji(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ji(4,2,e,t)},useMemo:function(e,t){var n=tn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=tn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=L_.bind(null,Ae,e),[r.memoizedState,e]},useRef:function(e){var t=tn();return e={current:e},t.memoizedState=e},useState:rp,useDebugValue:qd,useDeferredValue:function(e){return tn().memoizedState=e},useTransition:function(){var e=rp(!1),t=e[0];return e=M_.bind(null,e[1]),tn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ae,s=tn();if(Ee){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),Ve===null)throw Error(U(349));Ir&30||hv(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,sp(mv.bind(null,r,o,e),[e]),r.flags|=2048,qo(9,pv.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=tn(),t=Ve.identifierPrefix;if(Ee){var n=Sn,r=wn;n=(r&~(1<<32-Wt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ko++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=D_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},z_={readContext:At,useCallback:jv,useContext:At,useEffect:Gd,useImperativeHandle:bv,useInsertionEffect:yv,useLayoutEffect:wv,useMemo:_v,useReducer:cc,useRef:xv,useState:function(){return cc(Go)},useDebugValue:qd,useDeferredValue:function(e){var t=Pt();return Cv(t,$e.memoizedState,e)},useTransition:function(){var e=cc(Go)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:dv,useSyncExternalStore:fv,useId:kv,unstable_isNewReconciler:!1},U_={readContext:At,useCallback:jv,useContext:At,useEffect:Gd,useImperativeHandle:bv,useInsertionEffect:yv,useLayoutEffect:wv,useMemo:_v,useReducer:uc,useRef:xv,useState:function(){return uc(Go)},useDebugValue:qd,useDeferredValue:function(e){var t=Pt();return $e===null?t.memoizedState=e:Cv(t,$e.memoizedState,e)},useTransition:function(){var e=uc(Go)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:dv,useSyncExternalStore:fv,useId:kv,unstable_isNewReconciler:!1};function zt(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function vu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var el={isMounted:function(e){return(e=e._reactInternals)?Vr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nt(),s=rr(e),o=_n(r,s);o.payload=t,n!=null&&(o.callback=n),t=tr(e,o,s),t!==null&&(Kt(t,e,s,r),Gi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nt(),s=rr(e),o=_n(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=tr(e,o,s),t!==null&&(Kt(t,e,s,r),Gi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nt(),r=rr(e),s=_n(n,r);s.tag=2,t!=null&&(s.callback=t),t=tr(e,s,r),t!==null&&(Kt(t,e,r,n),Gi(t,e,r))}};function op(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!zo(n,r)||!zo(s,o):!0}function Tv(e,t,n){var r=!1,s=ar,o=t.contextType;return typeof o=="object"&&o!==null?o=At(o):(s=dt(t)?Ar:Ze.current,r=t.contextTypes,o=(r=r!=null)?As(e,s):ar),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=el,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function ip(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&el.enqueueReplaceState(t,t.state,null)}function xu(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},zd(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=At(o):(o=dt(t)?Ar:Ze.current,s.context=As(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(vu(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&el.enqueueReplaceState(s,s.state,null),_a(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ds(e,t){try{var n="",r=t;do n+=mj(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function dc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function yu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var B_=typeof WeakMap=="function"?WeakMap:Map;function Av(e,t,n){n=_n(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ra||(Ra=!0,Ru=r),yu(e,t)},n}function Pv(e,t,n){n=_n(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){yu(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){yu(e,t),typeof r!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function ap(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new B_;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=n1.bind(null,e,t,n),t.then(e,e))}function lp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cp(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_n(-1,1),t.tag=2,tr(n,t,1))),n.lanes|=1),e)}var V_=Pn.ReactCurrentOwner,ct=!1;function tt(e,t,n,r){t.child=e===null?av(t,null,n,r):Is(t,e.child,n,r)}function up(e,t,n,r,s){n=n.render;var o=t.ref;return js(t,s),r=Wd(e,t,n,r,o,s),n=Kd(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rn(e,t,s)):(Ee&&n&&Id(t),t.flags|=1,tt(e,t,r,s),t.child)}function dp(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!nf(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Iv(e,t,o,r,s)):(e=Zi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:zo,n(i,r)&&e.ref===t.ref)return Rn(e,t,s)}return t.flags|=1,e=sr(o,r),e.ref=t.ref,e.return=t,t.child=e}function Iv(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(zo(o,r)&&e.ref===t.ref)if(ct=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(ct=!0);else return t.lanes=e.lanes,Rn(e,t,s)}return wu(e,t,n,r,s)}function Ov(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(xs,ht),ht|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(xs,ht),ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,je(xs,ht),ht|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,je(xs,ht),ht|=r;return tt(e,t,s,n),t.child}function Dv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function wu(e,t,n,r,s){var o=dt(n)?Ar:Ze.current;return o=As(t,o),js(t,s),n=Wd(e,t,n,r,o,s),r=Kd(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rn(e,t,s)):(Ee&&r&&Id(t),t.flags|=1,tt(e,t,n,s),t.child)}function fp(e,t,n,r,s){if(dt(n)){var o=!0;ya(t)}else o=!1;if(js(t,s),t.stateNode===null)Yi(e,t),Tv(t,n,r),xu(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=At(u):(u=dt(n)?Ar:Ze.current,u=As(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&ip(t,i,r,u),Wn=!1;var p=t.memoizedState;i.state=p,_a(t,r,i,s),c=t.memoizedState,l!==r||p!==c||ut.current||Wn?(typeof d=="function"&&(vu(t,n,d,r),c=t.memoizedState),(l=Wn||op(t,n,l,r,p,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,cv(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:zt(t.type,l),i.props=u,f=t.pendingProps,p=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=At(c):(c=dt(n)?Ar:Ze.current,c=As(t,c));var x=n.getDerivedStateFromProps;(d=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||p!==c)&&ip(t,i,r,c),Wn=!1,p=t.memoizedState,i.state=p,_a(t,r,i,s);var S=t.memoizedState;l!==f||p!==S||ut.current||Wn?(typeof x=="function"&&(vu(t,n,x,r),S=t.memoizedState),(u=Wn||op(t,n,u,r,p,S,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,S,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,S,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),i.props=r,i.state=S,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Su(e,t,n,r,o,s)}function Su(e,t,n,r,s,o){Dv(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Xh(t,n,!1),Rn(e,t,o);r=t.stateNode,V_.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Is(t,e.child,null,o),t.child=Is(t,null,l,o)):tt(e,t,l,o),t.memoizedState=r.state,s&&Xh(t,n,!0),t.child}function Mv(e){var t=e.stateNode;t.pendingContext?Yh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yh(e,t.context,!1),Ud(e,t.containerInfo)}function hp(e,t,n,r,s){return Ps(),Dd(s),t.flags|=256,tt(e,t,n,r),t.child}var bu={dehydrated:null,treeContext:null,retryLane:0};function ju(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lv(e,t,n){var r=t.pendingProps,s=Te.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),je(Te,s&1),e===null)return mu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=rl(i,r,0,null),e=Er(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ju(n),t.memoizedState=bu,e):Jd(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return H_(e,t,i,r,l,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=sr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=sr(l,o):(o=Er(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?ju(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=bu,r}return o=e.child,e=o.sibling,r=sr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Jd(e,t){return t=rl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ni(e,t,n,r){return r!==null&&Dd(r),Is(t,e.child,null,n),e=Jd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function H_(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=dc(Error(U(422))),Ni(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=rl({mode:"visible",children:r.children},s,0,null),o=Er(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Is(t,e.child,null,i),t.child.memoizedState=ju(i),t.memoizedState=bu,o);if(!(t.mode&1))return Ni(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(U(419)),r=dc(o,r,void 0),Ni(e,t,i,r)}if(l=(i&e.childLanes)!==0,ct||l){if(r=Ve,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,En(e,s),Kt(r,e,s,-1))}return tf(),r=dc(Error(U(421))),Ni(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=r1.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,mt=er(s.nextSibling),gt=t,Ee=!0,Vt=null,e!==null&&(_t[Ct++]=wn,_t[Ct++]=Sn,_t[Ct++]=Pr,wn=e.id,Sn=e.overflow,Pr=t),t=Jd(t,r.children),t.flags|=4096,t)}function pp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),gu(e.return,t,n)}function fc(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function $v(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(tt(e,t,r.children,n),r=Te.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pp(e,n,t);else if(e.tag===19)pp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(je(Te,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ca(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),fc(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ca(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}fc(t,!0,n,null,o);break;case"together":fc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Or|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=sr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=sr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function W_(e,t,n){switch(t.tag){case 3:Mv(t),Ps();break;case 5:uv(t);break;case 1:dt(t.type)&&ya(t);break;case 4:Ud(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;je(ba,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(je(Te,Te.current&1),t.flags|=128,null):n&t.child.childLanes?Lv(e,t,n):(je(Te,Te.current&1),e=Rn(e,t,n),e!==null?e.sibling:null);je(Te,Te.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return $v(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),je(Te,Te.current),r)break;return null;case 22:case 23:return t.lanes=0,Ov(e,t,n)}return Rn(e,t,n)}var Fv,_u,zv,Uv;Fv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_u=function(){};zv=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Cr(cn.current);var o=null;switch(n){case"input":s=Kc(e,s),r=Kc(e,r),o=[];break;case"select":s=Pe({},s,{value:void 0}),r=Pe({},r,{value:void 0}),o=[];break;case"textarea":s=Jc(e,s),r=Jc(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=va)}Xc(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Io.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Io.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ce("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Uv=function(e,t,n,r){n!==r&&(t.flags|=4)};function oo(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Je(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function K_(e,t,n){var r=t.pendingProps;switch(Od(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(t),null;case 1:return dt(t.type)&&xa(),Je(t),null;case 3:return r=t.stateNode,Os(),ke(ut),ke(Ze),Vd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ci(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vt!==null&&(Pu(Vt),Vt=null))),_u(e,t),Je(t),null;case 5:Bd(t);var s=Cr(Wo.current);if(n=t.type,e!==null&&t.stateNode!=null)zv(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return Je(t),null}if(e=Cr(cn.current),Ci(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[nn]=t,r[Vo]=o,e=(t.mode&1)!==0,n){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(s=0;s<po.length;s++)Ce(po[s],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":jh(r,o),Ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ce("invalid",r);break;case"textarea":Ch(r,o),Ce("invalid",r)}Xc(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&_i(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&_i(r.textContent,l,e),s=["children",""+l]):Io.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Ce("scroll",r)}switch(n){case"input":gi(r),_h(r,o,!0);break;case"textarea":gi(r),kh(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=va)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[nn]=t,e[Vo]=r,Fv(e,t,!1,!1),t.stateNode=e;e:{switch(i=Qc(n,r),n){case"dialog":Ce("cancel",e),Ce("close",e),s=r;break;case"iframe":case"object":case"embed":Ce("load",e),s=r;break;case"video":case"audio":for(s=0;s<po.length;s++)Ce(po[s],e);s=r;break;case"source":Ce("error",e),s=r;break;case"img":case"image":case"link":Ce("error",e),Ce("load",e),s=r;break;case"details":Ce("toggle",e),s=r;break;case"input":jh(e,r),s=Kc(e,r),Ce("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Pe({},r,{value:void 0}),Ce("invalid",e);break;case"textarea":Ch(e,r),s=Jc(e,r),Ce("invalid",e);break;default:s=r}Xc(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?xg(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&gg(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Oo(e,c):typeof c=="number"&&Oo(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Io.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ce("scroll",e):c!=null&&yd(e,o,c,i))}switch(n){case"input":gi(e),_h(e,r,!1);break;case"textarea":gi(e),kh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ir(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ys(e,!!r.multiple,o,!1):r.defaultValue!=null&&ys(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=va)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Je(t),null;case 6:if(e&&t.stateNode!=null)Uv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=Cr(Wo.current),Cr(cn.current),Ci(t)){if(r=t.stateNode,n=t.memoizedProps,r[nn]=t,(o=r.nodeValue!==n)&&(e=gt,e!==null))switch(e.tag){case 3:_i(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_i(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[nn]=t,t.stateNode=r}return Je(t),null;case 13:if(ke(Te),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&mt!==null&&t.mode&1&&!(t.flags&128))ov(),Ps(),t.flags|=98560,o=!1;else if(o=Ci(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(U(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[nn]=t}else Ps(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Je(t),o=!1}else Vt!==null&&(Pu(Vt),Vt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Te.current&1?Fe===0&&(Fe=3):tf())),t.updateQueue!==null&&(t.flags|=4),Je(t),null);case 4:return Os(),_u(e,t),e===null&&Uo(t.stateNode.containerInfo),Je(t),null;case 10:return $d(t.type._context),Je(t),null;case 17:return dt(t.type)&&xa(),Je(t),null;case 19:if(ke(Te),o=t.memoizedState,o===null)return Je(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)oo(o,!1);else{if(Fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ca(e),i!==null){for(t.flags|=128,oo(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return je(Te,Te.current&1|2),t.child}e=e.sibling}o.tail!==null&&De()>Ms&&(t.flags|=128,r=!0,oo(o,!1),t.lanes=4194304)}else{if(!r)if(e=Ca(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),oo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ee)return Je(t),null}else 2*De()-o.renderingStartTime>Ms&&n!==1073741824&&(t.flags|=128,r=!0,oo(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=De(),t.sibling=null,n=Te.current,je(Te,r?n&1|2:n&1),t):(Je(t),null);case 22:case 23:return ef(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ht&1073741824&&(Je(t),t.subtreeFlags&6&&(t.flags|=8192)):Je(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function G_(e,t){switch(Od(t),t.tag){case 1:return dt(t.type)&&xa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Os(),ke(ut),ke(Ze),Vd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Bd(t),null;case 13:if(ke(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Ps()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(Te),null;case 4:return Os(),null;case 10:return $d(t.type._context),null;case 22:case 23:return ef(),null;case 24:return null;default:return null}}var Ei=!1,Qe=!1,q_=typeof WeakSet=="function"?WeakSet:Set,re=null;function vs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Oe(e,t,r)}else n.current=null}function Cu(e,t,n){try{n()}catch(r){Oe(e,t,r)}}var mp=!1;function J_(e,t){if(lu=pa,e=Kg(),Pd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var x;f!==n||s!==0&&f.nodeType!==3||(l=i+s),f!==o||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(x=f.firstChild)!==null;)p=f,f=x;for(;;){if(f===e)break t;if(p===n&&++u===s&&(l=i),p===o&&++d===r&&(c=i),(x=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(cu={focusedElem:e,selectionRange:n},pa=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var y=S.memoizedProps,b=S.memoizedState,v=t.stateNode,m=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:zt(t.type,y),b);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(w){Oe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return S=mp,mp=!1,S}function No(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Cu(t,n,o)}s=s.next}while(s!==r)}}function tl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ku(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Bv(e){var t=e.alternate;t!==null&&(e.alternate=null,Bv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nn],delete t[Vo],delete t[fu],delete t[A_],delete t[P_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Vv(e){return e.tag===5||e.tag===3||e.tag===4}function gp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=va));else if(r!==4&&(e=e.child,e!==null))for(Nu(e,t,n),e=e.sibling;e!==null;)Nu(e,t,n),e=e.sibling}function Eu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Eu(e,t,n),e=e.sibling;e!==null;)Eu(e,t,n),e=e.sibling}var He=null,Ut=!1;function Ln(e,t,n){for(n=n.child;n!==null;)Hv(e,t,n),n=n.sibling}function Hv(e,t,n){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Ga,n)}catch{}switch(n.tag){case 5:Qe||vs(n,t);case 6:var r=He,s=Ut;He=null,Ln(e,t,n),He=r,Ut=s,He!==null&&(Ut?(e=He,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(Ut?(e=He,n=n.stateNode,e.nodeType===8?oc(e.parentNode,n):e.nodeType===1&&oc(e,n),$o(e)):oc(He,n.stateNode));break;case 4:r=He,s=Ut,He=n.stateNode.containerInfo,Ut=!0,Ln(e,t,n),He=r,Ut=s;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Cu(n,t,i),s=s.next}while(s!==r)}Ln(e,t,n);break;case 1:if(!Qe&&(vs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Oe(n,t,l)}Ln(e,t,n);break;case 21:Ln(e,t,n);break;case 22:n.mode&1?(Qe=(r=Qe)||n.memoizedState!==null,Ln(e,t,n),Qe=r):Ln(e,t,n);break;default:Ln(e,t,n)}}function vp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new q_),t.forEach(function(r){var s=s1.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Lt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:He=l.stateNode,Ut=!1;break e;case 3:He=l.stateNode.containerInfo,Ut=!0;break e;case 4:He=l.stateNode.containerInfo,Ut=!0;break e}l=l.return}if(He===null)throw Error(U(160));Hv(o,i,s),He=null,Ut=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Oe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Wv(t,e),t=t.sibling}function Wv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(t,e),Zt(e),r&4){try{No(3,e,e.return),tl(3,e)}catch(y){Oe(e,e.return,y)}try{No(5,e,e.return)}catch(y){Oe(e,e.return,y)}}break;case 1:Lt(t,e),Zt(e),r&512&&n!==null&&vs(n,n.return);break;case 5:if(Lt(t,e),Zt(e),r&512&&n!==null&&vs(n,n.return),e.flags&32){var s=e.stateNode;try{Oo(s,"")}catch(y){Oe(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&hg(s,o),Qc(l,i);var u=Qc(l,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?xg(s,f):d==="dangerouslySetInnerHTML"?gg(s,f):d==="children"?Oo(s,f):yd(s,d,f,u)}switch(l){case"input":Gc(s,o);break;case"textarea":pg(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var x=o.value;x!=null?ys(s,!!o.multiple,x,!1):p!==!!o.multiple&&(o.defaultValue!=null?ys(s,!!o.multiple,o.defaultValue,!0):ys(s,!!o.multiple,o.multiple?[]:"",!1))}s[Vo]=o}catch(y){Oe(e,e.return,y)}}break;case 6:if(Lt(t,e),Zt(e),r&4){if(e.stateNode===null)throw Error(U(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(y){Oe(e,e.return,y)}}break;case 3:if(Lt(t,e),Zt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$o(t.containerInfo)}catch(y){Oe(e,e.return,y)}break;case 4:Lt(t,e),Zt(e);break;case 13:Lt(t,e),Zt(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Qd=De())),r&4&&vp(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Qe=(u=Qe)||d,Lt(t,e),Qe=u):Lt(t,e),Zt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(re=e,d=e.child;d!==null;){for(f=re=d;re!==null;){switch(p=re,x=p.child,p.tag){case 0:case 11:case 14:case 15:No(4,p,p.return);break;case 1:vs(p,p.return);var S=p.stateNode;if(typeof S.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(y){Oe(r,n,y)}}break;case 5:vs(p,p.return);break;case 22:if(p.memoizedState!==null){yp(f);continue}}x!==null?(x.return=p,re=x):yp(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=vg("display",i))}catch(y){Oe(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Oe(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Lt(t,e),Zt(e),r&4&&vp(e);break;case 21:break;default:Lt(t,e),Zt(e)}}function Zt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Vv(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Oo(s,""),r.flags&=-33);var o=gp(e);Eu(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=gp(e);Nu(e,l,i);break;default:throw Error(U(161))}}catch(c){Oe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Y_(e,t,n){re=e,Kv(e)}function Kv(e,t,n){for(var r=(e.mode&1)!==0;re!==null;){var s=re,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Ei;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Qe;l=Ei;var u=Qe;if(Ei=i,(Qe=c)&&!u)for(re=s;re!==null;)i=re,c=i.child,i.tag===22&&i.memoizedState!==null?wp(s):c!==null?(c.return=i,re=c):wp(s);for(;o!==null;)re=o,Kv(o),o=o.sibling;re=s,Ei=l,Qe=u}xp(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,re=o):xp(e)}}function xp(e){for(;re!==null;){var t=re;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qe||tl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:zt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&np(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}np(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&$o(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Qe||t.flags&512&&ku(t)}catch(p){Oe(t,t.return,p)}}if(t===e){re=null;break}if(n=t.sibling,n!==null){n.return=t.return,re=n;break}re=t.return}}function yp(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var n=t.sibling;if(n!==null){n.return=t.return,re=n;break}re=t.return}}function wp(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{tl(4,t)}catch(c){Oe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Oe(t,s,c)}}var o=t.return;try{ku(t)}catch(c){Oe(t,o,c)}break;case 5:var i=t.return;try{ku(t)}catch(c){Oe(t,i,c)}}}catch(c){Oe(t,t.return,c)}if(t===e){re=null;break}var l=t.sibling;if(l!==null){l.return=t.return,re=l;break}re=t.return}}var X_=Math.ceil,Ea=Pn.ReactCurrentDispatcher,Yd=Pn.ReactCurrentOwner,Nt=Pn.ReactCurrentBatchConfig,me=0,Ve=null,Me=null,Ke=0,ht=0,xs=dr(0),Fe=0,Jo=null,Or=0,nl=0,Xd=0,Eo=null,at=null,Qd=0,Ms=1/0,gn=null,Ra=!1,Ru=null,nr=null,Ri=!1,Yn=null,Ta=0,Ro=0,Tu=null,Xi=-1,Qi=0;function nt(){return me&6?De():Xi!==-1?Xi:Xi=De()}function rr(e){return e.mode&1?me&2&&Ke!==0?Ke&-Ke:O_.transition!==null?(Qi===0&&(Qi=Tg()),Qi):(e=ye,e!==0||(e=window.event,e=e===void 0?16:Lg(e.type)),e):1}function Kt(e,t,n,r){if(50<Ro)throw Ro=0,Tu=null,Error(U(185));ri(e,n,r),(!(me&2)||e!==Ve)&&(e===Ve&&(!(me&2)&&(nl|=n),Fe===4&&Gn(e,Ke)),ft(e,r),n===1&&me===0&&!(t.mode&1)&&(Ms=De()+500,Qa&&fr()))}function ft(e,t){var n=e.callbackNode;Oj(e,t);var r=ha(e,e===Ve?Ke:0);if(r===0)n!==null&&Rh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Rh(n),t===1)e.tag===0?I_(Sp.bind(null,e)):nv(Sp.bind(null,e)),R_(function(){!(me&6)&&fr()}),n=null;else{switch(Ag(r)){case 1:n=_d;break;case 4:n=Eg;break;case 16:n=fa;break;case 536870912:n=Rg;break;default:n=fa}n=ex(n,Gv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Gv(e,t){if(Xi=-1,Qi=0,me&6)throw Error(U(327));var n=e.callbackNode;if(_s()&&e.callbackNode!==n)return null;var r=ha(e,e===Ve?Ke:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Aa(e,r);else{t=r;var s=me;me|=2;var o=Jv();(Ve!==e||Ke!==t)&&(gn=null,Ms=De()+500,Nr(e,t));do try{e1();break}catch(l){qv(e,l)}while(!0);Ld(),Ea.current=o,me=s,Me!==null?t=0:(Ve=null,Ke=0,t=Fe)}if(t!==0){if(t===2&&(s=ru(e),s!==0&&(r=s,t=Au(e,s))),t===1)throw n=Jo,Nr(e,0),Gn(e,r),ft(e,De()),n;if(t===6)Gn(e,r);else{if(s=e.current.alternate,!(r&30)&&!Q_(s)&&(t=Aa(e,r),t===2&&(o=ru(e),o!==0&&(r=o,t=Au(e,o))),t===1))throw n=Jo,Nr(e,0),Gn(e,r),ft(e,De()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:wr(e,at,gn);break;case 3:if(Gn(e,r),(r&130023424)===r&&(t=Qd+500-De(),10<t)){if(ha(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){nt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=du(wr.bind(null,e,at,gn),t);break}wr(e,at,gn);break;case 4:if(Gn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-Wt(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=De()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*X_(r/1960))-r,10<r){e.timeoutHandle=du(wr.bind(null,e,at,gn),r);break}wr(e,at,gn);break;case 5:wr(e,at,gn);break;default:throw Error(U(329))}}}return ft(e,De()),e.callbackNode===n?Gv.bind(null,e):null}function Au(e,t){var n=Eo;return e.current.memoizedState.isDehydrated&&(Nr(e,t).flags|=256),e=Aa(e,t),e!==2&&(t=at,at=n,t!==null&&Pu(t)),e}function Pu(e){at===null?at=e:at.push.apply(at,e)}function Q_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Gt(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gn(e,t){for(t&=~Xd,t&=~nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function Sp(e){if(me&6)throw Error(U(327));_s();var t=ha(e,0);if(!(t&1))return ft(e,De()),null;var n=Aa(e,t);if(e.tag!==0&&n===2){var r=ru(e);r!==0&&(t=r,n=Au(e,r))}if(n===1)throw n=Jo,Nr(e,0),Gn(e,t),ft(e,De()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wr(e,at,gn),ft(e,De()),null}function Zd(e,t){var n=me;me|=1;try{return e(t)}finally{me=n,me===0&&(Ms=De()+500,Qa&&fr())}}function Dr(e){Yn!==null&&Yn.tag===0&&!(me&6)&&_s();var t=me;me|=1;var n=Nt.transition,r=ye;try{if(Nt.transition=null,ye=1,e)return e()}finally{ye=r,Nt.transition=n,me=t,!(me&6)&&fr()}}function ef(){ht=xs.current,ke(xs)}function Nr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,E_(n)),Me!==null)for(n=Me.return;n!==null;){var r=n;switch(Od(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xa();break;case 3:Os(),ke(ut),ke(Ze),Vd();break;case 5:Bd(r);break;case 4:Os();break;case 13:ke(Te);break;case 19:ke(Te);break;case 10:$d(r.type._context);break;case 22:case 23:ef()}n=n.return}if(Ve=e,Me=e=sr(e.current,null),Ke=ht=t,Fe=0,Jo=null,Xd=nl=Or=0,at=Eo=null,_r!==null){for(t=0;t<_r.length;t++)if(n=_r[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}_r=null}return e}function qv(e,t){do{var n=Me;try{if(Ld(),qi.current=Na,ka){for(var r=Ae.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ka=!1}if(Ir=0,Be=$e=Ae=null,ko=!1,Ko=0,Yd.current=null,n===null||n.return===null){Fe=1,Jo=t,Me=null;break}e:{var o=e,i=n.return,l=n,c=t;if(t=Ke,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=lp(i);if(x!==null){x.flags&=-257,cp(x,i,l,o,t),x.mode&1&&ap(o,u,t),t=x,c=u;var S=t.updateQueue;if(S===null){var y=new Set;y.add(c),t.updateQueue=y}else S.add(c);break e}else{if(!(t&1)){ap(o,u,t),tf();break e}c=Error(U(426))}}else if(Ee&&l.mode&1){var b=lp(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),cp(b,i,l,o,t),Dd(Ds(c,l));break e}}o=c=Ds(c,l),Fe!==4&&(Fe=2),Eo===null?Eo=[o]:Eo.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=Av(o,c,t);tp(o,v);break e;case 1:l=c;var m=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(nr===null||!nr.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var w=Pv(o,l,t);tp(o,w);break e}}o=o.return}while(o!==null)}Xv(n)}catch(k){t=k,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(!0)}function Jv(){var e=Ea.current;return Ea.current=Na,e===null?Na:e}function tf(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),Ve===null||!(Or&268435455)&&!(nl&268435455)||Gn(Ve,Ke)}function Aa(e,t){var n=me;me|=2;var r=Jv();(Ve!==e||Ke!==t)&&(gn=null,Nr(e,t));do try{Z_();break}catch(s){qv(e,s)}while(!0);if(Ld(),me=n,Ea.current=r,Me!==null)throw Error(U(261));return Ve=null,Ke=0,Fe}function Z_(){for(;Me!==null;)Yv(Me)}function e1(){for(;Me!==null&&!Cj();)Yv(Me)}function Yv(e){var t=Zv(e.alternate,e,ht);e.memoizedProps=e.pendingProps,t===null?Xv(e):Me=t,Yd.current=null}function Xv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=G_(n,t),n!==null){n.flags&=32767,Me=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fe=6,Me=null;return}}else if(n=K_(n,t,ht),n!==null){Me=n;return}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);Fe===0&&(Fe=5)}function wr(e,t,n){var r=ye,s=Nt.transition;try{Nt.transition=null,ye=1,t1(e,t,n,r)}finally{Nt.transition=s,ye=r}return null}function t1(e,t,n,r){do _s();while(Yn!==null);if(me&6)throw Error(U(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Dj(e,o),e===Ve&&(Me=Ve=null,Ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ri||(Ri=!0,ex(fa,function(){return _s(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Nt.transition,Nt.transition=null;var i=ye;ye=1;var l=me;me|=4,Yd.current=null,J_(e,n),Wv(n,e),S_(cu),pa=!!lu,cu=lu=null,e.current=n,Y_(n),kj(),me=l,ye=i,Nt.transition=o}else e.current=n;if(Ri&&(Ri=!1,Yn=e,Ta=s),o=e.pendingLanes,o===0&&(nr=null),Rj(n.stateNode),ft(e,De()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ra)throw Ra=!1,e=Ru,Ru=null,e;return Ta&1&&e.tag!==0&&_s(),o=e.pendingLanes,o&1?e===Tu?Ro++:(Ro=0,Tu=e):Ro=0,fr(),null}function _s(){if(Yn!==null){var e=Ag(Ta),t=Nt.transition,n=ye;try{if(Nt.transition=null,ye=16>e?16:e,Yn===null)var r=!1;else{if(e=Yn,Yn=null,Ta=0,me&6)throw Error(U(331));var s=me;for(me|=4,re=e.current;re!==null;){var o=re,i=o.child;if(re.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(re=u;re!==null;){var d=re;switch(d.tag){case 0:case 11:case 15:No(8,d,o)}var f=d.child;if(f!==null)f.return=d,re=f;else for(;re!==null;){d=re;var p=d.sibling,x=d.return;if(Bv(d),d===u){re=null;break}if(p!==null){p.return=x,re=p;break}re=x}}}var S=o.alternate;if(S!==null){var y=S.child;if(y!==null){S.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}re=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,re=i;else e:for(;re!==null;){if(o=re,o.flags&2048)switch(o.tag){case 0:case 11:case 15:No(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,re=v;break e}re=o.return}}var m=e.current;for(re=m;re!==null;){i=re;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,re=g;else e:for(i=m;re!==null;){if(l=re,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:tl(9,l)}}catch(k){Oe(l,l.return,k)}if(l===i){re=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,re=w;break e}re=l.return}}if(me=s,fr(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Ga,e)}catch{}r=!0}return r}finally{ye=n,Nt.transition=t}}return!1}function bp(e,t,n){t=Ds(n,t),t=Av(e,t,1),e=tr(e,t,1),t=nt(),e!==null&&(ri(e,1,t),ft(e,t))}function Oe(e,t,n){if(e.tag===3)bp(e,e,n);else for(;t!==null;){if(t.tag===3){bp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nr===null||!nr.has(r))){e=Ds(n,e),e=Pv(t,e,1),t=tr(t,e,1),e=nt(),t!==null&&(ri(t,1,e),ft(t,e));break}}t=t.return}}function n1(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=nt(),e.pingedLanes|=e.suspendedLanes&n,Ve===e&&(Ke&n)===n&&(Fe===4||Fe===3&&(Ke&130023424)===Ke&&500>De()-Qd?Nr(e,0):Xd|=n),ft(e,t)}function Qv(e,t){t===0&&(e.mode&1?(t=yi,yi<<=1,!(yi&130023424)&&(yi=4194304)):t=1);var n=nt();e=En(e,t),e!==null&&(ri(e,t,n),ft(e,n))}function r1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Qv(e,n)}function s1(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),Qv(e,n)}var Zv;Zv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ut.current)ct=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ct=!1,W_(e,t,n);ct=!!(e.flags&131072)}else ct=!1,Ee&&t.flags&1048576&&rv(t,Sa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Yi(e,t),e=t.pendingProps;var s=As(t,Ze.current);js(t,n),s=Wd(null,t,r,e,s,n);var o=Kd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dt(r)?(o=!0,ya(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,zd(t),s.updater=el,t.stateNode=s,s._reactInternals=t,xu(t,r,e,n),t=Su(null,t,r,!0,o,n)):(t.tag=0,Ee&&o&&Id(t),tt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Yi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=i1(r),e=zt(r,e),s){case 0:t=wu(null,t,r,e,n);break e;case 1:t=fp(null,t,r,e,n);break e;case 11:t=up(null,t,r,e,n);break e;case 14:t=dp(null,t,r,zt(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:zt(r,s),wu(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:zt(r,s),fp(e,t,r,s,n);case 3:e:{if(Mv(t),e===null)throw Error(U(387));r=t.pendingProps,o=t.memoizedState,s=o.element,cv(e,t),_a(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Ds(Error(U(423)),t),t=hp(e,t,r,n,s);break e}else if(r!==s){s=Ds(Error(U(424)),t),t=hp(e,t,r,n,s);break e}else for(mt=er(t.stateNode.containerInfo.firstChild),gt=t,Ee=!0,Vt=null,n=av(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ps(),r===s){t=Rn(e,t,n);break e}tt(e,t,r,n)}t=t.child}return t;case 5:return uv(t),e===null&&mu(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,uu(r,s)?i=null:o!==null&&uu(r,o)&&(t.flags|=32),Dv(e,t),tt(e,t,i,n),t.child;case 6:return e===null&&mu(t),null;case 13:return Lv(e,t,n);case 4:return Ud(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Is(t,null,r,n):tt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:zt(r,s),up(e,t,r,s,n);case 7:return tt(e,t,t.pendingProps,n),t.child;case 8:return tt(e,t,t.pendingProps.children,n),t.child;case 12:return tt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,je(ba,r._currentValue),r._currentValue=i,o!==null)if(Gt(o.value,i)){if(o.children===s.children&&!ut.current){t=Rn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=_n(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),gu(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(U(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),gu(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}tt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,js(t,n),s=At(s),r=r(s),t.flags|=1,tt(e,t,r,n),t.child;case 14:return r=t.type,s=zt(r,t.pendingProps),s=zt(r.type,s),dp(e,t,r,s,n);case 15:return Iv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:zt(r,s),Yi(e,t),t.tag=1,dt(r)?(e=!0,ya(t)):e=!1,js(t,n),Tv(t,r,s),xu(t,r,s,n),Su(null,t,r,!0,e,n);case 19:return $v(e,t,n);case 22:return Ov(e,t,n)}throw Error(U(156,t.tag))};function ex(e,t){return Ng(e,t)}function o1(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,n,r){return new o1(e,t,n,r)}function nf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function i1(e){if(typeof e=="function")return nf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sd)return 11;if(e===bd)return 14}return 2}function sr(e,t){var n=e.alternate;return n===null?(n=kt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zi(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")nf(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ls:return Er(n.children,s,o,t);case wd:i=8,s|=8;break;case Bc:return e=kt(12,n,t,s|2),e.elementType=Bc,e.lanes=o,e;case Vc:return e=kt(13,n,t,s),e.elementType=Vc,e.lanes=o,e;case Hc:return e=kt(19,n,t,s),e.elementType=Hc,e.lanes=o,e;case ug:return rl(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lg:i=10;break e;case cg:i=9;break e;case Sd:i=11;break e;case bd:i=14;break e;case Hn:i=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=kt(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Er(e,t,n,r){return e=kt(7,e,r,t),e.lanes=n,e}function rl(e,t,n,r){return e=kt(22,e,r,t),e.elementType=ug,e.lanes=n,e.stateNode={isHidden:!1},e}function hc(e,t,n){return e=kt(6,e,null,t),e.lanes=n,e}function pc(e,t,n){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function a1(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ql(0),this.expirationTimes=ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ql(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function rf(e,t,n,r,s,o,i,l,c){return e=new a1(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=kt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zd(o),e}function l1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:as,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function tx(e){if(!e)return ar;e=e._reactInternals;e:{if(Vr(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(dt(n))return tv(e,n,t)}return t}function nx(e,t,n,r,s,o,i,l,c){return e=rf(n,r,!0,e,s,o,i,l,c),e.context=tx(null),n=e.current,r=nt(),s=rr(n),o=_n(r,s),o.callback=t??null,tr(n,o,s),e.current.lanes=s,ri(e,s,r),ft(e,r),e}function sl(e,t,n,r){var s=t.current,o=nt(),i=rr(s);return n=tx(n),t.context===null?t.context=n:t.pendingContext=n,t=_n(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=tr(s,t,i),e!==null&&(Kt(e,s,i,o),Gi(e,s,i)),i}function Pa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function sf(e,t){jp(e,t),(e=e.alternate)&&jp(e,t)}function c1(){return null}var rx=typeof reportError=="function"?reportError:function(e){console.error(e)};function of(e){this._internalRoot=e}ol.prototype.render=of.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));sl(e,t,null,null)};ol.prototype.unmount=of.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dr(function(){sl(null,e,null,null)}),t[Nn]=null}};function ol(e){this._internalRoot=e}ol.prototype.unstable_scheduleHydration=function(e){if(e){var t=Og();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Kn.length&&t!==0&&t<Kn[n].priority;n++);Kn.splice(n,0,e),n===0&&Mg(e)}};function af(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function il(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _p(){}function u1(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Pa(i);o.call(u)}}var i=nx(t,r,e,0,null,!1,!1,"",_p);return e._reactRootContainer=i,e[Nn]=i.current,Uo(e.nodeType===8?e.parentNode:e),Dr(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Pa(c);l.call(u)}}var c=rf(e,0,!1,null,null,!1,!1,"",_p);return e._reactRootContainer=c,e[Nn]=c.current,Uo(e.nodeType===8?e.parentNode:e),Dr(function(){sl(t,c,n,r)}),c}function al(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=Pa(i);l.call(c)}}sl(t,i,e,s)}else i=u1(n,t,e,s,r);return Pa(i)}Pg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ho(t.pendingLanes);n!==0&&(Cd(t,n|1),ft(t,De()),!(me&6)&&(Ms=De()+500,fr()))}break;case 13:Dr(function(){var r=En(e,1);if(r!==null){var s=nt();Kt(r,e,1,s)}}),sf(e,1)}};kd=function(e){if(e.tag===13){var t=En(e,134217728);if(t!==null){var n=nt();Kt(t,e,134217728,n)}sf(e,134217728)}};Ig=function(e){if(e.tag===13){var t=rr(e),n=En(e,t);if(n!==null){var r=nt();Kt(n,e,t,r)}sf(e,t)}};Og=function(){return ye};Dg=function(e,t){var n=ye;try{return ye=e,t()}finally{ye=n}};eu=function(e,t,n){switch(t){case"input":if(Gc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Xa(r);if(!s)throw Error(U(90));fg(r),Gc(r,s)}}}break;case"textarea":pg(e,n);break;case"select":t=n.value,t!=null&&ys(e,!!n.multiple,t,!1)}};Sg=Zd;bg=Dr;var d1={usingClientEntryPoint:!1,Events:[oi,fs,Xa,yg,wg,Zd]},io={findFiberByHostInstance:jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},f1={bundleType:io.bundleType,version:io.version,rendererPackageName:io.rendererPackageName,rendererConfig:io.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cg(e),e===null?null:e.stateNode},findFiberByHostInstance:io.findFiberByHostInstance||c1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ti=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ti.isDisabled&&Ti.supportsFiber)try{Ga=Ti.inject(f1),ln=Ti}catch{}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d1;yt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!af(t))throw Error(U(200));return l1(e,t,null,n)};yt.createRoot=function(e,t){if(!af(e))throw Error(U(299));var n=!1,r="",s=rx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=rf(e,1,!1,null,null,n,!1,r,s),e[Nn]=t.current,Uo(e.nodeType===8?e.parentNode:e),new of(t)};yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=Cg(t),e=e===null?null:e.stateNode,e};yt.flushSync=function(e){return Dr(e)};yt.hydrate=function(e,t,n){if(!il(t))throw Error(U(200));return al(null,e,t,!0,n)};yt.hydrateRoot=function(e,t,n){if(!af(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=rx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=nx(t,null,e,1,n??null,s,!1,o,i),e[Nn]=t.current,Uo(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ol(t)};yt.render=function(e,t,n){if(!il(t))throw Error(U(200));return al(null,e,t,!1,n)};yt.unmountComponentAtNode=function(e){if(!il(e))throw Error(U(40));return e._reactRootContainer?(Dr(function(){al(null,null,e,!1,function(){e._reactRootContainer=null,e[Nn]=null})}),!0):!1};yt.unstable_batchedUpdates=Zd;yt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!il(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return al(e,t,n,!1,r)};yt.version="18.3.1-next-f1338f8080-20240426";function sx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sx)}catch(e){console.error(e)}}sx(),sg.exports=yt;var Vs=sg.exports;const h1=Wm(Vs);var ox,Cp=Vs;ox=Cp.createRoot,Cp.hydrateRoot;function kp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ll(...e){return t=>{let n=!1;const r=e.map(s=>{const o=kp(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():kp(e[s],null)}}}}function de(...e){return h.useCallback(ll(...e),e)}function Mr(e){const t=m1(e),n=h.forwardRef((r,s)=>{const{children:o,...i}=r,l=h.Children.toArray(o),c=l.find(v1);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...i,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return a.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var p1=Mr("Slot");function m1(e){const t=h.forwardRef((n,r)=>{const{children:s,...o}=n;if(h.isValidElement(s)){const i=y1(s),l=x1(o,s.props);return s.type!==h.Fragment&&(l.ref=r?ll(r,i):i),h.cloneElement(s,l)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ix=Symbol("radix.slottable");function g1(e){const t=({children:n})=>a.jsx(a.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=ix,t}function v1(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ix}function x1(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function y1(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ax(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=ax(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function lx(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=ax(e))&&(r&&(r+=" "),r+=t);return r}const Np=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ep=lx,cx=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Ep(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const p=Np(d)||Np(f);return s[u][p]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:p,...x}=d;return Object.entries(x).every(S=>{let[y,b]=S;return Array.isArray(b)?b.includes({...o,...l}[y]):{...o,...l}[y]===b})?[...u,f,p]:u},[]);return Ep(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)},lf="-",w1=e=>{const t=b1(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const l=i.split(lf);return l[0]===""&&l.length!==1&&l.shift(),ux(l,t)||S1(i)},getConflictingClassGroupIds:(i,l)=>{const c=n[i]||[];return l&&r[i]?[...c,...r[i]]:c}}},ux=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?ux(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(lf);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},Rp=/^\[(.+)\]$/,S1=e=>{if(Rp.test(e)){const t=Rp.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},b1=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return _1(Object.entries(e.classGroups),n).forEach(([o,i])=>{Iu(i,r,o,t)}),r},Iu=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:Tp(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(j1(s)){Iu(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{Iu(i,Tp(t,o),n,r)})})},Tp=(e,t)=>{let n=e;return t.split(lf).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},j1=e=>e.isThemeGetter,_1=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[n,s]}):e,C1=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},dx="!",k1=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let b=0;b<l.length;b++){let v=l[b];if(u===0){if(v===s&&(r||l.slice(b,b+o)===t)){c.push(l.slice(d,b)),d=b+o;continue}if(v==="/"){f=b;continue}}v==="["?u++:v==="]"&&u--}const p=c.length===0?l:l.substring(d),x=p.startsWith(dx),S=x?p.substring(1):p,y=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:S,maybePostfixModifierPosition:y}};return n?l=>n({className:l,parseClassName:i}):i},N1=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},E1=e=>({cache:C1(e.cacheSize),parseClassName:k1(e),...w1(e)}),R1=/\s+/,T1=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(R1);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:x}=n(u);let S=!!x,y=r(S?p.substring(0,x):p);if(!y){if(!S){l=u+(l.length>0?" "+l:l);continue}if(y=r(p),!y){l=u+(l.length>0?" "+l:l);continue}S=!1}const b=N1(d).join(":"),v=f?b+dx:b,m=v+y;if(o.includes(m))continue;o.push(m);const g=s(y,S);for(let w=0;w<g.length;++w){const k=g[w];o.push(v+k)}l=u+(l.length>0?" "+l:l)}return l};function A1(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=fx(t))&&(r&&(r+=" "),r+=n);return r}const fx=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=fx(e[r]))&&(n&&(n+=" "),n+=t);return n};function P1(e,...t){let n,r,s,o=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return n=E1(u),r=n.cache.get,s=n.cache.set,o=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=T1(c,n);return s(c,d),d}return function(){return o(A1.apply(null,arguments))}}const _e=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},hx=/^\[(?:([a-z-]+):)?(.+)\]$/i,I1=/^\d+\/\d+$/,O1=new Set(["px","full","screen"]),D1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,M1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,L1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,F1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pn=e=>Cs(e)||O1.has(e)||I1.test(e),$n=e=>Hs(e,"length",G1),Cs=e=>!!e&&!Number.isNaN(Number(e)),mc=e=>Hs(e,"number",Cs),ao=e=>!!e&&Number.isInteger(Number(e)),z1=e=>e.endsWith("%")&&Cs(e.slice(0,-1)),fe=e=>hx.test(e),Fn=e=>D1.test(e),U1=new Set(["length","size","percentage"]),B1=e=>Hs(e,U1,px),V1=e=>Hs(e,"position",px),H1=new Set(["image","url"]),W1=e=>Hs(e,H1,J1),K1=e=>Hs(e,"",q1),lo=()=>!0,Hs=(e,t,n)=>{const r=hx.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},G1=e=>M1.test(e)&&!L1.test(e),px=()=>!1,q1=e=>$1.test(e),J1=e=>F1.test(e),Y1=()=>{const e=_e("colors"),t=_e("spacing"),n=_e("blur"),r=_e("brightness"),s=_e("borderColor"),o=_e("borderRadius"),i=_e("borderSpacing"),l=_e("borderWidth"),c=_e("contrast"),u=_e("grayscale"),d=_e("hueRotate"),f=_e("invert"),p=_e("gap"),x=_e("gradientColorStops"),S=_e("gradientColorStopPositions"),y=_e("inset"),b=_e("margin"),v=_e("opacity"),m=_e("padding"),g=_e("saturate"),w=_e("scale"),k=_e("sepia"),j=_e("skew"),C=_e("space"),_=_e("translate"),E=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",fe,t],M=()=>[fe,t],A=()=>["",pn,$n],B=()=>["auto",Cs,fe],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],N=()=>["","0",fe],P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Cs,fe];return{cacheSize:500,separator:":",theme:{colors:[lo],spacing:[pn,$n],blur:["none","",Fn,fe],brightness:z(),borderColor:[e],borderRadius:["none","","full",Fn,fe],borderSpacing:M(),borderWidth:A(),contrast:z(),grayscale:N(),hueRotate:z(),invert:N(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[z1,$n],inset:L(),margin:L(),opacity:z(),padding:M(),saturate:z(),scale:z(),sepia:N(),skew:z(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",fe]}],container:["container"],columns:[{columns:[Fn]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),fe]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ao,fe]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fe]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",ao,fe]}],"grid-cols":[{"grid-cols":[lo]}],"col-start-end":[{col:["auto",{span:["full",ao,fe]},fe]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[lo]}],"row-start-end":[{row:["auto",{span:[ao,fe]},fe]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fe,t]}],"min-w":[{"min-w":[fe,t,"min","max","fit"]}],"max-w":[{"max-w":[fe,t,"none","full","min","max","fit","prose",{screen:[Fn]},Fn]}],h:[{h:[fe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Fn,$n]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",mc]}],"font-family":[{font:[lo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fe]}],"line-clamp":[{"line-clamp":["none",Cs,mc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pn,fe]}],"list-image":[{"list-image":["none",fe]}],"list-style-type":[{list:["none","disc","decimal",fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pn,$n]}],"underline-offset":[{"underline-offset":["auto",pn,fe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),V1]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",B1]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},W1]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:H()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[pn,fe]}],"outline-w":[{outline:[pn,$n]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[pn,$n]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Fn,K1]}],"shadow-color":[{shadow:[lo]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Fn,fe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[g]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fe]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",fe]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[ao,fe]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[pn,$n,mc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},X1=P1(Y1);function D(...e){return X1(lx(e))}function Q1(e){if(!e||e.length<4)return!1;let t=e.substring(1);if(t.length===3&&(t=t.split("").map(i=>i+i).join("")),t.length!==6)return!1;const n=parseInt(t.substring(0,2),16),r=parseInt(t.substring(2,4),16),s=parseInt(t.substring(4,6),16);return(n*299+r*587+s*114)/1e3<128}const cl=cx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",raise:"bg-action-raise text-white hover:bg-action-raise/90 shadow-lg",fold:"bg-action-fold text-white hover:bg-action-fold/90 shadow-lg",call:"bg-action-call text-white hover:bg-action-call/90 shadow-lg",poker:"bg-poker-green text-white hover:bg-poker-green/90 shadow-lg"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),J=h.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const i=r?p1:"button";return a.jsx(i,{className:D(cl({variant:t,size:n,className:e})),ref:o,...s})});J.displayName="Button";const Ap=({activeSection:e,onSectionChange:t,isMobile:n=!1,mobileActions:r})=>{const s=[{id:"editor",label:"Редактор"},{id:"training",label:"Тренировка"},{id:"chart",label:"Чарт"}];return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:D("flex items-center",n?"gap-0":"gap-1"),children:s.map(i=>a.jsx(J,{variant:e===i.id?"poker":"ghost",size:"sm",onClick:()=>t(i.id),className:D("transition-all duration-200",e===i.id&&"shadow-md"),children:i.label},i.id))}),n&&r]})};function Y(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Z1(e,t){const n=h.createContext(t),r=o=>{const{children:i,...l}=o,c=h.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(o){const i=h.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function et(e,t=[]){let n=[];function r(o,i){const l=h.createContext(i),c=n.length;n=[...n,i];const u=f=>{var v;const{scope:p,children:x,...S}=f,y=((v=p==null?void 0:p[e])==null?void 0:v[c])||l,b=h.useMemo(()=>S,Object.values(S));return a.jsx(y.Provider,{value:b,children:x})};u.displayName=o+"Provider";function d(f,p){var y;const x=((y=p==null?void 0:p[e])==null?void 0:y[c])||l,S=h.useContext(x);if(S)return S;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,eC(s,...t)]}function eC(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var Le=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},tC=ng[" useInsertionEffect ".trim().toString()]||Le;function It({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=nC({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const d=h.useRef(e!==void 0);h.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=h.useCallback(d=>{var f;if(l){const p=rC(d)?d(e):d;p!==e&&((f=i.current)==null||f.call(i,p))}else o(d)},[l,e,o,i]);return[c,u]}function nC({defaultProp:e,onChange:t}){const[n,r]=h.useState(e),s=h.useRef(n),o=h.useRef(t);return tC(()=>{o.current=t},[t]),h.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function rC(e){return typeof e=="function"}var sC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],se=sC.reduce((e,t)=>{const n=Mr(`Primitive.${t}`),r=h.forwardRef((s,o)=>{const{asChild:i,...l}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function mx(e,t){e&&Vs.flushSync(()=>e.dispatchEvent(t))}function ai(e){const t=e+"CollectionProvider",[n,r]=et(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=y=>{const{scope:b,children:v}=y,m=be.useRef(null),g=be.useRef(new Map).current;return a.jsx(s,{scope:b,itemMap:g,collectionRef:m,children:v})};i.displayName=t;const l=e+"CollectionSlot",c=Mr(l),u=be.forwardRef((y,b)=>{const{scope:v,children:m}=y,g=o(l,v),w=de(b,g.collectionRef);return a.jsx(c,{ref:w,children:m})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",p=Mr(d),x=be.forwardRef((y,b)=>{const{scope:v,children:m,...g}=y,w=be.useRef(null),k=de(b,w),j=o(d,v);return be.useEffect(()=>(j.itemMap.set(w,{ref:w,...g}),()=>void j.itemMap.delete(w))),a.jsx(p,{[f]:"",ref:k,children:m})});x.displayName=d;function S(y){const b=o(e+"CollectionConsumer",y);return be.useCallback(()=>{const m=b.collectionRef.current;if(!m)return[];const g=Array.from(m.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((j,C)=>g.indexOf(j.ref.current)-g.indexOf(C.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:u,ItemSlot:x},S,r]}var oC=h.createContext(void 0);function Hr(e){const t=h.useContext(oC);return e||t||"ltr"}function qt(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function iC(e,t=globalThis==null?void 0:globalThis.document){const n=qt(e);h.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var aC="DismissableLayer",Ou="dismissableLayer.update",lC="dismissableLayer.pointerDownOutside",cC="dismissableLayer.focusOutside",Pp,gx=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ul=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=h.useContext(gx),[d,f]=h.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=h.useState({}),S=de(t,C=>f(C)),y=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(b),m=d?y.indexOf(d):-1,g=u.layersWithOutsidePointerEventsDisabled.size>0,w=m>=v,k=fC(C=>{const _=C.target,E=[...u.branches].some(R=>R.contains(_));!w||E||(s==null||s(C),i==null||i(C),C.defaultPrevented||l==null||l())},p),j=hC(C=>{const _=C.target;[...u.branches].some(R=>R.contains(_))||(o==null||o(C),i==null||i(C),C.defaultPrevented||l==null||l())},p);return iC(C=>{m===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},p),h.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Pp=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Ip(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Pp)}},[d,p,n,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Ip())},[d,u]),h.useEffect(()=>{const C=()=>x({});return document.addEventListener(Ou,C),()=>document.removeEventListener(Ou,C)},[]),a.jsx(se.div,{...c,ref:S,style:{pointerEvents:g?w?"auto":"none":void 0,...e.style},onFocusCapture:Y(e.onFocusCapture,j.onFocusCapture),onBlurCapture:Y(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Y(e.onPointerDownCapture,k.onPointerDownCapture)})});ul.displayName=aC;var uC="DismissableLayerBranch",dC=h.forwardRef((e,t)=>{const n=h.useContext(gx),r=h.useRef(null),s=de(t,r);return h.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),a.jsx(se.div,{...e,ref:s})});dC.displayName=uC;function fC(e,t=globalThis==null?void 0:globalThis.document){const n=qt(e),r=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){vx(lC,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function hC(e,t=globalThis==null?void 0:globalThis.document){const n=qt(e),r=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!r.current&&vx(cC,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ip(){const e=new CustomEvent(Ou);document.dispatchEvent(e)}function vx(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?mx(s,o):s.dispatchEvent(o)}var gc=0;function cf(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Op()),document.body.insertAdjacentElement("beforeend",e[1]??Op()),gc++,()=>{gc===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),gc--}},[])}function Op(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var vc="focusScope.autoFocusOnMount",xc="focusScope.autoFocusOnUnmount",Dp={bubbles:!1,cancelable:!0},pC="FocusScope",dl=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=h.useState(null),u=qt(s),d=qt(o),f=h.useRef(null),p=de(t,y=>c(y)),x=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let y=function(g){if(x.paused||!l)return;const w=g.target;l.contains(w)?f.current=w:Un(f.current,{select:!0})},b=function(g){if(x.paused||!l)return;const w=g.relatedTarget;w!==null&&(l.contains(w)||Un(f.current,{select:!0}))},v=function(g){if(document.activeElement===document.body)for(const k of g)k.removedNodes.length>0&&Un(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const m=new MutationObserver(v);return l&&m.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),m.disconnect()}}},[r,l,x.paused]),h.useEffect(()=>{if(l){Lp.add(x);const y=document.activeElement;if(!l.contains(y)){const v=new CustomEvent(vc,Dp);l.addEventListener(vc,u),l.dispatchEvent(v),v.defaultPrevented||(mC(wC(xx(l)),{select:!0}),document.activeElement===y&&Un(l))}return()=>{l.removeEventListener(vc,u),setTimeout(()=>{const v=new CustomEvent(xc,Dp);l.addEventListener(xc,d),l.dispatchEvent(v),v.defaultPrevented||Un(y??document.body,{select:!0}),l.removeEventListener(xc,d),Lp.remove(x)},0)}}},[l,u,d,x]);const S=h.useCallback(y=>{if(!n&&!r||x.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,v=document.activeElement;if(b&&v){const m=y.currentTarget,[g,w]=gC(m);g&&w?!y.shiftKey&&v===w?(y.preventDefault(),n&&Un(g,{select:!0})):y.shiftKey&&v===g&&(y.preventDefault(),n&&Un(w,{select:!0})):v===m&&y.preventDefault()}},[n,r,x.paused]);return a.jsx(se.div,{tabIndex:-1,...i,ref:p,onKeyDown:S})});dl.displayName=pC;function mC(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Un(r,{select:t}),document.activeElement!==n)return}function gC(e){const t=xx(e),n=Mp(t,e),r=Mp(t.reverse(),e);return[n,r]}function xx(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Mp(e,t){for(const n of e)if(!vC(n,{upTo:t}))return n}function vC(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function xC(e){return e instanceof HTMLInputElement&&"select"in e}function Un(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&xC(e)&&t&&e.select()}}var Lp=yC();function yC(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=$p(e,t),e.unshift(t)},remove(t){var n;e=$p(e,t),(n=e[0])==null||n.resume()}}}function $p(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function wC(e){return e.filter(t=>t.tagName!=="A")}var SC=ng[" useId ".trim().toString()]||(()=>{}),bC=0;function Et(e){const[t,n]=h.useState(SC());return Le(()=>{n(r=>r??String(bC++))},[e]),t?`radix-${t}`:""}const jC=["top","right","bottom","left"],lr=Math.min,pt=Math.max,Ia=Math.round,Ai=Math.floor,un=e=>({x:e,y:e}),_C={left:"right",right:"left",bottom:"top",top:"bottom"},CC={start:"end",end:"start"};function Du(e,t,n){return pt(e,lr(t,n))}function Tn(e,t){return typeof e=="function"?e(t):e}function An(e){return e.split("-")[0]}function Ws(e){return e.split("-")[1]}function uf(e){return e==="x"?"y":"x"}function df(e){return e==="y"?"height":"width"}const kC=new Set(["top","bottom"]);function sn(e){return kC.has(An(e))?"y":"x"}function ff(e){return uf(sn(e))}function NC(e,t,n){n===void 0&&(n=!1);const r=Ws(e),s=ff(e),o=df(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Oa(i)),[i,Oa(i)]}function EC(e){const t=Oa(e);return[Mu(e),t,Mu(t)]}function Mu(e){return e.replace(/start|end/g,t=>CC[t])}const Fp=["left","right"],zp=["right","left"],RC=["top","bottom"],TC=["bottom","top"];function AC(e,t,n){switch(e){case"top":case"bottom":return n?t?zp:Fp:t?Fp:zp;case"left":case"right":return t?RC:TC;default:return[]}}function PC(e,t,n,r){const s=Ws(e);let o=AC(An(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Mu)))),o}function Oa(e){return e.replace(/left|right|bottom|top/g,t=>_C[t])}function IC(e){return{top:0,right:0,bottom:0,left:0,...e}}function yx(e){return typeof e!="number"?IC(e):{top:e,right:e,bottom:e,left:e}}function Da(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Up(e,t,n){let{reference:r,floating:s}=e;const o=sn(t),i=ff(t),l=df(i),c=An(t),u=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[l]/2-s[l]/2;let x;switch(c){case"top":x={x:d,y:r.y-s.height};break;case"bottom":x={x:d,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:f};break;case"left":x={x:r.x-s.width,y:f};break;default:x={x:r.x,y:r.y}}switch(Ws(t)){case"start":x[i]-=p*(n&&u?-1:1);break;case"end":x[i]+=p*(n&&u?-1:1);break}return x}const OC=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Up(u,r,c),p=r,x={},S=0;for(let y=0;y<l.length;y++){const{name:b,fn:v}=l[y],{x:m,y:g,data:w,reset:k}=await v({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:x,rects:u,platform:i,elements:{reference:e,floating:t}});d=m??d,f=g??f,x={...x,[b]:{...x[b],...w}},k&&S<=50&&(S++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(u=k.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):k.rects),{x:d,y:f}=Up(u,p,c)),y=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:x}};async function Yo(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:x=0}=Tn(t,e),S=yx(x),b=l[p?f==="floating"?"reference":"floating":f],v=Da(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),m=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,g=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),w=await(o.isElement==null?void 0:o.isElement(g))?await(o.getScale==null?void 0:o.getScale(g))||{x:1,y:1}:{x:1,y:1},k=Da(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:m,offsetParent:g,strategy:c}):m);return{top:(v.top-k.top+S.top)/w.y,bottom:(k.bottom-v.bottom+S.bottom)/w.y,left:(v.left-k.left+S.left)/w.x,right:(k.right-v.right+S.right)/w.x}}const DC=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Tn(e,t)||{};if(u==null)return{};const f=yx(d),p={x:n,y:r},x=ff(s),S=df(x),y=await i.getDimensions(u),b=x==="y",v=b?"top":"left",m=b?"bottom":"right",g=b?"clientHeight":"clientWidth",w=o.reference[S]+o.reference[x]-p[x]-o.floating[S],k=p[x]-o.reference[x],j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let C=j?j[g]:0;(!C||!await(i.isElement==null?void 0:i.isElement(j)))&&(C=l.floating[g]||o.floating[S]);const _=w/2-k/2,E=C/2-y[S]/2-1,R=lr(f[v],E),L=lr(f[m],E),M=R,A=C-y[S]-L,B=C/2-y[S]/2+_,K=Du(M,B,A),H=!c.arrow&&Ws(s)!=null&&B!==K&&o.reference[S]/2-(B<M?R:L)-y[S]/2<0,W=H?B<M?B-M:B-A:0;return{[x]:p[x]+W,data:{[x]:K,centerOffset:B-K-W,...H&&{alignmentOffset:W}},reset:H}}}),MC=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:y=!0,...b}=Tn(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=An(s),m=sn(l),g=An(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),k=p||(g||!y?[Oa(l)]:EC(l)),j=S!=="none";!p&&j&&k.push(...PC(l,y,S,w));const C=[l,...k],_=await Yo(t,b),E=[];let R=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&E.push(_[v]),f){const B=NC(s,i,w);E.push(_[B[0]],_[B[1]])}if(R=[...R,{placement:s,overflows:E}],!E.every(B=>B<=0)){var L,M;const B=(((L=o.flip)==null?void 0:L.index)||0)+1,K=C[B];if(K&&(!(f==="alignment"?m!==sn(K):!1)||R.every(T=>T.overflows[0]>0&&sn(T.placement)===m)))return{data:{index:B,overflows:R},reset:{placement:K}};let H=(M=R.filter(W=>W.overflows[0]<=0).sort((W,T)=>W.overflows[1]-T.overflows[1])[0])==null?void 0:M.placement;if(!H)switch(x){case"bestFit":{var A;const W=(A=R.filter(T=>{if(j){const N=sn(T.placement);return N===m||N==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(N=>N>0).reduce((N,P)=>N+P,0)]).sort((T,N)=>T[1]-N[1])[0])==null?void 0:A[0];W&&(H=W);break}case"initialPlacement":H=l;break}if(s!==H)return{reset:{placement:H}}}return{}}}};function Bp(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Vp(e){return jC.some(t=>e[t]>=0)}const LC=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Tn(e,t);switch(r){case"referenceHidden":{const o=await Yo(t,{...s,elementContext:"reference"}),i=Bp(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Vp(i)}}}case"escaped":{const o=await Yo(t,{...s,altBoundary:!0}),i=Bp(o,n.floating);return{data:{escapedOffsets:i,escaped:Vp(i)}}}default:return{}}}}},wx=new Set(["left","top"]);async function $C(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=An(n),l=Ws(n),c=sn(n)==="y",u=wx.has(i)?-1:1,d=o&&c?-1:1,f=Tn(t,e);let{mainAxis:p,crossAxis:x,alignmentAxis:S}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof S=="number"&&(x=l==="end"?S*-1:S),c?{x:x*d,y:p*u}:{x:p*u,y:x*d}}const FC=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await $C(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},zC=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x:v,y:m}=b;return{x:v,y:m}}},...c}=Tn(e,t),u={x:n,y:r},d=await Yo(t,c),f=sn(An(s)),p=uf(f);let x=u[p],S=u[f];if(o){const b=p==="y"?"top":"left",v=p==="y"?"bottom":"right",m=x+d[b],g=x-d[v];x=Du(m,x,g)}if(i){const b=f==="y"?"top":"left",v=f==="y"?"bottom":"right",m=S+d[b],g=S-d[v];S=Du(m,S,g)}const y=l.fn({...t,[p]:x,[f]:S});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:o,[f]:i}}}}}},UC=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Tn(e,t),d={x:n,y:r},f=sn(s),p=uf(f);let x=d[p],S=d[f];const y=Tn(l,t),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const g=p==="y"?"height":"width",w=o.reference[p]-o.floating[g]+b.mainAxis,k=o.reference[p]+o.reference[g]-b.mainAxis;x<w?x=w:x>k&&(x=k)}if(u){var v,m;const g=p==="y"?"width":"height",w=wx.has(An(s)),k=o.reference[f]-o.floating[g]+(w&&((v=i.offset)==null?void 0:v[f])||0)+(w?0:b.crossAxis),j=o.reference[f]+o.reference[g]+(w?0:((m=i.offset)==null?void 0:m[f])||0)-(w?b.crossAxis:0);S<k?S=k:S>j&&(S=j)}return{[p]:x,[f]:S}}}},BC=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=Tn(e,t),d=await Yo(t,u),f=An(s),p=Ws(s),x=sn(s)==="y",{width:S,height:y}=o.floating;let b,v;f==="top"||f==="bottom"?(b=f,v=p===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,b=p==="end"?"top":"bottom");const m=y-d.top-d.bottom,g=S-d.left-d.right,w=lr(y-d[b],m),k=lr(S-d[v],g),j=!t.middlewareData.shift;let C=w,_=k;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=g),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=m),j&&!p){const R=pt(d.left,0),L=pt(d.right,0),M=pt(d.top,0),A=pt(d.bottom,0);x?_=S-2*(R!==0||L!==0?R+L:pt(d.left,d.right)):C=y-2*(M!==0||A!==0?M+A:pt(d.top,d.bottom))}await c({...t,availableWidth:_,availableHeight:C});const E=await i.getDimensions(l.floating);return S!==E.width||y!==E.height?{reset:{rects:!0}}:{}}}};function fl(){return typeof window<"u"}function Ks(e){return Sx(e)?(e.nodeName||"").toLowerCase():"#document"}function vt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function hn(e){var t;return(t=(Sx(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Sx(e){return fl()?e instanceof Node||e instanceof vt(e).Node:!1}function Jt(e){return fl()?e instanceof Element||e instanceof vt(e).Element:!1}function dn(e){return fl()?e instanceof HTMLElement||e instanceof vt(e).HTMLElement:!1}function Hp(e){return!fl()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof vt(e).ShadowRoot}const VC=new Set(["inline","contents"]);function li(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Yt(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!VC.has(s)}const HC=new Set(["table","td","th"]);function WC(e){return HC.has(Ks(e))}const KC=[":popover-open",":modal"];function hl(e){return KC.some(t=>{try{return e.matches(t)}catch{return!1}})}const GC=["transform","translate","scale","rotate","perspective"],qC=["transform","translate","scale","rotate","perspective","filter"],JC=["paint","layout","strict","content"];function hf(e){const t=pf(),n=Jt(e)?Yt(e):e;return GC.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||qC.some(r=>(n.willChange||"").includes(r))||JC.some(r=>(n.contain||"").includes(r))}function YC(e){let t=cr(e);for(;dn(t)&&!Ls(t);){if(hf(t))return t;if(hl(t))return null;t=cr(t)}return null}function pf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const XC=new Set(["html","body","#document"]);function Ls(e){return XC.has(Ks(e))}function Yt(e){return vt(e).getComputedStyle(e)}function pl(e){return Jt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function cr(e){if(Ks(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Hp(e)&&e.host||hn(e);return Hp(t)?t.host:t}function bx(e){const t=cr(e);return Ls(t)?e.ownerDocument?e.ownerDocument.body:e.body:dn(t)&&li(t)?t:bx(t)}function Xo(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=bx(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=vt(s);if(o){const l=Lu(i);return t.concat(i,i.visualViewport||[],li(s)?s:[],l&&n?Xo(l):[])}return t.concat(s,Xo(s,[],n))}function Lu(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function jx(e){const t=Yt(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=dn(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,l=Ia(n)!==o||Ia(r)!==i;return l&&(n=o,r=i),{width:n,height:r,$:l}}function mf(e){return Jt(e)?e:e.contextElement}function ks(e){const t=mf(e);if(!dn(t))return un(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=jx(t);let i=(o?Ia(n.width):n.width)/r,l=(o?Ia(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const QC=un(0);function _x(e){const t=vt(e);return!pf()||!t.visualViewport?QC:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ZC(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==vt(e)?!1:t}function Lr(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=mf(e);let i=un(1);t&&(r?Jt(r)&&(i=ks(r)):i=ks(e));const l=ZC(o,n,r)?_x(o):un(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const p=vt(o),x=r&&Jt(r)?vt(r):r;let S=p,y=Lu(S);for(;y&&r&&x!==S;){const b=ks(y),v=y.getBoundingClientRect(),m=Yt(y),g=v.left+(y.clientLeft+parseFloat(m.paddingLeft))*b.x,w=v.top+(y.clientTop+parseFloat(m.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=g,u+=w,S=vt(y),y=Lu(S)}}return Da({width:d,height:f,x:c,y:u})}function gf(e,t){const n=pl(e).scrollLeft;return t?t.left+n:Lr(hn(e)).left+n}function Cx(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:gf(e,r)),o=r.top+t.scrollTop;return{x:s,y:o}}function ek(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=hn(r),l=t?hl(t.floating):!1;if(r===i||l&&o)return n;let c={scrollLeft:0,scrollTop:0},u=un(1);const d=un(0),f=dn(r);if((f||!f&&!o)&&((Ks(r)!=="body"||li(i))&&(c=pl(r)),dn(r))){const x=Lr(r);u=ks(r),d.x=x.x+r.clientLeft,d.y=x.y+r.clientTop}const p=i&&!f&&!o?Cx(i,c,!0):un(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-c.scrollTop*u.y+d.y+p.y}}function tk(e){return Array.from(e.getClientRects())}function nk(e){const t=hn(e),n=pl(e),r=e.ownerDocument.body,s=pt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=pt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+gf(e);const l=-n.scrollTop;return Yt(r).direction==="rtl"&&(i+=pt(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:l}}function rk(e,t){const n=vt(e),r=hn(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const u=pf();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}const sk=new Set(["absolute","fixed"]);function ok(e,t){const n=Lr(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=dn(e)?ks(e):un(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:i,height:l,x:c,y:u}}function Wp(e,t,n){let r;if(t==="viewport")r=rk(e,n);else if(t==="document")r=nk(hn(e));else if(Jt(t))r=ok(t,n);else{const s=_x(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Da(r)}function kx(e,t){const n=cr(e);return n===t||!Jt(n)||Ls(n)?!1:Yt(n).position==="fixed"||kx(n,t)}function ik(e,t){const n=t.get(e);if(n)return n;let r=Xo(e,[],!1).filter(l=>Jt(l)&&Ks(l)!=="body"),s=null;const o=Yt(e).position==="fixed";let i=o?cr(e):e;for(;Jt(i)&&!Ls(i);){const l=Yt(i),c=hf(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&sk.has(s.position)||li(i)&&!c&&kx(e,i))?r=r.filter(d=>d!==i):s=l,i=cr(i)}return t.set(e,r),r}function ak(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?hl(t)?[]:ik(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,d)=>{const f=Wp(t,d,s);return u.top=pt(f.top,u.top),u.right=lr(f.right,u.right),u.bottom=lr(f.bottom,u.bottom),u.left=pt(f.left,u.left),u},Wp(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function lk(e){const{width:t,height:n}=jx(e);return{width:t,height:n}}function ck(e,t,n){const r=dn(t),s=hn(t),o=n==="fixed",i=Lr(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=un(0);function u(){c.x=gf(s)}if(r||!r&&!o)if((Ks(t)!=="body"||li(s))&&(l=pl(t)),r){const x=Lr(t,!0,o,t);c.x=x.x+t.clientLeft,c.y=x.y+t.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?Cx(s,l):un(0),f=i.left+l.scrollLeft-c.x-d.x,p=i.top+l.scrollTop-c.y-d.y;return{x:f,y:p,width:i.width,height:i.height}}function yc(e){return Yt(e).position==="static"}function Kp(e,t){if(!dn(e)||Yt(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return hn(e)===n&&(n=n.ownerDocument.body),n}function Nx(e,t){const n=vt(e);if(hl(e))return n;if(!dn(e)){let s=cr(e);for(;s&&!Ls(s);){if(Jt(s)&&!yc(s))return s;s=cr(s)}return n}let r=Kp(e,t);for(;r&&WC(r)&&yc(r);)r=Kp(r,t);return r&&Ls(r)&&yc(r)&&!hf(r)?n:r||YC(e)||n}const uk=async function(e){const t=this.getOffsetParent||Nx,n=this.getDimensions,r=await n(e.floating);return{reference:ck(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function dk(e){return Yt(e).direction==="rtl"}const fk={convertOffsetParentRelativeRectToViewportRelativeRect:ek,getDocumentElement:hn,getClippingRect:ak,getOffsetParent:Nx,getElementRects:uk,getClientRects:tk,getDimensions:lk,getScale:ks,isElement:Jt,isRTL:dk};function Ex(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function hk(e,t){let n=null,r;const s=hn(e);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:p,height:x}=u;if(l||t(),!p||!x)return;const S=Ai(f),y=Ai(s.clientWidth-(d+p)),b=Ai(s.clientHeight-(f+x)),v=Ai(d),g={rootMargin:-S+"px "+-y+"px "+-b+"px "+-v+"px",threshold:pt(0,lr(1,c))||1};let w=!0;function k(j){const C=j[0].intersectionRatio;if(C!==c){if(!w)return i();C?i(!1,C):r=setTimeout(()=>{i(!1,1e-7)},1e3)}C===1&&!Ex(u,e.getBoundingClientRect())&&i(),w=!1}try{n=new IntersectionObserver(k,{...g,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,g)}n.observe(e)}return i(!0),o}function pk(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=mf(e),d=s||o?[...u?Xo(u):[],...Xo(t)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const f=u&&l?hk(u,n):null;let p=-1,x=null;i&&(x=new ResizeObserver(v=>{let[m]=v;m&&m.target===u&&x&&(x.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var g;(g=x)==null||g.observe(t)})),n()}),u&&!c&&x.observe(u),x.observe(t));let S,y=c?Lr(e):null;c&&b();function b(){const v=Lr(e);y&&!Ex(y,v)&&n(),y=v,S=requestAnimationFrame(b)}return n(),()=>{var v;d.forEach(m=>{s&&m.removeEventListener("scroll",n),o&&m.removeEventListener("resize",n)}),f==null||f(),(v=x)==null||v.disconnect(),x=null,c&&cancelAnimationFrame(S)}}const mk=FC,gk=zC,vk=MC,xk=BC,yk=LC,Gp=DC,wk=UC,Sk=(e,t,n)=>{const r=new Map,s={platform:fk,...n},o={...s.platform,_c:r};return OC(e,t,{...s,platform:o})};var bk=typeof document<"u",jk=function(){},ea=bk?h.useLayoutEffect:jk;function Ma(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ma(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!Ma(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Rx(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function qp(e,t){const n=Rx(e);return Math.round(t*n)/n}function wc(e){const t=h.useRef(e);return ea(()=>{t.current=e}),t}function _k(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,x]=h.useState(r);Ma(p,r)||x(r);const[S,y]=h.useState(null),[b,v]=h.useState(null),m=h.useCallback(T=>{T!==j.current&&(j.current=T,y(T))},[]),g=h.useCallback(T=>{T!==C.current&&(C.current=T,v(T))},[]),w=o||S,k=i||b,j=h.useRef(null),C=h.useRef(null),_=h.useRef(d),E=c!=null,R=wc(c),L=wc(s),M=wc(u),A=h.useCallback(()=>{if(!j.current||!C.current)return;const T={placement:t,strategy:n,middleware:p};L.current&&(T.platform=L.current),Sk(j.current,C.current,T).then(N=>{const P={...N,isPositioned:M.current!==!1};B.current&&!Ma(_.current,P)&&(_.current=P,Vs.flushSync(()=>{f(P)}))})},[p,t,n,L,M]);ea(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,f(T=>({...T,isPositioned:!1})))},[u]);const B=h.useRef(!1);ea(()=>(B.current=!0,()=>{B.current=!1}),[]),ea(()=>{if(w&&(j.current=w),k&&(C.current=k),w&&k){if(R.current)return R.current(w,k,A);A()}},[w,k,A,R,E]);const K=h.useMemo(()=>({reference:j,floating:C,setReference:m,setFloating:g}),[m,g]),H=h.useMemo(()=>({reference:w,floating:k}),[w,k]),W=h.useMemo(()=>{const T={position:n,left:0,top:0};if(!H.floating)return T;const N=qp(H.floating,d.x),P=qp(H.floating,d.y);return l?{...T,transform:"translate("+N+"px, "+P+"px)",...Rx(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:N,top:P}},[n,l,H.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:A,refs:K,elements:H,floatingStyles:W}),[d,A,K,H,W])}const Ck=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Gp({element:r.current,padding:s}).fn(n):{}:r?Gp({element:r,padding:s}).fn(n):{}}}},kk=(e,t)=>({...mk(e),options:[e,t]}),Nk=(e,t)=>({...gk(e),options:[e,t]}),Ek=(e,t)=>({...wk(e),options:[e,t]}),Rk=(e,t)=>({...vk(e),options:[e,t]}),Tk=(e,t)=>({...xk(e),options:[e,t]}),Ak=(e,t)=>({...yk(e),options:[e,t]}),Pk=(e,t)=>({...Ck(e),options:[e,t]});var Ik="Arrow",Tx=h.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return a.jsx(se.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});Tx.displayName=Ik;var Ok=Tx;function ml(e){const[t,n]=h.useState(void 0);return Le(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var vf="Popper",[Ax,gl]=et(vf),[Dk,Px]=Ax(vf),Ix=e=>{const{__scopePopper:t,children:n}=e,[r,s]=h.useState(null);return a.jsx(Dk,{scope:t,anchor:r,onAnchorChange:s,children:n})};Ix.displayName=vf;var Ox="PopperAnchor",Dx=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=Px(Ox,n),i=h.useRef(null),l=de(t,i);return h.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:a.jsx(se.div,{...s,ref:l})});Dx.displayName=Ox;var xf="PopperContent",[Mk,Lk]=Ax(xf),Mx=h.forwardRef((e,t)=>{var O,G,q,X,ee,ie;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:x="optimized",onPlaced:S,...y}=e,b=Px(xf,n),[v,m]=h.useState(null),g=de(t,Ie=>m(Ie)),[w,k]=h.useState(null),j=ml(w),C=(j==null?void 0:j.width)??0,_=(j==null?void 0:j.height)??0,E=r+(o!=="center"?"-"+o:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(u)?u:[u],M=L.length>0,A={padding:R,boundary:L.filter(Fk),altBoundary:M},{refs:B,floatingStyles:K,placement:H,isPositioned:W,middlewareData:T}=_k({strategy:"fixed",placement:E,whileElementsMounted:(...Ie)=>pk(...Ie,{animationFrame:x==="always"}),elements:{reference:b.anchor},middleware:[kk({mainAxis:s+_,alignmentAxis:i}),c&&Nk({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Ek():void 0,...A}),c&&Rk({...A}),Tk({...A,apply:({elements:Ie,rects:te,availableWidth:ce,availableHeight:Re})=>{const{width:$,height:ne}=te.reference,oe=Ie.floating.style;oe.setProperty("--radix-popper-available-width",`${ce}px`),oe.setProperty("--radix-popper-available-height",`${Re}px`),oe.setProperty("--radix-popper-anchor-width",`${$}px`),oe.setProperty("--radix-popper-anchor-height",`${ne}px`)}}),w&&Pk({element:w,padding:l}),zk({arrowWidth:C,arrowHeight:_}),p&&Ak({strategy:"referenceHidden",...A})]}),[N,P]=Fx(H),z=qt(S);Le(()=>{W&&(z==null||z())},[W,z]);const V=(O=T.arrow)==null?void 0:O.x,Q=(G=T.arrow)==null?void 0:G.y,Z=((q=T.arrow)==null?void 0:q.centerOffset)!==0,[we,I]=h.useState();return Le(()=>{v&&I(window.getComputedStyle(v).zIndex)},[v]),a.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:W?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:we,"--radix-popper-transform-origin":[(X=T.transformOrigin)==null?void 0:X.x,(ee=T.transformOrigin)==null?void 0:ee.y].join(" "),...((ie=T.hide)==null?void 0:ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(Mk,{scope:n,placedSide:N,onArrowChange:k,arrowX:V,arrowY:Q,shouldHideArrow:Z,children:a.jsx(se.div,{"data-side":N,"data-align":P,...y,ref:g,style:{...y.style,animation:W?void 0:"none"}})})})});Mx.displayName=xf;var Lx="PopperArrow",$k={top:"bottom",right:"left",bottom:"top",left:"right"},$x=h.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=Lk(Lx,r),i=$k[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(Ok,{...s,ref:n,style:{...s.style,display:"block"}})})});$x.displayName=Lx;function Fk(e){return e!==null}var zk=e=>({name:"transformOrigin",options:e,fn(t){var b,v,m;const{placement:n,rects:r,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=Fx(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((v=s.arrow)==null?void 0:v.x)??0)+l/2,x=(((m=s.arrow)==null?void 0:m.y)??0)+c/2;let S="",y="";return u==="bottom"?(S=i?f:`${p}px`,y=`${-c}px`):u==="top"?(S=i?f:`${p}px`,y=`${r.floating.height+c}px`):u==="right"?(S=`${-c}px`,y=i?f:`${x}px`):u==="left"&&(S=`${r.floating.width+c}px`,y=i?f:`${x}px`),{data:{x:S,y}}}});function Fx(e){const[t,n="center"]=e.split("-");return[t,n]}var zx=Ix,Ux=Dx,Bx=Mx,Vx=$x,Uk="Portal",vl=h.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,o]=h.useState(!1);Le(()=>o(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?h1.createPortal(a.jsx(se.div,{...r,ref:t}),i):null});vl.displayName=Uk;function Bk(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var Ot=e=>{const{present:t,children:n}=e,r=Vk(t),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),o=de(r.ref,Hk(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:o}):null};Ot.displayName="Presence";function Vk(e){const[t,n]=h.useState(),r=h.useRef(null),s=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[l,c]=Bk(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=Pi(r.current);o.current=l==="mounted"?u:"none"},[l]),Le(()=>{const u=r.current,d=s.current;if(d!==e){const p=o.current,x=Pi(u);e?c("MOUNT"):x==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==x?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Le(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=x=>{const y=Pi(r.current).includes(x.animationName);if(x.target===t&&y&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},p=x=>{x.target===t&&(o.current=Pi(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Pi(e){return(e==null?void 0:e.animationName)||"none"}function Hk(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Sc="rovingFocusGroup.onEntryFocus",Wk={bubbles:!1,cancelable:!0},ci="RovingFocusGroup",[$u,Hx,Kk]=ai(ci),[Gk,Gs]=et(ci,[Kk]),[qk,Jk]=Gk(ci),Wx=h.forwardRef((e,t)=>a.jsx($u.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx($u.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Yk,{...e,ref:t})})}));Wx.displayName=ci;var Yk=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,p=h.useRef(null),x=de(t,p),S=Hr(o),[y,b]=It({prop:i,defaultProp:l??null,onChange:c,caller:ci}),[v,m]=h.useState(!1),g=qt(u),w=Hx(n),k=h.useRef(!1),[j,C]=h.useState(0);return h.useEffect(()=>{const _=p.current;if(_)return _.addEventListener(Sc,g),()=>_.removeEventListener(Sc,g)},[g]),a.jsx(qk,{scope:n,orientation:r,dir:S,loop:s,currentTabStopId:y,onItemFocus:h.useCallback(_=>b(_),[b]),onItemShiftTab:h.useCallback(()=>m(!0),[]),onFocusableItemAdd:h.useCallback(()=>C(_=>_+1),[]),onFocusableItemRemove:h.useCallback(()=>C(_=>_-1),[]),children:a.jsx(se.div,{tabIndex:v||j===0?-1:0,"data-orientation":r,...f,ref:x,style:{outline:"none",...e.style},onMouseDown:Y(e.onMouseDown,()=>{k.current=!0}),onFocus:Y(e.onFocus,_=>{const E=!k.current;if(_.target===_.currentTarget&&E&&!v){const R=new CustomEvent(Sc,Wk);if(_.currentTarget.dispatchEvent(R),!R.defaultPrevented){const L=w().filter(H=>H.focusable),M=L.find(H=>H.active),A=L.find(H=>H.id===y),K=[M,A,...L].filter(Boolean).map(H=>H.ref.current);qx(K,d)}}k.current=!1}),onBlur:Y(e.onBlur,()=>m(!1))})})}),Kx="RovingFocusGroupItem",Gx=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...l}=e,c=Et(),u=o||c,d=Jk(Kx,n),f=d.currentTabStopId===u,p=Hx(n),{onFocusableItemAdd:x,onFocusableItemRemove:S,currentTabStopId:y}=d;return h.useEffect(()=>{if(r)return x(),()=>S()},[r,x,S]),a.jsx($u.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(se.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Y(e.onMouseDown,b=>{r?d.onItemFocus(u):b.preventDefault()}),onFocus:Y(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Y(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const v=Zk(b,d.orientation,d.dir);if(v!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let g=p().filter(w=>w.focusable).map(w=>w.ref.current);if(v==="last")g.reverse();else if(v==="prev"||v==="next"){v==="prev"&&g.reverse();const w=g.indexOf(b.currentTarget);g=d.loop?eN(g,w+1):g.slice(w+1)}setTimeout(()=>qx(g))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:y!=null}):i})})});Gx.displayName=Kx;var Xk={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Qk(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Zk(e,t,n){const r=Qk(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Xk[r]}function qx(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function eN(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var yf=Wx,wf=Gx,tN=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Xr=new WeakMap,Ii=new WeakMap,Oi={},bc=0,Jx=function(e){return e&&(e.host||Jx(e.parentNode))},nN=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Jx(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},rN=function(e,t,n,r){var s=nN(t,Array.isArray(e)?e:[e]);Oi[n]||(Oi[n]=new WeakMap);var o=Oi[n],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))d(p);else try{var x=p.getAttribute(r),S=x!==null&&x!=="false",y=(Xr.get(p)||0)+1,b=(o.get(p)||0)+1;Xr.set(p,y),o.set(p,b),i.push(p),y===1&&S&&Ii.set(p,!0),b===1&&p.setAttribute(n,"true"),S||p.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",p,v)}})};return d(t),l.clear(),bc++,function(){i.forEach(function(f){var p=Xr.get(f)-1,x=o.get(f)-1;Xr.set(f,p),o.set(f,x),p||(Ii.has(f)||f.removeAttribute(r),Ii.delete(f)),x||f.removeAttribute(n)}),bc--,bc||(Xr=new WeakMap,Xr=new WeakMap,Ii=new WeakMap,Oi={})}},Sf=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=tN(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),rN(r,s,n,"aria-hidden")):function(){return null}},rn=function(){return rn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},rn.apply(this,arguments)};function Yx(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function sN(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var ta="right-scroll-bar-position",na="width-before-scroll-bar",oN="with-scroll-bars-hidden",iN="--removed-body-scroll-bar-size";function jc(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function aN(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var lN=typeof window<"u"?h.useLayoutEffect:h.useEffect,Jp=new WeakMap;function cN(e,t){var n=aN(null,function(r){return e.forEach(function(s){return jc(s,r)})});return lN(function(){var r=Jp.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(l){o.has(l)||jc(l,null)}),o.forEach(function(l){s.has(l)||jc(l,i)})}Jp.set(n,e)},[e]),n}function uN(e){return e}function dN(e,t){t===void 0&&(t=uN);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(o),i=n}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function fN(e){e===void 0&&(e={});var t=dN(null);return t.options=rn({async:!0,ssr:!1},e),t}var Xx=function(e){var t=e.sideCar,n=Yx(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,rn({},n))};Xx.isSideCarExport=!0;function hN(e,t){return e.useMedium(t),Xx}var Qx=fN(),_c=function(){},xl=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:_c,onWheelCapture:_c,onTouchMoveCapture:_c}),s=r[0],o=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,x=e.noRelative,S=e.noIsolation,y=e.inert,b=e.allowPinchZoom,v=e.as,m=v===void 0?"div":v,g=e.gapMode,w=Yx(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=p,j=cN([n,t]),C=rn(rn({},w),s);return h.createElement(h.Fragment,null,d&&h.createElement(k,{sideCar:Qx,removeScrollBar:u,shards:f,noRelative:x,noIsolation:S,inert:y,setCallbacks:o,allowPinchZoom:!!b,lockRef:n,gapMode:g}),i?h.cloneElement(h.Children.only(l),rn(rn({},C),{ref:j})):h.createElement(m,rn({},C,{className:c,ref:j}),l))});xl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xl.classNames={fullWidth:na,zeroRight:ta};var pN=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function mN(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=pN();return t&&e.setAttribute("nonce",t),e}function gN(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function vN(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var xN=function(){var e=0,t=null;return{add:function(n){e==0&&(t=mN())&&(gN(t,n),vN(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},yN=function(){var e=xN();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Zx=function(){var e=yN(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},wN={left:0,top:0,right:0,gap:0},Cc=function(e){return parseInt(e||"",10)||0},SN=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Cc(n),Cc(r),Cc(s)]},bN=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return wN;var t=SN(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},jN=Zx(),Ns="data-scroll-locked",_N=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(oN,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Ns,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ta,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(na,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ta," .").concat(ta,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(na," .").concat(na,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ns,`] {
    `).concat(iN,": ").concat(l,`px;
  }
`)},Yp=function(){var e=parseInt(document.body.getAttribute(Ns)||"0",10);return isFinite(e)?e:0},CN=function(){h.useEffect(function(){return document.body.setAttribute(Ns,(Yp()+1).toString()),function(){var e=Yp()-1;e<=0?document.body.removeAttribute(Ns):document.body.setAttribute(Ns,e.toString())}},[])},kN=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;CN();var o=h.useMemo(function(){return bN(s)},[s]);return h.createElement(jN,{styles:_N(o,!t,s,n?"":"!important")})},Fu=!1;if(typeof window<"u")try{var Di=Object.defineProperty({},"passive",{get:function(){return Fu=!0,!0}});window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{Fu=!1}var Qr=Fu?{passive:!1}:!1,NN=function(e){return e.tagName==="TEXTAREA"},ey=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!NN(e)&&n[t]==="visible")},EN=function(e){return ey(e,"overflowY")},RN=function(e){return ey(e,"overflowX")},Xp=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=ty(e,r);if(s){var o=ny(e,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},TN=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},AN=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},ty=function(e,t){return e==="v"?EN(t):RN(t)},ny=function(e,t){return e==="v"?TN(t):AN(t)},PN=function(e,t){return e==="h"&&t==="rtl"?-1:1},IN=function(e,t,n,r,s){var o=PN(e,window.getComputedStyle(t).direction),i=o*r,l=n.target,c=t.contains(l),u=!1,d=i>0,f=0,p=0;do{if(!l)break;var x=ny(e,l),S=x[0],y=x[1],b=x[2],v=y-b-o*S;(S||v)&&ty(e,l)&&(f+=v,p+=S);var m=l.parentNode;l=m&&m.nodeType===Node.DOCUMENT_FRAGMENT_NODE?m.host:m}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(p)<1)&&(u=!0),u},Mi=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Qp=function(e){return[e.deltaX,e.deltaY]},Zp=function(e){return e&&"current"in e?e.current:e},ON=function(e,t){return e[0]===t[0]&&e[1]===t[1]},DN=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},MN=0,Zr=[];function LN(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),s=h.useState(MN++)[0],o=h.useState(Zx)[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=sN([e.lockRef.current],(e.shards||[]).map(Zp),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var v=Mi(y),m=n.current,g="deltaX"in y?y.deltaX:m[0]-v[0],w="deltaY"in y?y.deltaY:m[1]-v[1],k,j=y.target,C=Math.abs(g)>Math.abs(w)?"h":"v";if("touches"in y&&C==="h"&&j.type==="range")return!1;var _=Xp(C,j);if(!_)return!0;if(_?k=C:(k=C==="v"?"h":"v",_=Xp(C,j)),!_)return!1;if(!r.current&&"changedTouches"in y&&(g||w)&&(r.current=k),!k)return!0;var E=r.current||k;return IN(E,b,y,E==="h"?g:w)},[]),c=h.useCallback(function(y){var b=y;if(!(!Zr.length||Zr[Zr.length-1]!==o)){var v="deltaY"in b?Qp(b):Mi(b),m=t.current.filter(function(k){return k.name===b.type&&(k.target===b.target||b.target===k.shadowParent)&&ON(k.delta,v)})[0];if(m&&m.should){b.cancelable&&b.preventDefault();return}if(!m){var g=(i.current.shards||[]).map(Zp).filter(Boolean).filter(function(k){return k.contains(b.target)}),w=g.length>0?l(b,g[0]):!i.current.noIsolation;w&&b.cancelable&&b.preventDefault()}}},[]),u=h.useCallback(function(y,b,v,m){var g={name:y,delta:b,target:v,should:m,shadowParent:$N(v)};t.current.push(g),setTimeout(function(){t.current=t.current.filter(function(w){return w!==g})},1)},[]),d=h.useCallback(function(y){n.current=Mi(y),r.current=void 0},[]),f=h.useCallback(function(y){u(y.type,Qp(y),y.target,l(y,e.lockRef.current))},[]),p=h.useCallback(function(y){u(y.type,Mi(y),y.target,l(y,e.lockRef.current))},[]);h.useEffect(function(){return Zr.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Qr),document.addEventListener("touchmove",c,Qr),document.addEventListener("touchstart",d,Qr),function(){Zr=Zr.filter(function(y){return y!==o}),document.removeEventListener("wheel",c,Qr),document.removeEventListener("touchmove",c,Qr),document.removeEventListener("touchstart",d,Qr)}},[]);var x=e.removeScrollBar,S=e.inert;return h.createElement(h.Fragment,null,S?h.createElement(o,{styles:DN(s)}):null,x?h.createElement(kN,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function $N(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const FN=hN(Qx,LN);var yl=h.forwardRef(function(e,t){return h.createElement(xl,rn({},e,{ref:t,sideCar:FN}))});yl.classNames=xl.classNames;var zu=["Enter"," "],zN=["ArrowDown","PageUp","Home"],ry=["ArrowUp","PageDown","End"],UN=[...zN,...ry],BN={ltr:[...zu,"ArrowRight"],rtl:[...zu,"ArrowLeft"]},VN={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ui="Menu",[Qo,HN,WN]=ai(ui),[Wr,sy]=et(ui,[WN,gl,Gs]),wl=gl(),oy=Gs(),[KN,Kr]=Wr(ui),[GN,di]=Wr(ui),iy=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:o,modal:i=!0}=e,l=wl(t),[c,u]=h.useState(null),d=h.useRef(!1),f=qt(o),p=Hr(s);return h.useEffect(()=>{const x=()=>{d.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>d.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),a.jsx(zx,{...l,children:a.jsx(KN,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(GN,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:i,children:r})})})};iy.displayName=ui;var qN="MenuAnchor",bf=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=wl(n);return a.jsx(Ux,{...s,...r,ref:t})});bf.displayName=qN;var jf="MenuPortal",[JN,ay]=Wr(jf,{forceMount:void 0}),ly=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,o=Kr(jf,t);return a.jsx(JN,{scope:t,forceMount:n,children:a.jsx(Ot,{present:n||o.open,children:a.jsx(vl,{asChild:!0,container:s,children:r})})})};ly.displayName=jf;var Rt="MenuContent",[YN,_f]=Wr(Rt),cy=h.forwardRef((e,t)=>{const n=ay(Rt,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=Kr(Rt,e.__scopeMenu),i=di(Rt,e.__scopeMenu);return a.jsx(Qo.Provider,{scope:e.__scopeMenu,children:a.jsx(Ot,{present:r||o.open,children:a.jsx(Qo.Slot,{scope:e.__scopeMenu,children:i.modal?a.jsx(XN,{...s,ref:t}):a.jsx(QN,{...s,ref:t})})})})}),XN=h.forwardRef((e,t)=>{const n=Kr(Rt,e.__scopeMenu),r=h.useRef(null),s=de(t,r);return h.useEffect(()=>{const o=r.current;if(o)return Sf(o)},[]),a.jsx(Cf,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Y(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),QN=h.forwardRef((e,t)=>{const n=Kr(Rt,e.__scopeMenu);return a.jsx(Cf,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),ZN=Mr("MenuContent.ScrollLock"),Cf=h.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:x,disableOutsideScroll:S,...y}=e,b=Kr(Rt,n),v=di(Rt,n),m=wl(n),g=oy(n),w=HN(n),[k,j]=h.useState(null),C=h.useRef(null),_=de(t,C,b.onContentChange),E=h.useRef(0),R=h.useRef(""),L=h.useRef(0),M=h.useRef(null),A=h.useRef("right"),B=h.useRef(0),K=S?yl:h.Fragment,H=S?{as:ZN,allowPinchZoom:!0}:void 0,W=N=>{var O,G;const P=R.current+N,z=w().filter(q=>!q.disabled),V=document.activeElement,Q=(O=z.find(q=>q.ref.current===V))==null?void 0:O.textValue,Z=z.map(q=>q.textValue),we=dE(Z,P,Q),I=(G=z.find(q=>q.textValue===we))==null?void 0:G.ref.current;(function q(X){R.current=X,window.clearTimeout(E.current),X!==""&&(E.current=window.setTimeout(()=>q(""),1e3))})(P),I&&setTimeout(()=>I.focus())};h.useEffect(()=>()=>window.clearTimeout(E.current),[]),cf();const T=h.useCallback(N=>{var z,V;return A.current===((z=M.current)==null?void 0:z.side)&&hE(N,(V=M.current)==null?void 0:V.area)},[]);return a.jsx(YN,{scope:n,searchRef:R,onItemEnter:h.useCallback(N=>{T(N)&&N.preventDefault()},[T]),onItemLeave:h.useCallback(N=>{var P;T(N)||((P=C.current)==null||P.focus(),j(null))},[T]),onTriggerLeave:h.useCallback(N=>{T(N)&&N.preventDefault()},[T]),pointerGraceTimerRef:L,onPointerGraceIntentChange:h.useCallback(N=>{M.current=N},[]),children:a.jsx(K,{...H,children:a.jsx(dl,{asChild:!0,trapped:s,onMountAutoFocus:Y(o,N=>{var P;N.preventDefault(),(P=C.current)==null||P.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:a.jsx(ul,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:x,children:a.jsx(yf,{asChild:!0,...g,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:k,onCurrentTabStopIdChange:j,onEntryFocus:Y(c,N=>{v.isUsingKeyboardRef.current||N.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Bx,{role:"menu","aria-orientation":"vertical","data-state":Cy(b.open),"data-radix-menu-content":"",dir:v.dir,...m,...y,ref:_,style:{outline:"none",...y.style},onKeyDown:Y(y.onKeyDown,N=>{const z=N.target.closest("[data-radix-menu-content]")===N.currentTarget,V=N.ctrlKey||N.altKey||N.metaKey,Q=N.key.length===1;z&&(N.key==="Tab"&&N.preventDefault(),!V&&Q&&W(N.key));const Z=C.current;if(N.target!==Z||!UN.includes(N.key))return;N.preventDefault();const I=w().filter(O=>!O.disabled).map(O=>O.ref.current);ry.includes(N.key)&&I.reverse(),cE(I)}),onBlur:Y(e.onBlur,N=>{N.currentTarget.contains(N.target)||(window.clearTimeout(E.current),R.current="")}),onPointerMove:Y(e.onPointerMove,Zo(N=>{const P=N.target,z=B.current!==N.clientX;if(N.currentTarget.contains(P)&&z){const V=N.clientX>B.current?"right":"left";A.current=V,B.current=N.clientX}}))})})})})})})});cy.displayName=Rt;var eE="MenuGroup",kf=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(se.div,{role:"group",...r,ref:t})});kf.displayName=eE;var tE="MenuLabel",uy=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(se.div,{...r,ref:t})});uy.displayName=tE;var La="MenuItem",em="menu.itemSelect",Sl=h.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,o=h.useRef(null),i=di(La,e.__scopeMenu),l=_f(La,e.__scopeMenu),c=de(t,o),u=h.useRef(!1),d=()=>{const f=o.current;if(!n&&f){const p=new CustomEvent(em,{bubbles:!0,cancelable:!0});f.addEventListener(em,x=>r==null?void 0:r(x),{once:!0}),mx(f,p),p.defaultPrevented?u.current=!1:i.onClose()}};return a.jsx(dy,{...s,ref:c,disabled:n,onClick:Y(e.onClick,d),onPointerDown:f=>{var p;(p=e.onPointerDown)==null||p.call(e,f),u.current=!0},onPointerUp:Y(e.onPointerUp,f=>{var p;u.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:Y(e.onKeyDown,f=>{const p=l.searchRef.current!=="";n||p&&f.key===" "||zu.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Sl.displayName=La;var dy=h.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=e,i=_f(La,n),l=oy(n),c=h.useRef(null),u=de(t,c),[d,f]=h.useState(!1),[p,x]=h.useState("");return h.useEffect(()=>{const S=c.current;S&&x((S.textContent??"").trim())},[o.children]),a.jsx(Qo.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:a.jsx(wf,{asChild:!0,...l,focusable:!r,children:a.jsx(se.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:u,onPointerMove:Y(e.onPointerMove,Zo(S=>{r?i.onItemLeave(S):(i.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Y(e.onPointerLeave,Zo(S=>i.onItemLeave(S))),onFocus:Y(e.onFocus,()=>f(!0)),onBlur:Y(e.onBlur,()=>f(!1))})})})}),nE="MenuCheckboxItem",fy=h.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return a.jsx(vy,{scope:e.__scopeMenu,checked:n,children:a.jsx(Sl,{role:"menuitemcheckbox","aria-checked":$a(n)?"mixed":n,...s,ref:t,"data-state":Ef(n),onSelect:Y(s.onSelect,()=>r==null?void 0:r($a(n)?!0:!n),{checkForDefaultPrevented:!1})})})});fy.displayName=nE;var hy="MenuRadioGroup",[rE,sE]=Wr(hy,{value:void 0,onValueChange:()=>{}}),py=h.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,o=qt(r);return a.jsx(rE,{scope:e.__scopeMenu,value:n,onValueChange:o,children:a.jsx(kf,{...s,ref:t})})});py.displayName=hy;var my="MenuRadioItem",gy=h.forwardRef((e,t)=>{const{value:n,...r}=e,s=sE(my,e.__scopeMenu),o=n===s.value;return a.jsx(vy,{scope:e.__scopeMenu,checked:o,children:a.jsx(Sl,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":Ef(o),onSelect:Y(r.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})})});gy.displayName=my;var Nf="MenuItemIndicator",[vy,oE]=Wr(Nf,{checked:!1}),xy=h.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,o=oE(Nf,n);return a.jsx(Ot,{present:r||$a(o.checked)||o.checked===!0,children:a.jsx(se.span,{...s,ref:t,"data-state":Ef(o.checked)})})});xy.displayName=Nf;var iE="MenuSeparator",yy=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(se.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});yy.displayName=iE;var aE="MenuArrow",wy=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=wl(n);return a.jsx(Vx,{...s,...r,ref:t})});wy.displayName=aE;var lE="MenuSub",[JI,Sy]=Wr(lE),mo="MenuSubTrigger",by=h.forwardRef((e,t)=>{const n=Kr(mo,e.__scopeMenu),r=di(mo,e.__scopeMenu),s=Sy(mo,e.__scopeMenu),o=_f(mo,e.__scopeMenu),i=h.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},d=h.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return h.useEffect(()=>d,[d]),h.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(bf,{asChild:!0,...u,children:a.jsx(dy,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":Cy(n.open),...e,ref:ll(t,s.onTriggerChange),onClick:f=>{var p;(p=e.onClick)==null||p.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Y(e.onPointerMove,Zo(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Y(e.onPointerLeave,Zo(f=>{var x,S;d();const p=(x=n.content)==null?void 0:x.getBoundingClientRect();if(p){const y=(S=n.content)==null?void 0:S.dataset.side,b=y==="right",v=b?-5:5,m=p[b?"left":"right"],g=p[b?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x:m,y:p.top},{x:g,y:p.top},{x:g,y:p.bottom},{x:m,y:p.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Y(e.onKeyDown,f=>{var x;const p=o.searchRef.current!=="";e.disabled||p&&f.key===" "||BN[r.dir].includes(f.key)&&(n.onOpenChange(!0),(x=n.content)==null||x.focus(),f.preventDefault())})})})});by.displayName=mo;var jy="MenuSubContent",_y=h.forwardRef((e,t)=>{const n=ay(Rt,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=Kr(Rt,e.__scopeMenu),i=di(Rt,e.__scopeMenu),l=Sy(jy,e.__scopeMenu),c=h.useRef(null),u=de(t,c);return a.jsx(Qo.Provider,{scope:e.__scopeMenu,children:a.jsx(Ot,{present:r||o.open,children:a.jsx(Qo.Slot,{scope:e.__scopeMenu,children:a.jsx(Cf,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Y(e.onFocusOutside,d=>{d.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Y(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:Y(e.onKeyDown,d=>{var x;const f=d.currentTarget.contains(d.target),p=VN[i.dir].includes(d.key);f&&p&&(o.onOpenChange(!1),(x=l.trigger)==null||x.focus(),d.preventDefault())})})})})})});_y.displayName=jy;function Cy(e){return e?"open":"closed"}function $a(e){return e==="indeterminate"}function Ef(e){return $a(e)?"indeterminate":e?"checked":"unchecked"}function cE(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function uE(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function dE(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=uE(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function fE(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],u=l.x,d=l.y,f=c.x,p=c.y;d>r!=p>r&&n<(f-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function hE(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return fE(n,t)}function Zo(e){return t=>t.pointerType==="mouse"?e(t):void 0}var pE=iy,mE=bf,gE=ly,vE=cy,xE=kf,yE=uy,wE=Sl,SE=fy,bE=py,jE=gy,_E=xy,CE=yy,kE=wy,NE=by,EE=_y,bl="DropdownMenu",[RE,YI]=et(bl,[sy]),ot=sy(),[TE,ky]=RE(bl),Ny=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=ot(t),u=h.useRef(null),[d,f]=It({prop:s,defaultProp:o??!1,onChange:i,caller:bl});return a.jsx(TE,{scope:t,triggerId:Et(),triggerRef:u,contentId:Et(),open:d,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(p=>!p),[f]),modal:l,children:a.jsx(pE,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};Ny.displayName=bl;var Ey="DropdownMenuTrigger",Ry=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,o=ky(Ey,n),i=ot(n);return a.jsx(mE,{asChild:!0,...i,children:a.jsx(se.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:ll(t,o.triggerRef),onPointerDown:Y(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:Y(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Ry.displayName=Ey;var AE="DropdownMenuPortal",Ty=e=>{const{__scopeDropdownMenu:t,...n}=e,r=ot(t);return a.jsx(gE,{...r,...n})};Ty.displayName=AE;var Ay="DropdownMenuContent",Py=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ky(Ay,n),o=ot(n),i=h.useRef(!1);return a.jsx(vE,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:t,onCloseAutoFocus:Y(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:Y(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Py.displayName=Ay;var PE="DropdownMenuGroup",IE=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ot(n);return a.jsx(xE,{...s,...r,ref:t})});IE.displayName=PE;var OE="DropdownMenuLabel",Iy=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ot(n);return a.jsx(yE,{...s,...r,ref:t})});Iy.displayName=OE;var DE="DropdownMenuItem",Oy=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ot(n);return a.jsx(wE,{...s,...r,ref:t})});Oy.displayName=DE;var ME="DropdownMenuCheckboxItem",Dy=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ot(n);return a.jsx(SE,{...s,...r,ref:t})});Dy.displayName=ME;var LE="DropdownMenuRadioGroup",$E=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ot(n);return a.jsx(bE,{...s,...r,ref:t})});$E.displayName=LE;var FE="DropdownMenuRadioItem",My=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ot(n);return a.jsx(jE,{...s,...r,ref:t})});My.displayName=FE;var zE="DropdownMenuItemIndicator",Ly=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ot(n);return a.jsx(_E,{...s,...r,ref:t})});Ly.displayName=zE;var UE="DropdownMenuSeparator",$y=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ot(n);return a.jsx(CE,{...s,...r,ref:t})});$y.displayName=UE;var BE="DropdownMenuArrow",VE=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ot(n);return a.jsx(kE,{...s,...r,ref:t})});VE.displayName=BE;var HE="DropdownMenuSubTrigger",Fy=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ot(n);return a.jsx(NE,{...s,...r,ref:t})});Fy.displayName=HE;var WE="DropdownMenuSubContent",zy=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ot(n);return a.jsx(EE,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zy.displayName=WE;var KE=Ny,GE=Ry,qE=Ty,Uy=Py,By=Iy,Vy=Oy,Hy=Dy,Wy=My,Ky=Ly,Gy=$y,qy=Fy,Jy=zy;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yy=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...l},c)=>h.createElement("svg",{ref:c,...YE,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Yy("lucide",s),...l},[...i.map(([u,d])=>h.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=(e,t)=>{const n=h.forwardRef(({className:r,...s},o)=>h.createElement(XE,{ref:o,iconNode:t,className:Yy(`lucide-${JE(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=ve("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=ve("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=ve("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=ve("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=ve("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=ve("CloudDownload",[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=ve("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=ve("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=ve("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=ve("Expand",[["path",{d:"m21 21-6-6m6 6v-4.8m0 4.8h-4.8",key:"1c15vz"}],["path",{d:"M3 16.2V21m0 0h4.8M3 21l6-6",key:"1fsnz2"}],["path",{d:"M21 7.8V3m0 0h-4.8M21 3l-6 6",key:"hawz9i"}],["path",{d:"M3 7.8V3m0 0h4.8M3 3l6 6",key:"u9ee12"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=ve("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=ve("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=ve("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=ve("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=ve("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=ve("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=ve("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=ve("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=ve("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=ve("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),h2=KE,p2=GE,m2=h.forwardRef(({className:e,inset:t,children:n,...r},s)=>a.jsxs(qy,{ref:s,className:D("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,a.jsx(n2,{className:"ml-auto h-4 w-4"})]}));m2.displayName=qy.displayName;const g2=h.forwardRef(({className:e,...t},n)=>a.jsx(Jy,{ref:n,className:D("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));g2.displayName=Jy.displayName;const Zy=h.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(qE,{children:a.jsx(Uy,{ref:r,sideOffset:t,className:D("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Zy.displayName=Uy.displayName;const Bn=h.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(Vy,{ref:r,className:D("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Bn.displayName=Vy.displayName;const v2=h.forwardRef(({className:e,children:t,checked:n,...r},s)=>a.jsxs(Hy,{ref:s,className:D("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Ky,{children:a.jsx(Rf,{className:"h-4 w-4"})})}),t]}));v2.displayName=Hy.displayName;const x2=h.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(Wy,{ref:r,className:D("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Ky,{children:a.jsx(Xy,{className:"h-2 w-2 fill-current"})})}),t]}));x2.displayName=Wy.displayName;const y2=h.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(By,{ref:r,className:D("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));y2.displayName=By.displayName;const go=h.forwardRef(({className:e,...t},n)=>a.jsx(Gy,{ref:n,className:D("-mx-1 my-1 h-px bg-muted",e),...t}));go.displayName=Gy.displayName;var jl="Dialog",[ew,tw]=et(jl),[w2,Xt]=ew(jl),nw=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=h.useRef(null),c=h.useRef(null),[u,d]=It({prop:r,defaultProp:s??!1,onChange:o,caller:jl});return a.jsx(w2,{scope:t,triggerRef:l,contentRef:c,contentId:Et(),titleId:Et(),descriptionId:Et(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};nw.displayName=jl;var rw="DialogTrigger",sw=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Xt(rw,n),o=de(t,s.triggerRef);return a.jsx(se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":If(s.open),...r,ref:o,onClick:Y(e.onClick,s.onOpenToggle)})});sw.displayName=rw;var Af="DialogPortal",[S2,ow]=ew(Af,{forceMount:void 0}),iw=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=Xt(Af,t);return a.jsx(S2,{scope:t,forceMount:n,children:h.Children.map(r,i=>a.jsx(Ot,{present:n||o.open,children:a.jsx(vl,{asChild:!0,container:s,children:i})}))})};iw.displayName=Af;var Fa="DialogOverlay",aw=h.forwardRef((e,t)=>{const n=ow(Fa,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Xt(Fa,e.__scopeDialog);return o.modal?a.jsx(Ot,{present:r||o.open,children:a.jsx(j2,{...s,ref:t})}):null});aw.displayName=Fa;var b2=Mr("DialogOverlay.RemoveScroll"),j2=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Xt(Fa,n);return a.jsx(yl,{as:b2,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(se.div,{"data-state":If(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Fr="DialogContent",lw=h.forwardRef((e,t)=>{const n=ow(Fr,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Xt(Fr,e.__scopeDialog);return a.jsx(Ot,{present:r||o.open,children:o.modal?a.jsx(_2,{...s,ref:t}):a.jsx(C2,{...s,ref:t})})});lw.displayName=Fr;var _2=h.forwardRef((e,t)=>{const n=Xt(Fr,e.__scopeDialog),r=h.useRef(null),s=de(t,n.contentRef,r);return h.useEffect(()=>{const o=r.current;if(o)return Sf(o)},[]),a.jsx(cw,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Y(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Y(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:Y(e.onFocusOutside,o=>o.preventDefault())})}),C2=h.forwardRef((e,t)=>{const n=Xt(Fr,e.__scopeDialog),r=h.useRef(!1),s=h.useRef(!1);return a.jsx(cw,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),cw=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,l=Xt(Fr,n),c=h.useRef(null),u=de(t,c);return cf(),a.jsxs(a.Fragment,{children:[a.jsx(dl,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(ul,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":If(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(N2,{titleId:l.titleId}),a.jsx(R2,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Pf="DialogTitle",uw=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Xt(Pf,n);return a.jsx(se.h2,{id:s.titleId,...r,ref:t})});uw.displayName=Pf;var dw="DialogDescription",fw=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Xt(dw,n);return a.jsx(se.p,{id:s.descriptionId,...r,ref:t})});fw.displayName=dw;var hw="DialogClose",pw=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Xt(hw,n);return a.jsx(se.button,{type:"button",...r,ref:t,onClick:Y(e.onClick,()=>s.onOpenChange(!1))})});pw.displayName=hw;function If(e){return e?"open":"closed"}var mw="DialogTitleWarning",[k2,gw]=Z1(mw,{contentName:Fr,titleName:Pf,docsSlug:"dialog"}),N2=({titleId:e})=>{const t=gw(mw),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},E2="DialogDescriptionWarning",R2=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${gw(E2).contentName}}.`;return h.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},vw=nw,xw=sw,yw=iw,Of=aw,Df=lw,Mf=uw,Lf=fw,$f=pw;const Dt=vw,ww=xw,T2=yw,Sw=h.forwardRef(({className:e,...t},n)=>a.jsx(Of,{ref:n,className:D("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Sw.displayName=Of.displayName;const St=h.forwardRef(({className:e,children:t,mobileFullscreen:n,showOverlay:r=!0,...s},o)=>a.jsxs(T2,{children:[r&&a.jsx(Sw,{}),a.jsxs(Df,{ref:o,className:D("fixed z-50 grid w-full gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n?"inset-0 h-full w-full rounded-none border-0 data-[state=open]:slide-in-from-bottom data-[state=closed]:slide-out-to-bottom":["left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%]","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]","sm:max-w-lg sm:rounded-lg"],e),...s,children:[t,a.jsxs($f,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(f2,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));St.displayName=Df.displayName;const bt=({className:e,...t})=>a.jsx("div",{className:D("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});bt.displayName="DialogHeader";const In=({className:e,...t})=>a.jsx("div",{className:D("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});In.displayName="DialogFooter";const jt=h.forwardRef(({className:e,...t},n)=>a.jsx(Mf,{ref:n,className:D("text-lg font-semibold leading-none tracking-tight",e),...t}));jt.displayName=Mf.displayName;const hr=h.forwardRef(({className:e,...t},n)=>a.jsx(Lf,{ref:n,className:D("text-sm text-muted-foreground",e),...t}));hr.displayName=Lf.displayName;const A2="modulepreload",P2=function(e){return"/"+e},lm={},fn=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=P2(c),c in lm)return;lm[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":A2,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((p,x)=>{f.addEventListener("load",p),f.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},I2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>fn(async()=>{const{default:r}=await Promise.resolve().then(()=>qs);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Ff extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class O2 extends Ff{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class cm extends Ff{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class um extends Ff{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Uu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Uu||(Uu={}));var D2=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class M2{constructor(t,{headers:n={},customFetch:r,region:s=Uu.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=I2(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return D2(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(l["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(l["Content-Type"]="application/json",d=JSON.stringify(i)));const f=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(y=>{throw new O2(y)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new cm(f);if(!f.ok)throw new um(f);let x=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),S;return x==="application/json"?S=yield f.json():x==="application/octet-stream"?S=yield f.blob():x==="text/event-stream"?S=f:x==="multipart/form-data"?S=yield f.formData():S=yield f.text(),{data:S,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof um||s instanceof cm?s.context:void 0}}})}}var lt={},zf={},_l={},fi={},Cl={},kl={},L2=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},$s=L2();const $2=$s.fetch,bw=$s.fetch.bind($s),jw=$s.Headers,F2=$s.Request,z2=$s.Response,qs=Object.freeze(Object.defineProperty({__proto__:null,Headers:jw,Request:F2,Response:z2,default:bw,fetch:$2},Symbol.toStringTag,{value:"Module"})),U2=Ub(qs);var Nl={};Object.defineProperty(Nl,"__esModule",{value:!0});let B2=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Nl.default=B2;var _w=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kl,"__esModule",{value:!0});const V2=_w(U2),H2=_w(Nl);let W2=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=V2.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c;let u=null,d=null,f=null,p=o.status,x=o.statusText;if(o.ok){if(this.method!=="HEAD"){const v=await o.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const y=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),b=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&b&&b.length>1&&(f=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,p=406,x="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await o.text();try{u=JSON.parse(y),Array.isArray(u)&&o.status===404&&(d=[],u=null,p=200,x="OK")}catch{o.status===404&&y===""?(p=204,x="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,p=200,x="OK"),u&&this.shouldThrowOnError)throw new H2.default(u)}return{error:u,data:d,count:f,status:p,statusText:x}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};kl.default=W2;var K2=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cl,"__esModule",{value:!0});const G2=K2(kl);let q2=class extends G2.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Cl.default=q2;var J2=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fi,"__esModule",{value:!0});const Y2=J2(Cl);let X2=class extends Y2.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};fi.default=X2;var Q2=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_l,"__esModule",{value:!0});const co=Q2(fi);let Z2=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new co.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new co.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){const i="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new co.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new co.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new co.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};_l.default=Z2;var El={},Rl={};Object.defineProperty(Rl,"__esModule",{value:!0});Rl.version=void 0;Rl.version="0.0.0-automated";Object.defineProperty(El,"__esModule",{value:!0});El.DEFAULT_HEADERS=void 0;const eR=Rl;El.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${eR.version}`};var Cw=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zf,"__esModule",{value:!0});const tR=Cw(_l),nR=Cw(fi),rR=El;let sR=class kw{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},rR.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new tR.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new kw(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){let i;const l=new URL(`${this.url}/rpc/${t}`);let c;r||s?(i=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(i="POST",c=n);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new nR.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};zf.default=sR;var Js=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lt,"__esModule",{value:!0});lt.PostgrestError=lt.PostgrestBuilder=lt.PostgrestTransformBuilder=lt.PostgrestFilterBuilder=lt.PostgrestQueryBuilder=lt.PostgrestClient=void 0;const Nw=Js(zf);lt.PostgrestClient=Nw.default;const Ew=Js(_l);lt.PostgrestQueryBuilder=Ew.default;const Rw=Js(fi);lt.PostgrestFilterBuilder=Rw.default;const Tw=Js(Cl);lt.PostgrestTransformBuilder=Tw.default;const Aw=Js(kl);lt.PostgrestBuilder=Aw.default;const Pw=Js(Nl);lt.PostgrestError=Pw.default;var oR=lt.default={PostgrestClient:Nw.default,PostgrestQueryBuilder:Ew.default,PostgrestFilterBuilder:Rw.default,PostgrestTransformBuilder:Tw.default,PostgrestBuilder:Aw.default,PostgrestError:Pw.default};const{PostgrestClient:iR,PostgrestQueryBuilder:nO,PostgrestFilterBuilder:rO,PostgrestTransformBuilder:sO,PostgrestBuilder:oO,PostgrestError:iO}=oR;function aR(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const lR=aR(),cR="2.11.15",uR=`realtime-js/${cR}`,dR="1.0.0",Iw=1e4,fR=1e3;var To;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(To||(To={}));var Ye;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ye||(Ye={}));var Bt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Bt||(Bt={}));var Bu;(function(e){e.websocket="websocket"})(Bu||(Bu={}));var br;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(br||(br={}));class hR{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const l=r.decode(t.slice(i,i+s));i=i+s;const c=r.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Ow{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Se||(Se={}));const dm=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,i)=>(o[i]=pR(i,e,t,s),o),{})},pR=(e,t,n,r)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,i=n[e];return o&&!r.includes(o)?Dw(o,i):Vu(i)},Dw=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return xR(t,n)}switch(e){case Se.bool:return mR(t);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return gR(t);case Se.json:case Se.jsonb:return vR(t);case Se.timestamp:return yR(t);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return Vu(t);default:return Vu(t)}},Vu=e=>e,mR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},gR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},vR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},xR=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>Dw(t,l))}return e},yR=e=>typeof e=="string"?e.replace(" ","T"):e,Mw=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class kc{constructor(t,n,r={},s=Iw){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var fm;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(fm||(fm={}));class Ao{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ao.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=Ao.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ao.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),i=this.transformState(n),l={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const p=d.map(b=>b.presence_ref),x=f.map(b=>b.presence_ref),S=d.filter(b=>x.indexOf(b.presence_ref)<0),y=f.filter(b=>p.indexOf(b.presence_ref)<0);S.length>0&&(l[u]=S),y.length>0&&(c[u]=y)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(x=>x.presence_ref),p=d.filter(x=>f.indexOf(x.presence_ref)<0);t[l].unshift(...p)}r(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(hm||(hm={}));var pm;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(pm||(pm={}));var vn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(vn||(vn={}));class Uf{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new kc(this,Bt.join,this.params,this.timeout),this.rejoinTimer=new Ow(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ye.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Bt.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Ao(this),this.broadcastEndpointURL=Mw(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ye.closed){const{config:{broadcast:o,presence:i,private:l}}=this.params;this._onError(d=>t==null?void 0:t(vn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(vn.CLOSED));const c={},u={broadcast:o,presence:i,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(vn.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,x=(f=p==null?void 0:p.length)!==null&&f!==void 0?f:0,S=[];for(let y=0;y<x;y++){const b=p[y],{filter:{event:v,schema:m,table:g,filter:w}}=b,k=d&&d[y];if(k&&k.event===v&&k.schema===m&&k.table===g&&k.filter===w)S.push(Object.assign(Object.assign({},b),{id:k.id}));else{this.unsubscribe(),this.state=Ye.errored,t==null||t(vn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,t&&t(vn.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ye.errored,t==null||t(vn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(vn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ye.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Bt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new kc(this,Bt.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new kc(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Bt;if(r&&[l,c,u,d].indexOf(i)>=0&&r!==this._joinRef())return;let p=this._onMessage(i,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(x=>{var S,y,b;return((S=x.filter)===null||S===void 0?void 0:S.event)==="*"||((b=(y=x.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(x=>x.callback(p,r)):(o=this.bindings[i])===null||o===void 0||o.filter(x=>{var S,y,b,v,m,g;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in x){const w=x.id,k=(S=x.filter)===null||S===void 0?void 0:S.event;return w&&((y=n.ids)===null||y===void 0?void 0:y.includes(w))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const w=(m=(v=x==null?void 0:x.filter)===null||v===void 0?void 0:v.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return w==="*"||w===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===i}).map(x=>{if(typeof p=="object"&&"ids"in p){const S=p.data,{schema:y,table:b,commit_timestamp:v,type:m,errors:g}=S;p=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:v,eventType:m,new:{},old:{},errors:g}),this._getPayloadRecords(S))}x.callback(p,r)})}_isClosed(){return this.state===Ye.closed}_isJoined(){return this.state===Ye.joined}_isJoining(){return this.state===Ye.joining}_isLeaving(){return this.state===Ye.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Uf.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Bt.close,{},t)}_onError(t){this._on(Bt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ye.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=dm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=dm(t.columns,t.old_record)),n}}const mm=()=>{},wR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class SR{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Iw,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=mm,this.ref=0,this.logger=mm,this.conn=null,this.sendBuffer=[],this.serializer=new hR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...l)=>fn(async()=>{const{default:c}=await Promise.resolve().then(()=>qs);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${Bu.websocket}`,this.httpEndpoint=Mw(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,i)=>i(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ow(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=lR),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:dR}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case To.connecting:return br.Connecting;case To.open:return br.Open;case To.closing:return br.Closing;default:return br.Closed}}isConnected(){return this.connectionState()===br.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new Uf(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:uR};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Bt.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(fR,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:o,ref:i}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${i&&"("+i+")"||""}`,o),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Bt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([wR],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Bf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ze(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class bR extends Bf{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Hu extends Bf{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var jR=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Lw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>fn(async()=>{const{default:r}=await Promise.resolve().then(()=>qs);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},_R=()=>jR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fn(()=>Promise.resolve().then(()=>qs),void 0)).Response:Response}),Wu=e=>{if(Array.isArray(e))return e.map(n=>Wu(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Wu(r)}),t},CR=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Gr=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Nc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),kR=(e,t,n)=>Gr(void 0,void 0,void 0,function*(){const r=yield _R();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const o=e.status||500,i=(s==null?void 0:s.statusCode)||o+"";t(new bR(Nc(s),o,i))}).catch(s=>{t(new Hu(Nc(s),s))}):t(new Hu(Nc(e),e))}),NR=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(CR(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n))};function hi(e,t,n,r,s,o){return Gr(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(n,NR(t,r,s,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>kR(c,l,r))})})}function za(e,t,n,r){return Gr(this,void 0,void 0,function*(){return hi(e,"GET",t,n,r)})}function xn(e,t,n,r,s){return Gr(this,void 0,void 0,function*(){return hi(e,"POST",t,r,s,n)})}function Ku(e,t,n,r,s){return Gr(this,void 0,void 0,function*(){return hi(e,"PUT",t,r,s,n)})}function ER(e,t,n,r){return Gr(this,void 0,void 0,function*(){return hi(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function $w(e,t,n,r,s){return Gr(this,void 0,void 0,function*(){return hi(e,"DELETE",t,r,s,n)})}var it=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const RR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class TR{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Lw(s)}uploadOrUpdate(t,n,r,s){return it(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},gm),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?Ku:xn)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(ze(o))return{data:null,error:o};throw o}})}upload(t,n,r){return it(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return it(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:gm.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Ku(this.fetch,l.toString(),c,{headers:d});return{data:{path:o,fullPath:f.Key},error:null}}catch(c){if(ze(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return it(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield xn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new Bf("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}})}update(t,n,r){return it(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return it(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ze(s))return{data:null,error:s};throw s}})}copy(t,n,r){return it(this,void 0,void 0,function*(){try{return{data:{path:(yield xn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ze(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return it(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield xn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(ze(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return it(this,void 0,void 0,function*(){try{const s=yield xn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(ze(s))return{data:null,error:s};throw s}})}download(t,n){return it(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield za(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ze(l))return{data:null,error:l};throw l}})}info(t){return it(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield za(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Wu(r),error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}})}exists(t){return it(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield ER(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ze(r)&&r instanceof Hu){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return it(this,void 0,void 0,function*(){try{return{data:yield $w(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}})}list(t,n,r){return it(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},RR),n),{prefix:t||""});return{data:yield xn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ze(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const AR="2.10.4",PR={"X-Client-Info":`storage-js/${AR}`};var es=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class IR{constructor(t,n={},r,s){const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},PR),n),this.fetch=Lw(r)}listBuckets(){return es(this,void 0,void 0,function*(){try{return{data:yield za(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ze(t))return{data:null,error:t};throw t}})}getBucket(t){return es(this,void 0,void 0,function*(){try{return{data:yield za(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return es(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return es(this,void 0,void 0,function*(){try{return{data:yield Ku(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}})}emptyBucket(t){return es(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}})}deleteBucket(t){return es(this,void 0,void 0,function*(){try{return{data:yield $w(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}})}}class OR extends IR{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new TR(this.url,this.headers,t,this.fetch)}}const DR="2.53.0";let vo="";typeof Deno<"u"?vo="deno":typeof document<"u"?vo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vo="react-native":vo="node";const MR={"X-Client-Info":`supabase-js-${vo}/${DR}`},LR={headers:MR},$R={schema:"public"},FR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zR={};var UR=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const BR=e=>{let t;return e?t=e:typeof fetch>"u"?t=bw:t=fetch,(...n)=>t(...n)},VR=()=>typeof Headers>"u"?jw:Headers,HR=(e,t,n)=>{const r=BR(n),s=VR();return(o,i)=>UR(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},i),{headers:u}))})};var WR=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function KR(e){return e.endsWith("/")?e:e+"/"}function GR(e,t){var n,r;const{db:s,auth:o,realtime:i,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,p={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>WR(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}const Fw="2.71.1",os=30*1e3,Gu=3,Ec=Gu*os,qR="http://localhost:9999",JR="supabase.auth.token",YR={"X-Client-Info":`gotrue-js/${Fw}`},qu="X-Supabase-Api-Version",zw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},XR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,QR=10*60*1e3;class Vf extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ZR extends Vf{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function eT(e){return ue(e)&&e.name==="AuthApiError"}class Uw extends Vf{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class pr extends Vf{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Vn extends pr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tT(e){return ue(e)&&e.name==="AuthSessionMissingError"}class $i extends pr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fi extends pr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class zi extends pr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nT(e){return ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class vm extends pr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ju extends pr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Rc(e){return ue(e)&&e.name==="AuthRetryableFetchError"}class xm extends pr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Yu extends pr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ua="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ym=` 	
\r=`.split(""),rT=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ym.length;t+=1)e[ym[t].charCodeAt(0)]=-2;for(let t=0;t<Ua.length;t+=1)e[Ua[t].charCodeAt(0)]=t;return e})();function wm(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ua[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ua[r]),t.queuedBits-=6}}function Bw(e,t,n){const r=rT[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Sm(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{iT(i,r,n)};for(let i=0;i<e.length;i+=1)Bw(e.charCodeAt(i),s,o);return t.join("")}function sT(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function oT(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}sT(r,t)}}function iT(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function aT(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Bw(e.charCodeAt(s),n,r);return new Uint8Array(t)}function lT(e){const t=[];return oT(e,n=>t.push(n)),new Uint8Array(t)}function cT(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>wm(s,n,r)),wm(null,n,r),t.join("")}function uT(e){return Math.round(Date.now()/1e3)+e}function dT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const $t=()=>typeof window<"u"&&typeof document<"u",vr={tested:!1,writable:!1},Vw=()=>{if(!$t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vr.tested)return vr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),vr.tested=!0,vr.writable=!0}catch{vr.tested=!0,vr.writable=!1}return vr.writable};function fT(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Hw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>fn(async()=>{const{default:r}=await Promise.resolve().then(()=>qs);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},hT=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",is=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},xr=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},zn=async(e,t)=>{await e.removeItem(t)};class Tl{constructor(){this.promise=new Tl.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Tl.promiseConstructor=Promise;function Tc(e){const t=e.split(".");if(t.length!==3)throw new Yu("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!XR.test(t[r]))throw new Yu("JWT not in base64url format");return{header:JSON.parse(Sm(t[0])),payload:JSON.parse(Sm(t[1])),signature:aT(t[2]),raw:{header:t[0],payload:t[1]}}}async function pT(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function mT(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function gT(e){return("0"+e.toString(16)).substr(-2)}function vT(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,gT).join("")}async function xT(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function yT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await xT(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ts(e,t,n=!1){const r=vT();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await is(e,`${t}-code-verifier`,s);const o=await yT(r);return[o,r===o?"plain":"s256"]}const wT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ST(e){const t=e.headers.get(qu);if(!t||!t.match(wT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function bT(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function jT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _T=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ns(e){if(!_T.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ac(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bm(e){return JSON.parse(JSON.stringify(e))}var CT=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Sr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),kT=[502,503,504];async function jm(e){var t;if(!hT(e))throw new Ju(Sr(e),0);if(kT.includes(e.status))throw new Ju(Sr(e),e.status);let n;try{n=await e.json()}catch(o){throw new Uw(Sr(o),o)}let r;const s=ST(e);if(s&&s.getTime()>=zw["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new xm(Sr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Vn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new xm(Sr(n),e.status,n.weak_password.reasons);throw new ZR(Sr(n),e.status||500,r)}const NT=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function he(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[qu]||(o[qu]=zw["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await ET(e,t,n+l,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function ET(e,t,n,r,s,o){const i=NT(t,r,s,o);let l;try{l=await e(n,Object.assign({},i))}catch(c){throw console.error(c),new Ju(Sr(c),0)}if(l.ok||await jm(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await jm(c)}}function mn(e){var t;let n=null;PT(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=uT(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function _m(e){const t=mn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function qn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function RT(e){return{data:e,error:null}}function TT(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=CT(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function AT(e){return e}function PT(e){return e.access_token&&e.refresh_token&&e.expires_in}const Pc=["global","local","others"];var IT=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class OT{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Hw(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Pc[0]){if(Pc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pc.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:qn})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=IT(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:TT,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ue(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:qn})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:AT});if(d.error)throw d.error;const f=await d.json(),p=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,x=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(S=>{const y=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(S.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ue(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ns(t);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:qn})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ns(t);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:qn})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ns(t);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:qn})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ns(t.userId);try{const{data:n,error:r}=await he(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ns(t.userId),ns(t.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}}function Cm(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function DT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const rs={debug:!!(globalThis&&Vw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ww extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class MT extends Ww{}async function LT(e,t,n){rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),rs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new MT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(rs.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}DT();const $T={url:qR,storageKey:JR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:YR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function km(e,t,n){return await n()}const ss={};class ei{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ei.nextInstanceID,ei.nextInstanceID+=1,this.instanceID>0&&$t()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},$T),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new OT({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Hw(s.fetch),this.lock=s.lock||km,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:$t()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=LT:this.lock=km,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Vw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Cm(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Cm(this.memoryStorage)),$t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=ss[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ss[this.storageKey]=Object.assign(Object.assign({},ss[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ss[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ss[this.storageKey]=Object.assign(Object.assign({},ss[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Fw}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=fT(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),$t()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),nT(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ue(n)?{error:n}:{error:new Uw("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:mn}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ue(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:d,password:f,options:p}=t;let x=null,S=null;this.flowType==="pkce"&&([x,S]=await ts(this.storage,this.storageKey)),o=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:x,code_challenge_method:S},xform:mn})}else if("phone"in t){const{phone:d,password:f,options:p}=t;o=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:mn})}else throw new Fi("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ue(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:l}=t;n=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:_m})}else if("phone"in t){const{phone:o,password:i,options:l}=t;n=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:_m})}else throw new Fi("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new $i}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,o,i,l,c,u,d,f,p,x;let S,y;if("message"in t)S=t.message,y=t.signature;else{const{chain:b,wallet:v,statement:m,options:g}=t;let w;if($t())if(typeof v=="object")w=v;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))w=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const k=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const j=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),m?{statement:m}:null));let C;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")C=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)C=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)S=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),y=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${k.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const j=await w.signMessage(new TextEncoder().encode(S),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=j}}try{const{data:b,error:v}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:cT(y)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:mn});if(v)throw v;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new $i}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:v})}catch(b){if(ue(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const n=await xr(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:i}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:mn});if(await zn(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new $i}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(ue(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=t,l=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:mn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new $i}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ts(this.storage,this.storageKey));const{error:f}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Fi("You must provide either an email or phone number.")}catch(l){if(ue(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:l}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:mn});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ue(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await ts(this.storage,this.storageKey)),await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:RT})}catch(o){if(ue(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Vn;const{error:s}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ue(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:i}=await he(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:i,error:l}=await he(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Fi("You must provide either an email or phone number and a type")}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await xr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Ec:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const i=await xr(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Ac()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:qn}):await this._useSession(async n=>{var r,s,o;const{data:i,error:l}=n;if(l)throw l;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vn}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:qn})})}catch(n){if(ue(n))return tT(n)&&(await this._removeSession(),await zn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new Vn;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ts(this.storage,this.storageKey));const{data:u,error:d}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:qn});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Vn;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:i}=Tc(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(ue(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:l}=n;if(l)throw l;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Vn;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!$t())throw new zi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new zi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new vm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new vm("No code detected.");const{data:m,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!i||!u)throw new zi("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let p=d+f;c&&(p=parseInt(c));const x=p-d;x*1e3<=os&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${f}s`);const S=p-f;d-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,p,d):d-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,p,d);const{data:y,error:b}=await this._getUser(o);if(b)throw b;const v={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:p,refresh_token:i,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(r){if(ue(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await xr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(eT(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await zn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=dT(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await ts(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(ue(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,l,c,u,d;const{data:f,error:p}=o;if(p)throw p;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",x,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return $t()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ue(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await mT(async s=>(s>0&&await pT(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:mn})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Rc(o)&&Date.now()+i-r<os})}catch(r){if(this._debug(n,"error",r),ue(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),$t()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await xr(this.storage,this.storageKey);if(s&&this.userStorage){let i=await xr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await is(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Ac()}else if(s&&!s.user&&!s.user){const i=await xr(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await zn(this.storage,this.storageKey+"-user"),await is(this.storage,this.storageKey,s)):s.user=Ac()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ec;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Ec}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Rc(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(r,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Vn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Tl;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Vn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),ue(o)){const i={session:null,error:o};return Rc(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await is(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=bm(s);await is(this.storage,this.storageKey,o)}else{const s=bm(n);await is(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await zn(this.storage,this.storageKey),await zn(this.storage,this.storageKey+"-code-verifier"),await zn(this.storage,this.storageKey+"-user"),this.userStorage&&await zn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&$t()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),os);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/os);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${os}ms, refresh threshold is ${Gu} ticks`),s<=Gu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ww)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$t()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await ts(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await he(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await he(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:i,error:l}=await he(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(n){if(ue(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await he(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ue(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Tc(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+QR>s)return r;const{data:o,error:i}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:x,error:S}=await this.getSession();if(S||!x.session)return{data:null,error:S};r=x.session.access_token}const{header:s,payload:o,signature:i,raw:{header:l,payload:c}}=Tc(r);n!=null&&n.allowExpired||bT(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:o,header:s,signature:i},error:null}}const d=jT(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,lT(`${l}.${c}`)))throw new Yu("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}}ei.nextInstanceID=0;const FT=ei;class zT extends FT{constructor(t){super(t)}}var UT=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class BT{constructor(t,n,r){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=KR(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:$R,realtime:zR,auth:Object.assign(Object.assign({},FR),{storageKey:u}),global:LR},f=GR(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=HR(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new iR(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new OR(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new M2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return UT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:i,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zT({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:i,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new SR(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const VT=(e,t,n)=>new BT(e,t,n);function HT(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}HT()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const WT="https://qxlbrihnasevumeeeqzg.supabase.co",KT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF4bGJyaWhuYXNldnVtZWVlcXpnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ0NDUwNjcsImV4cCI6MjA3MDAyMTA2N30.OaQsuOIGDzZVB6xaaEHf0WPq_CvFNC9LHvdkNoILMVk",Ht=VT(WT,KT),Al=1,Kw=()=>"__TAURI__"in window,Gw=()=>{var e;return!!((e=window.Capacitor)!=null&&e.isNativePlatform())},Ba=()=>{console.log("[DM] Gathering data from localStorage...");const e=JSON.parse(localStorage.getItem("poker-ranges-folders")||"[]"),t=JSON.parse(localStorage.getItem("poker-ranges-actions")||"[]"),n=JSON.parse(localStorage.getItem("training-sessions")||"[]");let r=[];const s=localStorage.getItem("training-statistics");if(s)try{const f=JSON.parse(s);Array.isArray(f)?r=f:console.warn("[DM] Old object-based training statistics found. Discarding for new array format.")}catch(f){console.error("[DM] Failed to parse training statistics, defaulting to empty array.",f)}let o={};const i=localStorage.getItem("poker-range-access-statistics");if(i)try{const f=JSON.parse(i);typeof f=="object"&&f!==null&&!Array.isArray(f)?o=f:console.warn("[DM] Old array-based range access statistics found or invalid. Discarding for new object format.")}catch(f){console.error("[DM] Failed to parse range access statistics, defaulting to empty object.",f)}const l=JSON.parse(localStorage.getItem("userCharts")||"[]"),c=JSON.parse(localStorage.getItem("poker-editor-settings")||"{}"),u=localStorage.getItem("poker-data-timestamp")||new Date(0).toISOString(),d={version:Al,folders:e,actionButtons:t,trainings:n,statistics:r,rangeAccessStats:o,charts:l,editorSettings:c,timestamp:u};return console.log("[DM] Gathered data:",d),console.log(`[DM] Gathered charts: ${d.charts.length} charts. Example chart (first 500 chars): ${JSON.stringify(d.charts[0]||{}).substring(0,500)}`),d},Hf=(e,t=!0)=>{if(console.log("[DM] Attempting to apply data:",e),!e||e.version>Al){console.error("[DM] Invalid or newer data format."),alert("Ошибка: Неверный или более новый формат файла настроек, который не поддерживается этой версией приложения.");return}try{localStorage.setItem("poker-ranges-folders",JSON.stringify(e.folders||[])),localStorage.setItem("poker-ranges-actions",JSON.stringify(e.actionButtons||[])),localStorage.setItem("training-sessions",JSON.stringify(e.trainings||[])),localStorage.setItem("training-statistics",JSON.stringify(e.statistics||[])),localStorage.setItem("poker-range-access-statistics",JSON.stringify(e.rangeAccessStats||{})),localStorage.setItem("userCharts",JSON.stringify(e.charts||[])),localStorage.setItem("poker-editor-settings",JSON.stringify(e.editorSettings||{})),localStorage.setItem("poker-data-timestamp",e.timestamp),console.log("[DM] Data successfully written to localStorage."),console.log(`[DM] Applied charts: ${e.charts.length} charts. Example chart (first 500 chars): ${JSON.stringify(e.charts[0]||{}).substring(0,500)}`),t&&(alert("Настройки успешно импортированы! Приложение будет перезагружено."),setTimeout(()=>{console.log("[DM] Reloading window..."),window.location.reload()},250))}catch(n){console.error("[DM] Error applying data to localStorage:",n),alert("Ошибка при сохранении данных локально.")}},GT=(e,t)=>{console.log("[DM] Merging training statistics arrays...");const n=[...e||[],...t||[]],r=new Map;for(const o of n)o&&typeof o.timestamp=="number"&&(r.has(o.timestamp)||r.set(o.timestamp,o));const s=Array.from(r.values());return console.log(`[DM] Merged training stats result: ${s.length} unique sessions.`),s},qT=(e,t)=>{console.log("[DM] Merging range access statistics...");const n={...e};for(const r in t)t.hasOwnProperty(r)&&(n[r]=(n[r]||0)+t[r]);return console.log(`[DM] Merged range access stats result: ${Object.keys(n).length} unique ranges.`),n},Rr=async(e=!0)=>{console.log("[DM] Attempting to sync data to Supabase...");const{data:{user:t}}=await Ht.auth.getUser();if(!t){e&&alert("Вы должны войти в систему для синхронизации данных."),console.log("[DM] No user logged in for sync.");return}const n=Ba(),{version:r,timestamp:s,...o}=n,i=new Date().toISOString();console.log(`[DM] Preparing to sync ${o.folders.length} folders, ${o.actionButtons.length} actions, ${o.trainings.length} trainings, ${o.statistics.length} training stats, ${Object.keys(o.rangeAccessStats).length} range access stats, ${o.charts.length} charts.`),console.log(`[DM] Syncing charts data (first 500 chars): ${JSON.stringify(o.charts[0]||{}).substring(0,500)}`);const{error:l}=await Ht.from("user_data").upsert({user_id:t.id,folders:o.folders,action_buttons:o.actionButtons,trainings:o.trainings,statistics:o.statistics,range_access_stats:o.rangeAccessStats,charts:o.charts,editor_settings:o.editorSettings,updated_at:i},{onConflict:"user_id"});l?(console.error("[DM] Error syncing data to Supabase:",l),e&&alert("Ошибка синхронизации данных с облаком.")):(console.log("[DM] Data successfully synced to Supabase."),localStorage.setItem("poker-data-timestamp",i),e&&alert("Данные успешно сохранены в облаке!"))},Xu=async e=>{if(console.log("[DM] loadDataFromSupabase called."),!e){console.log("[DM] No user provided, cannot load data. Returning.");return}console.log(`[DM] User session found, proceeding to fetch user_data for user_id: ${e.id}`);try{const{data:t,error:n}=await Ht.from("user_data").select("*").eq("user_id",e.id).single();if(n&&n.code!=="PGRST116"){console.error("[DM] Error loading data from Supabase:",n);return}const r=t;if(r){console.log("[DM] Data received from Supabase:",r),console.log(`[DM] Cloud charts data (first 500 chars): ${JSON.stringify(r.charts[0]||{}).substring(0,500)}`);const s=Ba(),o=s.timestamp,i=r.updated_at;if(console.log(`[DM] Local timestamp: ${o}, Cloud timestamp: ${i}`),!o||new Date(i)>new Date(o))if(console.log("[DM] Cloud data is newer or local data is missing. Prompting user."),confirm("Найдены данные в облаке. Загрузить их? Это объединит вашу статистику и перезапишет остальные настройки (папки, чарты).")){const l=s.statistics,c=r.statistics,u=Array.isArray(c)?c:[],d=GT(l,u),f=s.rangeAccessStats,p=r.range_access_stats,x=typeof p=="object"&&p!==null&&!Array.isArray(p)?p:{},S=qT(f,x),y={version:Al,folders:r.folders||[],actionButtons:r.action_buttons||[],trainings:r.trainings||[],statistics:d,rangeAccessStats:S,charts:r.charts||[],editorSettings:r.editor_settings||{},timestamp:r.updated_at||new Date().toISOString()};console.log(`[DM] Applying cloud data: ${y.folders.length} folders, ${y.actionButtons.length} actions, ${y.trainings.length} trainings, ${y.statistics.length} training stats, ${Object.keys(y.rangeAccessStats).length} range access stats, ${y.charts.length} charts.`),Hf(y)}else console.log("[DM] User chose not to load newer cloud data.");else console.log("[DM] Local data is up-to-date or newer. No automatic action taken.")}else{console.log("[DM] No data found in Supabase for this user. Prompting to sync local data.");const s=Ba();s.folders.length>0||s.charts.length>0||s.statistics.length>0||Object.keys(s.rangeAccessStats).length>0?confirm("В облаке нет данных. Хотите сохранить текущие локальные данные в облако?")&&(console.log("[DM] User confirmed to sync local data to Supabase."),await Rr(!1),alert("Данные успешно сохранены в облаке!")):console.log("[DM] No cloud data and no significant local data to upload.")}}catch(t){console.error("[DM] Unhandled error in loadDataFromSupabase:",t)}finally{console.log("[DM] loadDataFromSupabase function finished execution.")}},JT=()=>{console.log("[DM] Clearing local data..."),localStorage.removeItem("poker-ranges-folders"),localStorage.removeItem("poker-ranges-actions"),localStorage.removeItem("training-sessions"),localStorage.removeItem("training-statistics"),localStorage.removeItem("poker-range-access-statistics"),localStorage.removeItem("userCharts"),localStorage.removeItem("poker-editor-settings"),localStorage.removeItem("poker-data-timestamp"),console.log("[DM] Local data cleared. Reloading window..."),window.location.reload()},qw=e=>{console.log("[DM] Exporting data for web:",e);const t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download=`poker-settings-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r),console.log("[DM] Web export initiated.")},YT=async e=>{console.log("[DM] Exporting data for Tauri:",e);try{const{save:t}=await fn(async()=>{const{save:s}=await Promise.resolve().then(()=>ti);return{save:s}},void 0),{writeTextFile:n}=await fn(async()=>{const{writeTextFile:s}=await Promise.resolve().then(()=>ti);return{writeTextFile:s}},void 0),r=await t({defaultPath:`poker-settings-backup-${new Date().toISOString().split("T")[0]}.json`,filters:[{name:"JSON",extensions:["json"]}]});if(r){const s=JSON.stringify(e,null,2);await n(r,s),alert("Настройки успешно экспортированы!"),console.log("[DM] Tauri export successful to:",r)}else console.log("[DM] Tauri export cancelled.")}catch(t){console.error("[DM] Failed to export settings via Tauri:",t),alert("Ошибка экспорта настроек.")}},XT=async e=>{console.log("[DM] Exporting data for Capacitor:",e);try{const{Filesystem:t,Directory:n,Encoding:r}=await fn(async()=>{const{Filesystem:l,Directory:c,Encoding:u}=await Promise.resolve().then(()=>ti);return{Filesystem:l,Directory:c,Encoding:u}},void 0);if((await t.requestPermissions()).publicStorage!=="granted"){alert("Для экспорта настроек необходимо разрешение на доступ к хранилищу."),console.warn("[DM] Capacitor export: Public storage permission not granted.");return}const o=JSON.stringify(e,null,2),i=`poker-settings-backup-${new Date().toISOString()}.json`;await t.writeFile({path:i,data:o,directory:n.Documents,encoding:r.UTF8}),alert(`Настройки сохранены в папку "Документы" под именем: ${i}`),console.log("[DM] Capacitor export successful to:",i)}catch(t){console.error("[DM] Failed to export settings via Capacitor:",t),alert("Ошибка экспорта настроек. Проверьте разрешения приложения.")}},Jw=()=>{console.log("[DM] Initiating web import...");const e=document.createElement("input");e.type="file",e.accept="application/json",e.onchange=t=>{var r;const n=(r=t.target.files)==null?void 0:r[0];if(n){const s=new FileReader;s.onload=o=>{var i;try{const l=JSON.parse((i=o.target)==null?void 0:i.result);console.log("[DM] Web import: File parsed, applying data:",l),Hf(l)}catch(l){console.error("[DM] Error parsing JSON file.",l),alert("Ошибка: Не удалось прочитать файл.")}},s.readAsText(n)}else console.log("[DM] Web import: No file selected.")},e.click()},QT=async()=>{console.log("[DM] Initiating Tauri import...");try{const{open:e}=await fn(async()=>{const{open:r}=await Promise.resolve().then(()=>ti);return{open:r}},void 0),{readTextFile:t}=await fn(async()=>{const{readTextFile:r}=await Promise.resolve().then(()=>ti);return{readTextFile:r}},void 0),n=await e({multiple:!1,filters:[{name:"JSON",extensions:["json"]}]});if(typeof n=="string"&&n){const r=await t(n),s=JSON.parse(r);console.log("[DM] Tauri import: File read and parsed, applying data:",s),Hf(s)}else console.log("[DM] Tauri import cancelled or no file selected.")}catch(e){console.error("[DM] Failed to import settings via Tauri:",e),alert("Ошибка импорта настроек.")}},ZT=()=>{console.log("[DM] Initiating Capacitor import (using web fallback)..."),Jw()},eA=async(e=!0)=>{console.log("[DM] Resetting range access statistics..."),localStorage.setItem("poker-range-access-statistics",JSON.stringify({})),console.log("[DM] Local range access statistics cleared.");const{data:{user:t}}=await Ht.auth.getUser();if(t){console.log("[DM] User is logged in, clearing range access stats in Supabase...");const n=new Date().toISOString(),{error:r}=await Ht.from("user_data").update({range_access_stats:{},updated_at:n}).eq("user_id",t.id);r?(console.error("[DM] Error clearing range access stats in Supabase:",r),e&&alert("Ошибка при сбросе статистики в облаке. Локальная статистика сброшена.")):(console.log("[DM] Supabase range access stats cleared successfully."),localStorage.setItem("poker-data-timestamp",n),e&&alert("Статистика обращений к ренджам успешно сброшена."))}else e&&alert("Статистика обращений к ренджам успешно сброшена.")},Nm=()=>{console.log("[DM] Exporting data to file...");const e=Ba();Kw()?YT(e):Gw()?XT(e):qw(e)},Em=()=>{console.log("[DM] Importing data from file..."),Kw()?QT():Gw()?ZT():Jw()},Rm=async()=>{console.log("[DM] Attempting to download cloud backup...");const{data:{user:e}={user:null}}=await Ht.auth.getUser();if(!e){alert("Вы должны войти в систему, чтобы скачать бэкап из облака."),console.log("[DM] No user logged in for cloud backup download.");return}try{const{data:t,error:n}=await Ht.from("user_data").select("*").eq("user_id",e.id).single();if(n&&n.code!=="PGRST116")throw n;if(t){console.log("[DM] Cloud backup data received:",t);const r={version:Al,folders:t.folders||[],actionButtons:t.action_buttons||[],trainings:t.trainings||[],statistics:t.statistics||[],rangeAccessStats:t.range_access_stats||{},charts:t.charts||[],editorSettings:t.editor_settings||{},timestamp:t.updated_at||new Date().toISOString()};qw(r),console.log("[DM] Cloud backup exported via web.")}else alert("В облаке нет данных для скачивания."),console.log("[DM] No cloud backup data found.")}catch(t){console.error("[DM] Error downloading cloud backup:",t),alert("Ошибка загрузки бэкапа из облака.")}},Yw=h.createContext(void 0),Wf=()=>{const e=h.useContext(Yw);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},tA=({children:e})=>{const[t,n]=h.useState(null),[r,s]=h.useState(!0);h.useEffect(()=>{console.log("AuthContext: useEffect started."),s(!0);const{data:{subscription:c}}=Ht.auth.onAuthStateChange((u,d)=>{if(console.log(`AuthContext: onAuthStateChange event: ${u}, session available: ${!!d}`),d!=null&&d.user){const f={id:d.user.id,email:d.user.email};n(f),console.log("AuthContext: User state set:",f),(u==="SIGNED_IN"||u==="INITIAL_SESSION")&&(console.log("AuthContext: Triggering non-blocking data load."),Xu(d.user))}else n(null),console.log("AuthContext: User state set to null."),u==="SIGNED_OUT"&&(console.log("AuthContext: Clearing local data due to SIGNED_OUT."),JT());s(!1),console.log("AuthContext: setLoading(false). UI should now be unblocked.")});return()=>{console.log("AuthContext: useEffect cleanup, unsubscribing from auth state changes."),c.unsubscribe()}},[]),h.useEffect(()=>{const c=()=>{t&&(console.log("AuthContext: Syncing data on page hide."),Rr(!1))};return window.addEventListener("pagehide",c),()=>{window.removeEventListener("pagehide",c)}},[t]);const o=async(c,u)=>{console.log("AuthContext: Attempting to register user:",c);const{data:d,error:f}=await Ht.auth.signUp({email:c,password:u});return f?(console.error("AuthContext: Registration error:",f.message),{success:!1,message:"Ошибка регистрации: "+f.message}):(d.user&&(console.log("AuthContext: User registered, syncing initial data."),await Rr(!1)),console.log("AuthContext: Registration successful."),{success:!0})},i=async(c,u)=>{console.log("AuthContext: Attempting to log in user:",c);const{error:d}=await Ht.auth.signInWithPassword({email:c,password:u});return d?(console.error("AuthContext: Login error:",d.message),{success:!1,message:"Ошибка входа: "+d.message}):(console.log("AuthContext: Login successful."),{success:!0})},l=async()=>{console.log("AuthContext: Attempting to log out user."),await Rr(!1),console.log("AuthContext: Data synced before logout."),await Ht.auth.signOut(),console.log("AuthContext: Logout initiated.")};return a.jsx(Yw.Provider,{value:{user:t,login:i,register:o,logout:l,isAuthenticated:!!t,loading:r},children:e})};var Pl="Tabs",[nA,aO]=et(Pl,[Gs]),Xw=Gs(),[rA,Kf]=nA(Pl),Qw=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Hr(l),[f,p]=It({prop:r,onChange:s,defaultProp:o??"",caller:Pl});return a.jsx(rA,{scope:n,baseId:Et(),value:f,onValueChange:p,orientation:i,dir:d,activationMode:c,children:a.jsx(se.div,{dir:d,"data-orientation":i,...u,ref:t})})});Qw.displayName=Pl;var Zw="TabsList",e0=h.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=Kf(Zw,n),i=Xw(n);return a.jsx(yf,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:a.jsx(se.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});e0.displayName=Zw;var t0="TabsTrigger",n0=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,i=Kf(t0,n),l=Xw(n),c=o0(i.baseId,r),u=i0(i.baseId,r),d=r===i.value;return a.jsx(wf,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(se.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:Y(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:Y(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:Y(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(r)})})})});n0.displayName=t0;var r0="TabsContent",s0=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=e,l=Kf(r0,n),c=o0(l.baseId,r),u=i0(l.baseId,r),d=r===l.value,f=h.useRef(d);return h.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),a.jsx(Ot,{present:s||d,children:({present:p})=>a.jsx(se.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:p&&o})})});s0.displayName=r0;function o0(e,t){return`${e}-trigger-${t}`}function i0(e,t){return`${e}-content-${t}`}var sA=Qw,a0=e0,l0=n0,c0=s0;const oA=sA,u0=h.forwardRef(({className:e,...t},n)=>a.jsx(a0,{ref:n,className:D("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));u0.displayName=a0.displayName;const Qu=h.forwardRef(({className:e,...t},n)=>a.jsx(l0,{ref:n,className:D("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Qu.displayName=l0.displayName;const Zu=h.forwardRef(({className:e,...t},n)=>a.jsx(c0,{ref:n,className:D("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Zu.displayName=c0.displayName;const xe=h.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:D("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));xe.displayName="Input";var iA="Label",d0=h.forwardRef((e,t)=>a.jsx(se.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));d0.displayName=iA;var f0=d0;const aA=cx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),F=h.forwardRef(({className:e,...t},n)=>a.jsx(f0,{ref:n,className:D(aA(),e),...t}));F.displayName=f0.displayName;const lA=1,cA=1e6;let Ic=0;function uA(){return Ic=(Ic+1)%Number.MAX_SAFE_INTEGER,Ic.toString()}const Oc=new Map,Tm=e=>{if(Oc.has(e))return;const t=setTimeout(()=>{Oc.delete(e),Po({type:"REMOVE_TOAST",toastId:e})},cA);Oc.set(e,t)},dA=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,lA)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Tm(n):e.toasts.forEach(r=>{Tm(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},sa=[];let oa={toasts:[]};function Po(e){oa=dA(oa,e),sa.forEach(t=>{t(oa)})}function fA({...e}){const t=uA(),n=s=>Po({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Po({type:"DISMISS_TOAST",toastId:t});return Po({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function h0(){const[e,t]=h.useState(oa);return h.useEffect(()=>(sa.push(t),()=>{const n=sa.indexOf(t);n>-1&&sa.splice(n,1)}),[e]),{...e,toast:fA,dismiss:n=>Po({type:"DISMISS_TOAST",toastId:n})}}const hA=({open:e,onOpenChange:t})=>{const[n,r]=h.useState(""),[s,o]=h.useState(""),[i,l]=h.useState(!1),{login:c,register:u}=Wf(),{toast:d}=h0(),f=async y=>{if(y.preventDefault(),!n.trim()||!s.trim()){d({title:"Ошибка",description:"Заполните все поля",variant:"destructive"});return}l(!0);try{const b=await c(n.trim(),s);b.success?(d({title:"Успешно",description:"Вы вошли в систему"}),t(!1),x()):d({title:"Ошибка",description:b.message,variant:"destructive"})}catch{d({title:"Ошибка",description:"Произошла ошибка. Попробуйте снова.",variant:"destructive"})}finally{l(!1)}},p=async y=>{if(y.preventDefault(),!n.trim()||!s.trim()){d({title:"Ошибка",description:"Заполните все поля",variant:"destructive"});return}l(!0);try{const b=await u(n.trim(),s);b.success?(d({title:"Успешно",description:"Аккаунт создан. Проверьте почту для подтверждения."}),t(!1),x()):d({title:"Ошибка",description:b.message,variant:"destructive"})}catch{d({title:"Ошибка",description:"Произошла ошибка. Попробуйте снова.",variant:"destructive"})}finally{l(!1)}},x=()=>{r(""),o("")},S=()=>{x()};return a.jsx(Dt,{open:e,onOpenChange:t,children:a.jsxs(St,{className:"sm:max-w-md",children:[a.jsxs(bt,{children:[a.jsx(jt,{children:"Доступ к аккаунту"}),a.jsx(hr,{children:"Войдите или зарегистрируйтесь, чтобы сохранять свои диапазоны в облаке."})]}),a.jsxs(oA,{defaultValue:"login",className:"w-full",onValueChange:S,children:[a.jsxs(u0,{className:"grid w-full grid-cols-2",children:[a.jsx(Qu,{value:"login",children:"Вход"}),a.jsx(Qu,{value:"register",children:"Регистрация"})]}),a.jsx(Zu,{value:"login",children:a.jsxs("form",{onSubmit:f,className:"space-y-4 pt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{htmlFor:"login-email",children:"Email"}),a.jsx(xe,{id:"login-email",type:"email",value:n,onChange:y=>r(y.target.value),placeholder:"Введите ваш email",disabled:i})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{htmlFor:"login-password",children:"Пароль"}),a.jsx(xe,{id:"login-password",type:"password",value:s,onChange:y=>o(y.target.value),placeholder:"Введите пароль",disabled:i})]}),a.jsx(J,{type:"submit",disabled:i,className:"w-full",children:i?"Загрузка...":"Войти"})]})}),a.jsx(Zu,{value:"register",children:a.jsxs("form",{onSubmit:p,className:"space-y-4 pt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{htmlFor:"register-email",children:"Email"}),a.jsx(xe,{id:"register-email",type:"email",value:n,onChange:y=>r(y.target.value),placeholder:"Введите ваш email",disabled:i})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{htmlFor:"register-password",children:"Пароль"}),a.jsx(xe,{id:"register-password",type:"password",value:s,onChange:y=>o(y.target.value),placeholder:"Придумайте пароль",disabled:i})]}),a.jsx(J,{type:"submit",disabled:i,className:"w-full",children:i?"Загрузка...":"Зарегистрироваться"})]})})]})]})})};function Il(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Gf="Radio",[pA,p0]=et(Gf),[mA,gA]=pA(Gf),m0=h.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:o,disabled:i,value:l="on",onCheck:c,form:u,...d}=e,[f,p]=h.useState(null),x=de(t,b=>p(b)),S=h.useRef(!1),y=f?u||!!f.closest("form"):!0;return a.jsxs(mA,{scope:n,checked:s,disabled:i,children:[a.jsx(se.button,{type:"button",role:"radio","aria-checked":s,"data-state":y0(s),"data-disabled":i?"":void 0,disabled:i,value:l,...d,ref:x,onClick:Y(e.onClick,b=>{s||c==null||c(),y&&(S.current=b.isPropagationStopped(),S.current||b.stopPropagation())})}),y&&a.jsx(x0,{control:f,bubbles:!S.current,name:r,value:l,checked:s,required:o,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});m0.displayName=Gf;var g0="RadioIndicator",v0=h.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...s}=e,o=gA(g0,n);return a.jsx(Ot,{present:r||o.checked,children:a.jsx(se.span,{"data-state":y0(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})})});v0.displayName=g0;var vA="RadioBubbleInput",x0=h.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...s},o)=>{const i=h.useRef(null),l=de(i,o),c=Il(n),u=ml(t);return h.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&x){const S=new Event("click",{bubbles:r});x.call(d,n),d.dispatchEvent(S)}},[c,n,r]),a.jsx(se.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});x0.displayName=vA;function y0(e){return e?"checked":"unchecked"}var xA=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ol="RadioGroup",[yA,lO]=et(Ol,[Gs,p0]),w0=Gs(),S0=p0(),[wA,SA]=yA(Ol),b0=h.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:o,required:i=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...p}=e,x=w0(n),S=Hr(u),[y,b]=It({prop:o,defaultProp:s??null,onChange:f,caller:Ol});return a.jsx(wA,{scope:n,name:r,required:i,disabled:l,value:y,onValueChange:b,children:a.jsx(yf,{asChild:!0,...x,orientation:c,dir:S,loop:d,children:a.jsx(se.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:S,...p,ref:t})})})});b0.displayName=Ol;var j0="RadioGroupItem",_0=h.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...s}=e,o=SA(j0,n),i=o.disabled||r,l=w0(n),c=S0(n),u=h.useRef(null),d=de(t,u),f=o.value===s.value,p=h.useRef(!1);return h.useEffect(()=>{const x=y=>{xA.includes(y.key)&&(p.current=!0)},S=()=>p.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",S),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",S)}},[]),a.jsx(wf,{asChild:!0,...l,focusable:!i,active:f,children:a.jsx(m0,{disabled:i,required:o.required,checked:f,...c,...s,name:o.name,ref:d,onCheck:()=>o.onValueChange(s.value),onKeyDown:Y(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:Y(s.onFocus,()=>{var x;p.current&&((x=u.current)==null||x.click())})})})});_0.displayName=j0;var bA="RadioGroupIndicator",C0=h.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,s=S0(n);return a.jsx(v0,{...s,...r,ref:t})});C0.displayName=bA;var k0=b0,N0=_0,jA=C0;const Xe=h.forwardRef(({className:e,...t},n)=>a.jsx(k0,{className:D("grid gap-2",e),...t,ref:n}));Xe.displayName=k0.displayName;const le=h.forwardRef(({className:e,...t},n)=>a.jsx(N0,{ref:n,className:D("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(jA,{className:"flex items-center justify-center",children:a.jsx(Xy,{className:"h-2.5 w-2.5 fill-current text-current"})})}));le.displayName=N0.displayName;const en={cellBackgroundColor:{type:"default",customColor:"#374151"},matrixBackgroundColor:{type:"dark",customColor:"#111827"},cellBorderRadius:"md",cellSpacing:"md",font:{size:"m",customSize:"14px",color:"white",weight:"normal",inactiveFontTransparent:!1}},E0=h.createContext(void 0),On=()=>{const e=h.useContext(E0);if(!e)throw new Error("useRangeContext must be used within a RangeProvider");return e},_A=({children:e})=>{const[t,n]=h.useState(()=>{const u=localStorage.getItem("poker-ranges-folders");return u?JSON.parse(u):[{id:"1",name:"Folder",ranges:[{id:"1",name:"Range",hands:{}}]}]}),[r,s]=h.useState(()=>{const u=localStorage.getItem("poker-ranges-actions");return u?JSON.parse(u).map(f=>f.type?f:{...f,type:"simple"}):[{type:"simple",id:"raise",name:"Raise",color:"#8b5cf6"}]}),[o,i]=h.useState(()=>{try{const u=localStorage.getItem("poker-editor-settings"),d=u?JSON.parse(u):en,f={...en,...d};return f.cellBackgroundColor={...en.cellBackgroundColor,...d.cellBackgroundColor},f.matrixBackgroundColor={...en.matrixBackgroundColor,...d.matrixBackgroundColor},f.font={...en.font,...d.font},["s","m","l","xl","custom"].includes(f.font.size)||(f.font.size=en.font.size),f.font.size==="custom"&&!f.font.customSize&&(f.font.customSize=en.font.customSize),["normal","bold"].includes(f.font.weight)||(f.font.weight=en.font.weight),typeof f.font.inactiveFontTransparent>"u"&&(f.font.inactiveFontTransparent=en.font.inactiveFontTransparent),f}catch{return en}}),[l,c]=h.useState("#6b7280");return h.useEffect(()=>{localStorage.setItem("poker-ranges-folders",JSON.stringify(t))},[t]),h.useEffect(()=>{localStorage.setItem("poker-ranges-actions",JSON.stringify(r))},[r]),h.useEffect(()=>{localStorage.setItem("poker-editor-settings",JSON.stringify(o))},[o]),h.useEffect(()=>{const u=o.matrixBackgroundColor.type,d=o.cellBackgroundColor.type;let f="#6b7280";u==="dark"&&d==="default"?f="#161b26":u==="white"&&d==="default"?f="#8f949d":u==="white"&&d==="white"&&(f="#ffffff"),c(f)},[o]),a.jsx(E0.Provider,{value:{folders:t,actionButtons:r,editorSettings:o,setFolders:n,setActionButtons:s,setEditorSettings:i,foldColor:l},children:e})};var Dl="Checkbox",[CA,cO]=et(Dl),[kA,qf]=CA(Dl);function NA(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:o,form:i,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[p,x]=It({prop:n,defaultProp:s??!1,onChange:c,caller:Dl}),[S,y]=h.useState(null),[b,v]=h.useState(null),m=h.useRef(!1),g=S?!!i||!!S.closest("form"):!0,w={checked:p,disabled:o,setChecked:x,control:S,setControl:y,name:l,form:i,value:d,hasConsumerStoppedPropagationRef:m,required:u,defaultChecked:or(s)?!1:s,isFormControl:g,bubbleInput:b,setBubbleInput:v};return a.jsx(kA,{scope:t,...w,children:EA(f)?f(w):r})}var R0="CheckboxTrigger",T0=h.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:o,value:i,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:x,bubbleInput:S}=qf(R0,e),y=de(s,d),b=h.useRef(c);return h.useEffect(()=>{const v=o==null?void 0:o.form;if(v){const m=()=>f(b.current);return v.addEventListener("reset",m),()=>v.removeEventListener("reset",m)}},[o,f]),a.jsx(se.button,{type:"button",role:"checkbox","aria-checked":or(c)?"mixed":c,"aria-required":u,"data-state":D0(c),"data-disabled":l?"":void 0,disabled:l,value:i,...r,ref:y,onKeyDown:Y(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:Y(n,v=>{f(m=>or(m)?!0:!m),S&&x&&(p.current=v.isPropagationStopped(),p.current||v.stopPropagation())})})});T0.displayName=R0;var Jf=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:i,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return a.jsx(NA,{__scopeCheckbox:n,checked:s,defaultChecked:o,disabled:l,required:i,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:p})=>a.jsxs(a.Fragment,{children:[a.jsx(T0,{...f,ref:t,__scopeCheckbox:n}),p&&a.jsx(O0,{__scopeCheckbox:n})]})})});Jf.displayName=Dl;var A0="CheckboxIndicator",P0=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,o=qf(A0,n);return a.jsx(Ot,{present:r||or(o.checked)||o.checked===!0,children:a.jsx(se.span,{"data-state":D0(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});P0.displayName=A0;var I0="CheckboxBubbleInput",O0=h.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:i,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:p,setBubbleInput:x}=qf(I0,e),S=de(n,x),y=Il(o),b=ml(r);h.useEffect(()=>{const m=p;if(!m)return;const g=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(g,"checked").set,j=!s.current;if(y!==o&&k){const C=new Event("click",{bubbles:j});m.indeterminate=or(o),k.call(m,or(o)?!1:o),m.dispatchEvent(C)}},[p,y,o,s]);const v=h.useRef(or(o)?!1:o);return a.jsx(se.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??v.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:S,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});O0.displayName=I0;function EA(e){return typeof e=="function"}function or(e){return e==="indeterminate"}function D0(e){return or(e)?"indeterminate":e?"checked":"unchecked"}const Cn=h.forwardRef(({className:e,...t},n)=>a.jsx(Jf,{ref:n,className:D("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(P0,{className:D("flex items-center justify-center text-current"),children:a.jsx(Rf,{className:"h-4 w-4"})})}));Cn.displayName=Jf.displayName;const Am=({isOpen:e,onOpenChange:t,isMobileMode:n})=>{const{editorSettings:r,setEditorSettings:s}=On(),o=(c,u)=>{s(d=>({...d,[c]:u}))},i=(c,u)=>{s(d=>({...d,font:{...d.font,[c]:u}}))},l=c=>{s(u=>({...u,font:{...u.font,customSize:c}}))};return a.jsx(Dt,{open:e,onOpenChange:t,children:a.jsxs(St,{className:D("max-h-[90dvh] overflow-y-auto sm:max-w-sm",n&&"h-full max-h-full"),mobileFullscreen:n,children:[a.jsxs(bt,{children:[a.jsx(jt,{children:"Настройки редактора"}),a.jsx(hr,{children:"Настройте внешний вид редактора диапазонов."})]}),a.jsxs("div",{className:"py-0 space-y-1.5",children:[" ",a.jsxs("div",{className:"space-y-1.5",children:[" ",a.jsx("h3",{className:"text-lg font-medium",children:"Фон за матрицей"}),a.jsxs(Xe,{value:r.matrixBackgroundColor.type,onValueChange:c=>s(u=>({...u,matrixBackgroundColor:{...u.matrixBackgroundColor,type:c}})),className:"flex flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"dark",id:"bg-dark"}),a.jsx(F,{htmlFor:"bg-dark",children:"Темный"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"white",id:"bg-white"}),a.jsx(F,{htmlFor:"bg-white",children:"Белый"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"custom",id:"bg-custom"}),a.jsx(F,{htmlFor:"bg-custom",children:"На выбор"})]})]}),r.matrixBackgroundColor.type==="custom"&&a.jsxs("div",{className:"flex items-center gap-4 pl-6 pt-0.5",children:[" ",a.jsx(F,{htmlFor:"custom-bg-color-picker",className:"sr-only",children:"Выбор цвета"}),a.jsx(xe,{id:"custom-bg-color-picker",type:"color",className:"p-0 h-10 w-10 cursor-pointer rounded-md border-none",value:r.matrixBackgroundColor.customColor,onChange:c=>s(u=>({...u,matrixBackgroundColor:{...u.matrixBackgroundColor,customColor:c.target.value}}))}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Выберите свой цвет фона."})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[" ",a.jsx("h3",{className:"text-lg font-medium",children:"Фон ячеек матрицы"}),a.jsxs(Xe,{value:r.cellBackgroundColor.type,onValueChange:c=>s(u=>({...u,cellBackgroundColor:{...u.cellBackgroundColor,type:c}})),className:"flex flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"default",id:"color-default"}),a.jsx(F,{htmlFor:"color-default",children:"Темный"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"white",id:"color-white"}),a.jsx(F,{htmlFor:"color-white",children:"Белый"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"custom",id:"color-custom"}),a.jsx(F,{htmlFor:"color-custom",children:"На выбор"})]})]}),r.cellBackgroundColor.type==="custom"&&a.jsxs("div",{className:"flex items-center gap-4 pl-6 pt-0.5",children:[" ",a.jsx(F,{htmlFor:"custom-color-picker",className:"sr-only",children:"Выбор цвета"}),a.jsx(xe,{id:"custom-color-picker",type:"color",className:"p-0 h-10 w-10 cursor-pointer rounded-md border-none",value:r.cellBackgroundColor.customColor,onChange:c=>s(u=>({...u,cellBackgroundColor:{...u.cellBackgroundColor,customColor:c.target.value}}))}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Выберите свой цвет фона."})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[" ",a.jsx("h3",{className:"text-lg font-medium",children:"Скругление ячеек"}),a.jsxs(Xe,{value:r.cellBorderRadius,onValueChange:c=>o("cellBorderRadius",c),className:"flex flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"none",id:"radius-none"}),a.jsx(F,{htmlFor:"radius-none",children:"Нет"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"sm",id:"radius-sm"}),a.jsx(F,{htmlFor:"radius-sm",children:"S"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"md",id:"radius-md"}),a.jsx(F,{htmlFor:"radius-md",children:"M"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"lg",id:"radius-lg"}),a.jsx(F,{htmlFor:"radius-lg",children:"L"})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[" ",a.jsx("h3",{className:"text-lg font-medium",children:"Расстояние между ячейками"}),a.jsxs(Xe,{value:r.cellSpacing,onValueChange:c=>o("cellSpacing",c),className:"flex flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"none",id:"spacing-none"}),a.jsx(F,{htmlFor:"spacing-none",children:"0"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"sm",id:"spacing-sm"}),a.jsx(F,{htmlFor:"spacing-sm",children:"S"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"md",id:"spacing-md"}),a.jsx(F,{htmlFor:"spacing-md",children:"M"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"lg",id:"spacing-lg"}),a.jsx(F,{htmlFor:"spacing-lg",children:"L"})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[" ",a.jsx("h3",{className:"text-lg font-medium",children:"Шрифт ячеек"}),a.jsxs("div",{className:"space-y-1.5",children:[" ",a.jsx(F,{children:"Размер"}),a.jsxs(Xe,{value:r.font.size,onValueChange:c=>i("size",c),className:"flex flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"s",id:"font-s"}),a.jsx(F,{htmlFor:"font-s",children:"S"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"m",id:"font-m"}),a.jsx(F,{htmlFor:"font-m",children:"M"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"l",id:"font-l"}),a.jsx(F,{htmlFor:"font-l",children:"L"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"xl",id:"font-xl"}),a.jsx(F,{htmlFor:"font-xl",children:"XL"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"custom",id:"font-custom"}),a.jsx(F,{htmlFor:"font-custom",children:"Свой"})]})]}),r.font.size==="custom"&&a.jsxs("div",{className:"flex items-center gap-4 pl-6 pt-0.5",children:[" ",a.jsx(F,{htmlFor:"custom-font-size-input",className:"sr-only",children:"Введите размер шрифта"}),a.jsx(xe,{id:"custom-font-size-input",type:"text",className:"w-24",value:r.font.customSize,onChange:c=>l(c.target.value),placeholder:"Например, 16px"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Введите свой размер (например, 14px, 1em)."})]})]}),a.jsxs("div",{className:"space-y-0.5",children:[" ",a.jsx(F,{children:"Цвет"}),a.jsxs(Xe,{value:r.font.color,onValueChange:c=>i("color",c),className:"flex flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"auto",id:"color-auto"}),a.jsx(F,{htmlFor:"color-auto",children:"Авто"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"white",id:"color-white-font"}),a.jsx(F,{htmlFor:"color-white-font",children:"Белый"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"black",id:"color-black-font"}),a.jsx(F,{htmlFor:"color-black-font",children:"Черный"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 pt-1.5",children:[a.jsx(Cn,{id:"inactive-font-transparent",checked:r.font.inactiveFontTransparent,onCheckedChange:c=>i("inactiveFontTransparent",c)}),a.jsx(F,{htmlFor:"inactive-font-transparent",children:"50% прозрачности для неактивных"})]}),a.jsxs("div",{className:"space-y-0.5",children:[" ",a.jsx(F,{children:"Насыщенность"}),a.jsxs(Xe,{value:r.font.weight,onValueChange:c=>i("weight",c),className:"flex flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"normal",id:"weight-normal"}),a.jsx(F,{htmlFor:"weight-normal",children:"Обычный"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"bold",id:"weight-bold"}),a.jsx(F,{htmlFor:"weight-bold",children:"Жирный"})]})]})]})]})]}),a.jsx(In,{className:D(n?"justify-end":"justify-center sm:justify-center"),children:a.jsx(J,{type:"button",onClick:()=>t(!1),children:"Сохранить"})})]})})};var M0={exports:{}},L0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fs=h;function RA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var TA=typeof Object.is=="function"?Object.is:RA,AA=Fs.useState,PA=Fs.useEffect,IA=Fs.useLayoutEffect,OA=Fs.useDebugValue;function DA(e,t){var n=t(),r=AA({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return IA(function(){s.value=n,s.getSnapshot=t,Dc(s)&&o({inst:s})},[e,n,t]),PA(function(){return Dc(s)&&o({inst:s}),e(function(){Dc(s)&&o({inst:s})})},[e]),OA(n),n}function Dc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!TA(e,n)}catch{return!0}}function MA(e,t){return t()}var LA=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?MA:DA;L0.useSyncExternalStore=Fs.useSyncExternalStore!==void 0?Fs.useSyncExternalStore:LA;M0.exports=L0;var $A=M0.exports;function FA(){return $A.useSyncExternalStore(zA,()=>!0,()=>!1)}function zA(){return()=>{}}var Yf="Avatar",[UA,uO]=et(Yf),[BA,$0]=UA(Yf),F0=h.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,o]=h.useState("idle");return a.jsx(BA,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:a.jsx(se.span,{...r,ref:t})})});F0.displayName=Yf;var z0="AvatarImage",U0=h.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=e,i=$0(z0,n),l=VA(r,o),c=qt(u=>{s(u),i.onImageLoadingStatusChange(u)});return Le(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(se.img,{...o,ref:t,src:r}):null});U0.displayName=z0;var B0="AvatarFallback",V0=h.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,o=$0(B0,n),[i,l]=h.useState(r===void 0);return h.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&o.imageLoadingStatus!=="loaded"?a.jsx(se.span,{...s,ref:t}):null});V0.displayName=B0;function Pm(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function VA(e,{referrerPolicy:t,crossOrigin:n}){const r=FA(),s=h.useRef(null),o=r?(s.current||(s.current=new window.Image),s.current):null,[i,l]=h.useState(()=>Pm(o,e));return Le(()=>{l(Pm(o,e))},[o,e]),Le(()=>{const c=f=>()=>{l(f)};if(!o)return;const u=c("loaded"),d=c("error");return o.addEventListener("load",u),o.addEventListener("error",d),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",u),o.removeEventListener("error",d)}},[o,n,t]),i}var H0=F0,W0=U0,K0=V0;const ia=h.forwardRef(({className:e,...t},n)=>a.jsx(H0,{ref:n,className:D("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));ia.displayName=H0.displayName;const HA=h.forwardRef(({className:e,...t},n)=>a.jsx(W0,{ref:n,className:D("aspect-square h-full w-full",e),...t}));HA.displayName=W0.displayName;const aa=h.forwardRef(({className:e,...t},n)=>a.jsx(K0,{ref:n,className:D("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));aa.displayName=K0.displayName;const Im=({isMobileMode:e})=>{var x;const{user:t,logout:n,isAuthenticated:r}=Wf(),[s,o]=h.useState(!1),[i,l]=h.useState(!1),[c,u]=h.useState(!1);if(!r)return a.jsxs(a.Fragment,{children:[a.jsx(J,{variant:"outline",size:e?"icon":"sm",onClick:()=>o(!0),children:e?a.jsx(ra,{className:"h-4 w-4"}):a.jsxs(a.Fragment,{children:[a.jsx(ia,{className:"h-6 w-6",children:a.jsx(aa,{className:"text-xs",children:"?"})}),a.jsx("span",{className:"ml-2",children:"Войти"})]})}),a.jsx(hA,{open:s,onOpenChange:o})]});const d=((x=t==null?void 0:t.email)==null?void 0:x.charAt(0).toUpperCase())||"?",f=()=>{n(),l(!1)},p=()=>l(!1);return e?a.jsxs(a.Fragment,{children:[a.jsx(J,{variant:"outline",size:"icon",onClick:()=>l(!0),children:a.jsx(ia,{className:"h-6 w-6",children:a.jsx(aa,{className:"text-xs",children:d})})}),a.jsx(Dt,{open:i,onOpenChange:l,children:a.jsxs(St,{mobileFullscreen:!0,children:[a.jsx(bt,{children:a.jsx(jt,{children:"Меню"})}),a.jsxs("div",{className:"flex flex-col gap-2 pt-4",children:[a.jsxs("div",{className:"p-2 text-center text-sm text-muted-foreground border-b pb-4 mb-2",children:[a.jsx("p",{children:"Вы вошли как"}),a.jsx("p",{className:"font-semibold truncate",children:t==null?void 0:t.email})]}),a.jsxs(J,{variant:"outline",onClick:()=>{u(!0),p()},children:[a.jsx(ra,{className:"mr-2 h-4 w-4"}),"Настройки редактора"]}),a.jsx("hr",{className:"my-2"}),a.jsxs(J,{variant:"outline",onClick:()=>{Rr(),p()},children:[a.jsx(tm,{className:"mr-2 h-4 w-4"}),"Сохранить в облако"]}),a.jsxs(J,{variant:"outline",onClick:()=>{Xu(),p()},children:[a.jsx(Li,{className:"mr-2 h-4 w-4"}),"Загрузить из облака"]}),a.jsx("hr",{className:"my-2"}),a.jsxs(J,{variant:"outline",onClick:()=>{Em(),p()},children:[a.jsx(am,{className:"mr-2 h-4 w-4"}),"Импорт из файла"]}),a.jsxs(J,{variant:"outline",onClick:()=>{Nm(),p()},children:[a.jsx(nm,{className:"mr-2 h-4 w-4"}),"Экспорт в файл"]}),a.jsxs(J,{variant:"outline",onClick:()=>{Rm(),p()},children:[a.jsx(Li,{className:"mr-2 h-4 w-4"}),"Скачать бэкап из облака"]}),a.jsx("hr",{className:"my-2"}),a.jsxs(J,{variant:"destructive",onClick:f,children:[a.jsx(sm,{className:"mr-2 h-4 w-4"}),"Выйти"]})]})]})}),a.jsx(Am,{isOpen:c,onOpenChange:u,isMobileMode:e})]}):a.jsxs(a.Fragment,{children:[a.jsxs(h2,{children:[a.jsx(p2,{asChild:!0,children:a.jsx(J,{variant:"outline",size:"icon",className:"rounded-full",children:a.jsx(ia,{className:"h-8 w-8",children:a.jsx(aa,{children:d})})})}),a.jsxs(Zy,{align:"end",className:"w-56",children:[a.jsxs("div",{className:"px-2 py-1.5 text-sm",children:[a.jsx("p",{className:"font-semibold",children:"Вы вошли как"}),a.jsx("p",{className:"text-muted-foreground truncate",children:t==null?void 0:t.email})]}),a.jsx(go,{}),a.jsxs(Bn,{onClick:()=>u(!0),children:[a.jsx(ra,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Настройки редактора"})]}),a.jsx(go,{}),a.jsxs(Bn,{onClick:()=>Rr(),children:[a.jsx(tm,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Сохранить в облако"})]}),a.jsxs(Bn,{onClick:()=>Xu(),children:[a.jsx(Li,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Загрузить из облака"})]}),a.jsx(go,{}),a.jsxs(Bn,{onClick:Em,children:[a.jsx(am,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Импорт из файла"})]}),a.jsxs(Bn,{onClick:Nm,children:[a.jsx(nm,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Экспорт в файл"})]}),a.jsxs(Bn,{onClick:Rm,children:[a.jsx(Li,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Скачать бэкап из облака"})]}),a.jsx(go,{}),a.jsxs(Bn,{onClick:n,children:[a.jsx(sm,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Выйти"})]})]})]}),a.jsx(Am,{isOpen:c,onOpenChange:u,isMobileMode:e})]})},We=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:D("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));We.displayName="Card";const ed=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:D("flex flex-col space-y-1.5 p-6",e),...t}));ed.displayName="CardHeader";const td=h.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:D("text-2xl font-semibold leading-none tracking-tight",e),...t}));td.displayName="CardTitle";const G0=h.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:D("text-sm text-muted-foreground",e),...t}));G0.displayName="CardDescription";const Xf=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:D("p-6 pt-0",e),...t}));Xf.displayName="CardContent";const WA=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:D("flex items-center p-6 pt-0",e),...t}));WA.displayName="CardFooter";const Mc=768;function qr(){const[e,t]=h.useState(void 0);return h.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Mc-1}px)`),r=()=>{t(window.innerWidth<Mc)};return n.addEventListener("change",r),t(window.innerWidth<Mc),()=>n.removeEventListener("change",r)},[]),!!e}const Ui=["A","K","Q","J","T","9","8","7","6","5","4","3","2"],Ys=[];for(let e=0;e<Ui.length;e++){const t=[];for(let n=0;n<Ui.length;n++){const r=Ui[e],s=Ui[n];e===n?t.push(`${r}${r}`):e<n?t.push(`${r}${s}s`):t.push(`${s}${r}o`)}Ys.push(t)}const q0=Ys.flat(),nd=new Map;Ys.forEach((e,t)=>{e.forEach((n,r)=>{nd.set(n,{row:t,col:r})})});const Qf=e=>e.length===2&&e[0]===e[1]?6:e.endsWith("s")?4:e.endsWith("o")?12:0,Om=q0.flatMap(e=>{const t=Qf(e);return Array(t).fill(e)}),Dm=q0.reduce((e,t)=>e+Qf(t),0),Mm=(e,t)=>{const n=[],r=[[-1,0],[1,0],[0,-1],[0,1]];for(const[s,o]of r){const i=e+s,l=t+o;i>=0&&i<13&&l>=0&&l<13&&n.push(Ys[i][l])}return n},Lm=(e,t)=>{if(!e||Object.keys(e).length===0)return[];let n=new Set;for(const o in e){const i=nd.get(o);if(!i)continue;const l=Mm(i.row,i.col);for(const c of l)if(!e.hasOwnProperty(c)){n.add(o);break}}if(t===0)return Array.from(n);let r=new Set(n);const s=new Set(n);for(let o=0;o<t;o++){const i=new Set;for(const l of r){const c=nd.get(l);if(!c)continue;const u=Mm(c.row,c.col);for(const d of u)i.add(d)}i.forEach(l=>s.add(l)),r=i}return Array.from(s)},KA=e=>({none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg"})[e]||"rounded-md",GA=e=>({none:"gap-0",sm:"gap-px sm:gap-0.5",md:"gap-0.5 sm:gap-1",lg:"gap-1 sm:gap-1.5"})[e]||"gap-0.5 sm:gap-1",qA=e=>{switch(e){case"s":return"text-xs";case"m":return"text-sm";case"l":return"text-base";case"xl":return"text-lg";default:return""}},JA=e=>({normal:"font-normal",bold:"font-bold"})[e]||"font-normal",Tr=({selectedHands:e,onHandSelect:t,activeAction:n,actionButtons:r,readOnly:s=!1,isBackgroundMode:o=!1})=>{const i=qr(),{editorSettings:l,foldColor:c}=On(),[u,d]=h.useState(!1),[f,p]=h.useState(null),x=h.useRef(null),S=h.useRef(!1),y=h.useRef(!1),b=(A,B)=>{if(A==="fold")return c;const K=B.find(H=>H.id===A);return K&&K.type==="simple"?K.color:"#ffffff"};h.useEffect(()=>{o&&(d(!1),p(null))},[o]),h.useEffect(()=>{const A=()=>{d(!1),p(null),S.current=!1};return window.addEventListener("mouseup",A),window.addEventListener("touchend",A),window.addEventListener("touchcancel",A),()=>{window.removeEventListener("mouseup",A),window.removeEventListener("touchend",A),window.removeEventListener("touchcancel",A)}},[]);const v=A=>{if(s||o)return;y.current=!1,x.current=A,d(!0);const K=e[A]===n?"deselect":"select";p(K),t(A,K)},m=A=>{S.current=!0,v(A)},g=A=>{S.current||v(A)},w=A=>{s||o||!u||!f||x.current!==A&&(y.current=!0,t(A,f),x.current=A)},k=A=>{if(!u||o)return;A.preventDefault();const B=A.touches[0],K=document.elementFromPoint(B.clientX,B.clientY);K instanceof HTMLElement&&K.dataset.hand&&w(K.dataset.hand)},j=A=>{const{font:B,cellBackgroundColor:K}=l,H=e[A],W={};B.size==="custom"&&B.customSize&&(W.fontSize=B.customSize);let T=null,N=!1;if(H){const P=r.find(z=>z.id===H);if(P){if(P.type==="simple")T=P.color,W.backgroundColor=T;else if(P.type==="weighted"){N=!0;const z=b(P.action1Id,r),V=b(P.action2Id,r);W.background=`linear-gradient(to right, ${z} ${P.weight}%, ${V} ${P.weight}%)`}}}else K.type==="white"?T="#ffffff":K.type==="custom"?T=K.customColor:T=c,W.backgroundColor=T;return B.color==="white"?W.color="white":B.color==="black"?W.color="black":N?W.color="white":T&&(W.color=Q1(T)?"white":"black"),l.font.inactiveFontTransparent&&!H?W.opacity=.5:W.opacity=1,W},C=A=>{if(e[A])return"";const{cellBackgroundColor:B}=l;return B.type==="default"?"hover:bg-muted/70":""},_=()=>{const{matrixBackgroundColor:A}=l;return(A==null?void 0:A.type)==="custom"&&A.customColor?{backgroundColor:A.customColor}:{}},R=D("space-y-4 rounded-lg",i?"px-[1%] py-[1%]":"p-4",o?"w-full h-full flex items-center justify-center":"w-full",(()=>{const{matrixBackgroundColor:A}=l;if(!A)return"bg-background";switch(A.type){case"white":return"bg-white";case"dark":return"bg-background";case"custom":return"";default:return"bg-background"}})()),L=D("grid grid-cols-13 aspect-square w-full select-none rounded-lg",o?"gap-0.5":GA(l.cellSpacing)),M=D("w-full h-full aspect-square font-mono border transition-all duration-200","hover:ring-2 hover:ring-ring",KA(l.cellBorderRadius),qA(l.font.size),JA(l.font.weight),i?"p-0":"p-0.5");return a.jsx("div",{className:R,style:_(),children:a.jsx("div",{className:L,onTouchMove:k,children:Ys.map((A,B)=>A.map((K,H)=>a.jsx(J,{"data-hand":K,variant:"outline",size:"sm",className:D(M,C(K)),style:j(K),onMouseDown:()=>g(K),onMouseEnter:()=>w(K),onTouchStart:()=>m(K),onClick:()=>{s||o||y.current},children:K},`${B}-${H}`)))})})},J0=e=>e.length===2&&e[0]===e[1]?6:e.endsWith("s")?4:e.endsWith("o")?12:0,$m=Ys.flat().reduce((e,t)=>e+J0(t),0);function Va(e,[t,n]){return Math.min(n,Math.max(t,e))}var Y0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),YA="VisuallyHidden",XA=h.forwardRef((e,t)=>a.jsx(se.span,{...e,ref:t,style:{...Y0,...e.style}}));XA.displayName=YA;var QA=[" ","Enter","ArrowUp","ArrowDown"],ZA=[" ","Enter"],zr="Select",[Ml,Ll,eP]=ai(zr),[Xs,dO]=et(zr,[eP,gl]),$l=gl(),[tP,mr]=Xs(zr),[nP,rP]=Xs(zr),X0=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:p,required:x,form:S}=e,y=$l(t),[b,v]=h.useState(null),[m,g]=h.useState(null),[w,k]=h.useState(!1),j=Hr(u),[C,_]=It({prop:r,defaultProp:s??!1,onChange:o,caller:zr}),[E,R]=It({prop:i,defaultProp:l,onChange:c,caller:zr}),L=h.useRef(null),M=b?S||!!b.closest("form"):!0,[A,B]=h.useState(new Set),K=Array.from(A).map(H=>H.props.value).join(";");return a.jsx(zx,{...y,children:a.jsxs(tP,{required:x,scope:t,trigger:b,onTriggerChange:v,valueNode:m,onValueNodeChange:g,valueNodeHasChildren:w,onValueNodeHasChildrenChange:k,contentId:Et(),value:E,onValueChange:R,open:C,onOpenChange:_,dir:j,triggerPointerDownPosRef:L,disabled:p,children:[a.jsx(Ml.Provider,{scope:t,children:a.jsx(nP,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(H=>{B(W=>new Set(W).add(H))},[]),onNativeOptionRemove:h.useCallback(H=>{B(W=>{const T=new Set(W);return T.delete(H),T})},[]),children:n})}),M?a.jsxs(SS,{"aria-hidden":!0,required:x,tabIndex:-1,name:d,autoComplete:f,value:E,onChange:H=>R(H.target.value),disabled:p,form:S,children:[E===void 0?a.jsx("option",{value:""}):null,Array.from(A)]},K):null]})})};X0.displayName=zr;var Q0="SelectTrigger",Z0=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=$l(n),i=mr(Q0,n),l=i.disabled||r,c=de(t,i.onTriggerChange),u=Ll(n),d=h.useRef("touch"),[f,p,x]=jS(y=>{const b=u().filter(g=>!g.disabled),v=b.find(g=>g.value===i.value),m=_S(b,y,v);m!==void 0&&i.onValueChange(m.value)}),S=y=>{l||(i.onOpenChange(!0),x()),y&&(i.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return a.jsx(Ux,{asChild:!0,...o,children:a.jsx(se.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":bS(i.value)?"":void 0,...s,ref:c,onClick:Y(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&S(y)}),onPointerDown:Y(s.onPointerDown,y=>{d.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(S(y),y.preventDefault())}),onKeyDown:Y(s.onKeyDown,y=>{const b=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(b&&y.key===" ")&&QA.includes(y.key)&&(S(),y.preventDefault())})})})});Z0.displayName=Q0;var eS="SelectValue",tS=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...l}=e,c=mr(eS,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=de(t,c.onValueNodeChange);return Le(()=>{u(d)},[u,d]),a.jsx(se.span,{...l,ref:f,style:{pointerEvents:"none"},children:bS(c.value)?a.jsx(a.Fragment,{children:i}):o})});tS.displayName=eS;var sP="SelectIcon",nS=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return a.jsx(se.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});nS.displayName=sP;var oP="SelectPortal",rS=e=>a.jsx(vl,{asChild:!0,...e});rS.displayName=oP;var Ur="SelectContent",sS=h.forwardRef((e,t)=>{const n=mr(Ur,e.__scopeSelect),[r,s]=h.useState();if(Le(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Vs.createPortal(a.jsx(oS,{scope:e.__scopeSelect,children:a.jsx(Ml.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(iS,{...e,ref:t})});sS.displayName=Ur;var Ft=10,[oS,gr]=Xs(Ur),iP="SelectContentImpl",aP=Mr("SelectContent.RemoveScroll"),iS=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:x,sticky:S,hideWhenDetached:y,avoidCollisions:b,...v}=e,m=mr(Ur,n),[g,w]=h.useState(null),[k,j]=h.useState(null),C=de(t,O=>w(O)),[_,E]=h.useState(null),[R,L]=h.useState(null),M=Ll(n),[A,B]=h.useState(!1),K=h.useRef(!1);h.useEffect(()=>{if(g)return Sf(g)},[g]),cf();const H=h.useCallback(O=>{const[G,...q]=M().map(ie=>ie.ref.current),[X]=q.slice(-1),ee=document.activeElement;for(const ie of O)if(ie===ee||(ie==null||ie.scrollIntoView({block:"nearest"}),ie===G&&k&&(k.scrollTop=0),ie===X&&k&&(k.scrollTop=k.scrollHeight),ie==null||ie.focus(),document.activeElement!==ee))return},[M,k]),W=h.useCallback(()=>H([_,g]),[H,_,g]);h.useEffect(()=>{A&&W()},[A,W]);const{onOpenChange:T,triggerPointerDownPosRef:N}=m;h.useEffect(()=>{if(g){let O={x:0,y:0};const G=X=>{var ee,ie;O={x:Math.abs(Math.round(X.pageX)-(((ee=N.current)==null?void 0:ee.x)??0)),y:Math.abs(Math.round(X.pageY)-(((ie=N.current)==null?void 0:ie.y)??0))}},q=X=>{O.x<=10&&O.y<=10?X.preventDefault():g.contains(X.target)||T(!1),document.removeEventListener("pointermove",G),N.current=null};return N.current!==null&&(document.addEventListener("pointermove",G),document.addEventListener("pointerup",q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",G),document.removeEventListener("pointerup",q,{capture:!0})}}},[g,T,N]),h.useEffect(()=>{const O=()=>T(!1);return window.addEventListener("blur",O),window.addEventListener("resize",O),()=>{window.removeEventListener("blur",O),window.removeEventListener("resize",O)}},[T]);const[P,z]=jS(O=>{const G=M().filter(ee=>!ee.disabled),q=G.find(ee=>ee.ref.current===document.activeElement),X=_S(G,O,q);X&&setTimeout(()=>X.ref.current.focus())}),V=h.useCallback((O,G,q)=>{const X=!K.current&&!q;(m.value!==void 0&&m.value===G||X)&&(E(O),X&&(K.current=!0))},[m.value]),Q=h.useCallback(()=>g==null?void 0:g.focus(),[g]),Z=h.useCallback((O,G,q)=>{const X=!K.current&&!q;(m.value!==void 0&&m.value===G||X)&&L(O)},[m.value]),we=r==="popper"?rd:aS,I=we===rd?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:x,sticky:S,hideWhenDetached:y,avoidCollisions:b}:{};return a.jsx(oS,{scope:n,content:g,viewport:k,onViewportChange:j,itemRefCallback:V,selectedItem:_,onItemLeave:Q,itemTextRefCallback:Z,focusSelectedItem:W,selectedItemText:R,position:r,isPositioned:A,searchRef:P,children:a.jsx(yl,{as:aP,allowPinchZoom:!0,children:a.jsx(dl,{asChild:!0,trapped:m.open,onMountAutoFocus:O=>{O.preventDefault()},onUnmountAutoFocus:Y(s,O=>{var G;(G=m.trigger)==null||G.focus({preventScroll:!0}),O.preventDefault()}),children:a.jsx(ul,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:O=>O.preventDefault(),onDismiss:()=>m.onOpenChange(!1),children:a.jsx(we,{role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:O=>O.preventDefault(),...v,...I,onPlaced:()=>B(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Y(v.onKeyDown,O=>{const G=O.ctrlKey||O.altKey||O.metaKey;if(O.key==="Tab"&&O.preventDefault(),!G&&O.key.length===1&&z(O.key),["ArrowUp","ArrowDown","Home","End"].includes(O.key)){let X=M().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);if(["ArrowUp","End"].includes(O.key)&&(X=X.slice().reverse()),["ArrowUp","ArrowDown"].includes(O.key)){const ee=O.target,ie=X.indexOf(ee);X=X.slice(ie+1)}setTimeout(()=>H(X)),O.preventDefault()}})})})})})})});iS.displayName=iP;var lP="SelectItemAlignedPosition",aS=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=mr(Ur,n),i=gr(Ur,n),[l,c]=h.useState(null),[u,d]=h.useState(null),f=de(t,C=>d(C)),p=Ll(n),x=h.useRef(!1),S=h.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:v,focusSelectedItem:m}=i,g=h.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&y&&b&&v){const C=o.trigger.getBoundingClientRect(),_=u.getBoundingClientRect(),E=o.valueNode.getBoundingClientRect(),R=v.getBoundingClientRect();if(o.dir!=="rtl"){const ee=R.left-_.left,ie=E.left-ee,Ie=C.left-ie,te=C.width+Ie,ce=Math.max(te,_.width),Re=window.innerWidth-Ft,$=Va(ie,[Ft,Math.max(Ft,Re-ce)]);l.style.minWidth=te+"px",l.style.left=$+"px"}else{const ee=_.right-R.right,ie=window.innerWidth-E.right-ee,Ie=window.innerWidth-C.right-ie,te=C.width+Ie,ce=Math.max(te,_.width),Re=window.innerWidth-Ft,$=Va(ie,[Ft,Math.max(Ft,Re-ce)]);l.style.minWidth=te+"px",l.style.right=$+"px"}const L=p(),M=window.innerHeight-Ft*2,A=y.scrollHeight,B=window.getComputedStyle(u),K=parseInt(B.borderTopWidth,10),H=parseInt(B.paddingTop,10),W=parseInt(B.borderBottomWidth,10),T=parseInt(B.paddingBottom,10),N=K+H+A+T+W,P=Math.min(b.offsetHeight*5,N),z=window.getComputedStyle(y),V=parseInt(z.paddingTop,10),Q=parseInt(z.paddingBottom,10),Z=C.top+C.height/2-Ft,we=M-Z,I=b.offsetHeight/2,O=b.offsetTop+I,G=K+H+O,q=N-G;if(G<=Z){const ee=L.length>0&&b===L[L.length-1].ref.current;l.style.bottom="0px";const ie=u.clientHeight-y.offsetTop-y.offsetHeight,Ie=Math.max(we,I+(ee?Q:0)+ie+W),te=G+Ie;l.style.height=te+"px"}else{const ee=L.length>0&&b===L[0].ref.current;l.style.top="0px";const Ie=Math.max(Z,K+y.offsetTop+(ee?V:0)+I)+q;l.style.height=Ie+"px",y.scrollTop=G-Z+y.offsetTop}l.style.margin=`${Ft}px 0`,l.style.minHeight=P+"px",l.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[p,o.trigger,o.valueNode,l,u,y,b,v,o.dir,r]);Le(()=>g(),[g]);const[w,k]=h.useState();Le(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const j=h.useCallback(C=>{C&&S.current===!0&&(g(),m==null||m(),S.current=!1)},[g,m]);return a.jsx(uP,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:j,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:a.jsx(se.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});aS.displayName=lP;var cP="SelectPopperPosition",rd=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Ft,...o}=e,i=$l(n);return a.jsx(Bx,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});rd.displayName=cP;var[uP,Zf]=Xs(Ur,{}),sd="SelectViewport",lS=h.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=gr(sd,n),i=Zf(sd,n),l=de(t,o.onViewportChange),c=h.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(Ml.Slot,{scope:n,children:a.jsx(se.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Y(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&f){const x=Math.abs(c.current-d.scrollTop);if(x>0){const S=window.innerHeight-Ft*2,y=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),v=Math.max(y,b);if(v<S){const m=v+x,g=Math.min(S,m),w=m-g;f.style.height=g+"px",f.style.bottom==="0px"&&(d.scrollTop=w>0?w:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});lS.displayName=sd;var cS="SelectGroup",[dP,fP]=Xs(cS),hP=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Et();return a.jsx(dP,{scope:n,id:s,children:a.jsx(se.div,{role:"group","aria-labelledby":s,...r,ref:t})})});hP.displayName=cS;var uS="SelectLabel",dS=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=fP(uS,n);return a.jsx(se.div,{id:s.id,...r,ref:t})});dS.displayName=uS;var Ha="SelectItem",[pP,fS]=Xs(Ha),hS=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,l=mr(Ha,n),c=gr(Ha,n),u=l.value===r,[d,f]=h.useState(o??""),[p,x]=h.useState(!1),S=de(t,m=>{var g;return(g=c.itemRefCallback)==null?void 0:g.call(c,m,r,s)}),y=Et(),b=h.useRef("touch"),v=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(pP,{scope:n,value:r,disabled:s,textId:y,isSelected:u,onItemTextChange:h.useCallback(m=>{f(g=>g||((m==null?void 0:m.textContent)??"").trim())},[]),children:a.jsx(Ml.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:a.jsx(se.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:S,onFocus:Y(i.onFocus,()=>x(!0)),onBlur:Y(i.onBlur,()=>x(!1)),onClick:Y(i.onClick,()=>{b.current!=="mouse"&&v()}),onPointerUp:Y(i.onPointerUp,()=>{b.current==="mouse"&&v()}),onPointerDown:Y(i.onPointerDown,m=>{b.current=m.pointerType}),onPointerMove:Y(i.onPointerMove,m=>{var g;b.current=m.pointerType,s?(g=c.onItemLeave)==null||g.call(c):b.current==="mouse"&&m.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Y(i.onPointerLeave,m=>{var g;m.currentTarget===document.activeElement&&((g=c.onItemLeave)==null||g.call(c))}),onKeyDown:Y(i.onKeyDown,m=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&m.key===" "||(ZA.includes(m.key)&&v(),m.key===" "&&m.preventDefault())})})})})});hS.displayName=Ha;var xo="SelectItemText",pS=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=mr(xo,n),l=gr(xo,n),c=fS(xo,n),u=rP(xo,n),[d,f]=h.useState(null),p=de(t,v=>f(v),c.onItemTextChange,v=>{var m;return(m=l.itemTextRefCallback)==null?void 0:m.call(l,v,c.value,c.disabled)}),x=d==null?void 0:d.textContent,S=h.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=u;return Le(()=>(y(S),()=>b(S)),[y,b,S]),a.jsxs(a.Fragment,{children:[a.jsx(se.span,{id:c.textId,...o,ref:p}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Vs.createPortal(o.children,i.valueNode):null]})});pS.displayName=xo;var mS="SelectItemIndicator",gS=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return fS(mS,n).isSelected?a.jsx(se.span,{"aria-hidden":!0,...r,ref:t}):null});gS.displayName=mS;var od="SelectScrollUpButton",vS=h.forwardRef((e,t)=>{const n=gr(od,e.__scopeSelect),r=Zf(od,e.__scopeSelect),[s,o]=h.useState(!1),i=de(t,r.onScrollButtonChange);return Le(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(yS,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});vS.displayName=od;var id="SelectScrollDownButton",xS=h.forwardRef((e,t)=>{const n=gr(id,e.__scopeSelect),r=Zf(id,e.__scopeSelect),[s,o]=h.useState(!1),i=de(t,r.onScrollButtonChange);return Le(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(yS,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});xS.displayName=id;var yS=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=gr("SelectScrollButton",n),i=h.useRef(null),l=Ll(n),c=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),Le(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(se.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Y(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:Y(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:Y(s.onPointerLeave,()=>{c()})})}),mP="SelectSeparator",wS=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx(se.div,{"aria-hidden":!0,...r,ref:t})});wS.displayName=mP;var ad="SelectArrow",gP=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=$l(n),o=mr(ad,n),i=gr(ad,n);return o.open&&i.position==="popper"?a.jsx(Vx,{...s,...r,ref:t}):null});gP.displayName=ad;var vP="SelectBubbleInput",SS=h.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=h.useRef(null),o=de(r,s),i=Il(t);return h.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[i,t]),a.jsx(se.select,{...n,style:{...Y0,...n.style},ref:o,defaultValue:t})});SS.displayName=vP;function bS(e){return e===""||e===void 0}function jS(e){const t=qt(e),n=h.useRef(""),r=h.useRef(0),s=h.useCallback(i=>{const l=n.current+i;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function _S(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=xP(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function xP(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var yP=X0,CS=Z0,wP=tS,SP=nS,bP=rS,kS=sS,jP=lS,NS=dS,ES=hS,_P=pS,CP=gS,RS=vS,TS=xS,AS=wS;const bn=yP,jn=wP,on=h.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(CS,{ref:r,className:D("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,a.jsx(SP,{asChild:!0,children:a.jsx(Tf,{className:"h-4 w-4 opacity-50"})})]}));on.displayName=CS.displayName;const PS=h.forwardRef(({className:e,...t},n)=>a.jsx(RS,{ref:n,className:D("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(r2,{className:"h-4 w-4"})}));PS.displayName=RS.displayName;const IS=h.forwardRef(({className:e,...t},n)=>a.jsx(TS,{ref:n,className:D("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Tf,{className:"h-4 w-4"})}));IS.displayName=TS.displayName;const an=h.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>a.jsx(bP,{children:a.jsxs(kS,{ref:s,className:D("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[a.jsx(PS,{}),a.jsx(jP,{className:D("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(IS,{})]})}));an.displayName=kS.displayName;const kP=h.forwardRef(({className:e,...t},n)=>a.jsx(NS,{ref:n,className:D("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));kP.displayName=NS.displayName;const Ue=h.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(ES,{ref:r,className:D("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(CP,{children:a.jsx(Rf,{className:"h-4 w-4"})})}),a.jsx(_P,{children:t})]}));Ue.displayName=ES.displayName;const NP=h.forwardRef(({className:e,...t},n)=>a.jsx(AS,{ref:n,className:D("-mx-1 my-1 h-px bg-muted",e),...t}));NP.displayName=AS.displayName;var OS=["PageUp","PageDown"],DS=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],MS={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Qs="Slider",[ld,EP,RP]=ai(Qs),[LS,fO]=et(Qs,[RP]),[TP,Fl]=LS(Qs),$S=h.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:o=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:f=()=>{},onValueCommit:p=()=>{},inverted:x=!1,form:S,...y}=e,b=h.useRef(new Set),v=h.useRef(0),g=i==="horizontal"?AP:PP,[w=[],k]=It({prop:d,defaultProp:u,onChange:L=>{var A;(A=[...b.current][v.current])==null||A.focus(),f(L)}}),j=h.useRef(w);function C(L){const M=LP(w,L);R(L,M)}function _(L){R(L,v.current)}function E(){const L=j.current[v.current];w[v.current]!==L&&p(w)}function R(L,M,{commit:A}={commit:!1}){const B=UP(o),K=BP(Math.round((L-r)/o)*o+r,B),H=Va(K,[r,s]);k((W=[])=>{const T=DP(W,H,M);if(zP(T,c*o)){v.current=T.indexOf(H);const N=String(T)!==String(W);return N&&A&&p(T),N?T:W}else return W})}return a.jsx(TP,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:s,valueIndexToChangeRef:v,thumbs:b.current,values:w,orientation:i,form:S,children:a.jsx(ld.Provider,{scope:e.__scopeSlider,children:a.jsx(ld.Slot,{scope:e.__scopeSlider,children:a.jsx(g,{"aria-disabled":l,"data-disabled":l?"":void 0,...y,ref:t,onPointerDown:Y(y.onPointerDown,()=>{l||(j.current=w)}),min:r,max:s,inverted:x,onSlideStart:l?void 0:C,onSlideMove:l?void 0:_,onSlideEnd:l?void 0:E,onHomeKeyDown:()=>!l&&R(r,0,{commit:!0}),onEndKeyDown:()=>!l&&R(s,w.length-1,{commit:!0}),onStepKeyDown:({event:L,direction:M})=>{if(!l){const K=OS.includes(L.key)||L.shiftKey&&DS.includes(L.key)?10:1,H=v.current,W=w[H],T=o*K*M;R(W+T,H,{commit:!0})}}})})})})});$S.displayName=Qs;var[FS,zS]=LS(Qs,{startEdge:"left",endEdge:"right",size:"width",direction:1}),AP=h.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:o,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,p]=h.useState(null),x=de(t,g=>p(g)),S=h.useRef(void 0),y=Hr(s),b=y==="ltr",v=b&&!o||!b&&o;function m(g){const w=S.current||f.getBoundingClientRect(),k=[0,w.width],C=eh(k,v?[n,r]:[r,n]);return S.current=w,C(g-w.left)}return a.jsx(FS,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:a.jsx(US,{dir:y,"data-orientation":"horizontal",...d,ref:x,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:g=>{const w=m(g.clientX);i==null||i(w)},onSlideMove:g=>{const w=m(g.clientX);l==null||l(w)},onSlideEnd:()=>{S.current=void 0,c==null||c()},onStepKeyDown:g=>{const k=MS[v?"from-left":"from-right"].includes(g.key);u==null||u({event:g,direction:k?-1:1})}})})}),PP=h.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:o,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=h.useRef(null),f=de(t,d),p=h.useRef(void 0),x=!s;function S(y){const b=p.current||d.current.getBoundingClientRect(),v=[0,b.height],g=eh(v,x?[r,n]:[n,r]);return p.current=b,g(y-b.top)}return a.jsx(FS,{scope:e.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:a.jsx(US,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const b=S(y.clientY);o==null||o(b)},onSlideMove:y=>{const b=S(y.clientY);i==null||i(b)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:y=>{const v=MS[x?"from-bottom":"from-top"].includes(y.key);c==null||c({event:y,direction:v?-1:1})}})})}),US=h.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=Fl(Qs,n);return a.jsx(se.span,{...u,ref:t,onKeyDown:Y(e.onKeyDown,f=>{f.key==="Home"?(i(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):OS.concat(DS).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:Y(e.onPointerDown,f=>{const p=f.target;p.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(p)?p.focus():r(f)}),onPointerMove:Y(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:Y(e.onPointerUp,f=>{const p=f.target;p.hasPointerCapture(f.pointerId)&&(p.releasePointerCapture(f.pointerId),o(f))})})}),BS="SliderTrack",VS=h.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=Fl(BS,n);return a.jsx(se.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})});VS.displayName=BS;var cd="SliderRange",HS=h.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=Fl(cd,n),o=zS(cd,n),i=h.useRef(null),l=de(t,i),c=s.values.length,u=s.values.map(p=>GS(p,s.min,s.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return a.jsx(se.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:l,style:{...e.style,[o.startEdge]:d+"%",[o.endEdge]:f+"%"}})});HS.displayName=cd;var ud="SliderThumb",WS=h.forwardRef((e,t)=>{const n=EP(e.__scopeSlider),[r,s]=h.useState(null),o=de(t,l=>s(l)),i=h.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return a.jsx(IP,{...e,ref:o,index:i})}),IP=h.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:s,...o}=e,i=Fl(ud,n),l=zS(ud,n),[c,u]=h.useState(null),d=de(t,m=>u(m)),f=c?i.form||!!c.closest("form"):!0,p=ml(c),x=i.values[r],S=x===void 0?0:GS(x,i.min,i.max),y=MP(r,i.values.length),b=p==null?void 0:p[l.size],v=b?$P(b,S,l.direction):0;return h.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${S}% + ${v}px)`},children:[a.jsx(ld.ItemSlot,{scope:e.__scopeSlider,children:a.jsx(se.span,{role:"slider","aria-label":e["aria-label"]||y,"aria-valuemin":i.min,"aria-valuenow":x,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...o,ref:d,style:x===void 0?{display:"none"}:e.style,onFocus:Y(e.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),f&&a.jsx(KS,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:x},r)]})});WS.displayName=ud;var OP="RadioBubbleInput",KS=h.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const s=h.useRef(null),o=de(s,r),i=Il(t);return h.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("input",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[i,t]),a.jsx(se.input,{style:{display:"none"},...n,ref:o,defaultValue:t})});KS.displayName=OP;function DP(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,o)=>s-o)}function GS(e,t,n){const o=100/(n-t)*(e-t);return Va(o,[0,100])}function MP(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function LP(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function $P(e,t,n){const r=e/2,o=eh([0,50],[0,r]);return(r-o(t)*n)*n}function FP(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function zP(e,t){if(t>0){const n=FP(e);return Math.min(...n)>=t}return!0}function eh(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function UP(e){return(String(e).split(".")[1]||"").length}function BP(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var qS=$S,VP=VS,HP=HS,WP=WS;const JS=h.forwardRef(({className:e,...t},n)=>a.jsxs(qS,{ref:n,className:D("relative flex w-full touch-none select-none items-center",e),...t,children:[a.jsx(VP,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(HP,{className:"absolute h-full bg-primary"})}),a.jsx(WP,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));JS.displayName=qS.displayName;const Lc=["#8b5cf6","#ef4444","#10b981"],KP=({open:e,onOpenChange:t,onSave:n})=>{const{actionButtons:r}=On(),[s,o]=h.useState("simple"),[i,l]=h.useState(""),[c,u]=h.useState(Lc[0]),[d,f]=h.useState("fold"),[p,x]=h.useState(""),[S,y]=h.useState(50),b=h.useMemo(()=>{const w={id:"fold",name:"Fold",color:"#6b7280",type:"simple"},k=r.filter(j=>j.type==="simple");return[w,...k]},[r]),v=()=>{if(!i.trim())return;let w;if(s==="simple")w={id:Date.now().toString(),type:"simple",name:i.trim(),color:c};else{if(!d||!p)return;w={id:Date.now().toString(),type:"weighted",name:i.trim(),action1Id:d,action2Id:p,weight:S}}n(w),m()},m=()=>{l(""),o("simple"),u(Lc[0]),f("fold"),x(""),y(50),t(!1)},g=!i.trim()||s==="weighted"&&(!d||!p);return a.jsx(Dt,{open:e,onOpenChange:t,children:a.jsxs(St,{className:"sm:max-w-[480px]",children:[a.jsxs(bt,{children:[a.jsx(jt,{children:"Создать кнопку действия"}),a.jsx(hr,{children:"Настройте простую или взвешенную кнопку для вашей стратегии."})]}),a.jsxs("div",{className:"space-y-6 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{htmlFor:"action-name",children:"Название кнопки"}),a.jsx(xe,{id:"action-name",value:i,onChange:w=>l(w.target.value),placeholder:"например, 3-bet"})]}),a.jsxs(Xe,{value:s,onValueChange:w=>o(w),className:"flex gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"simple",id:"simple"}),a.jsx(F,{htmlFor:"simple",children:"Простой цвет"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"weighted",id:"weighted"}),a.jsx(F,{htmlFor:"weighted",children:"Взвешенный"})]})]}),s==="simple"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(F,{children:"Цвет"}),a.jsxs("div",{className:"flex items-center gap-3",children:[Lc.map(w=>a.jsx("button",{type:"button",className:D("w-8 h-8 rounded-full border-2 transition-all",c===w?"border-ring":"border-transparent"),style:{backgroundColor:w},onClick:()=>u(w)},w)),a.jsx("input",{type:"color",value:c,onChange:w=>u(w.target.value),className:"w-8 h-8 rounded-full border-2 cursor-pointer"})]})]}),s==="weighted"&&a.jsxs("div",{className:"space-y-4 rounded-md border p-4",children:[a.jsx("h4",{className:"font-medium",children:"Веса"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{children:"Действие 1"}),a.jsxs(bn,{value:d,onValueChange:f,children:[a.jsx(on,{children:a.jsx(jn,{placeholder:"Выберите"})}),a.jsx(an,{children:b.map(w=>a.jsx(Ue,{value:w.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:w.color}}),a.jsx("span",{children:w.name})]})},w.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{children:"Действие 2"}),a.jsxs(bn,{value:p,onValueChange:x,children:[a.jsx(on,{children:a.jsx(jn,{placeholder:"Выберите"})}),a.jsx(an,{children:b.map(w=>a.jsx(Ue,{value:w.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:w.color}}),a.jsx("span",{children:w.name})]})},w.id))})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx(F,{children:"Соотношение"}),a.jsxs("span",{children:[S,"% / ",100-S,"%"]})]}),a.jsx(JS,{value:[S],onValueChange:w=>y(w[0]),min:0,max:100,step:1})]})]})]}),a.jsxs(In,{children:[a.jsx(J,{variant:"outline",onClick:m,children:"Отмена"}),a.jsx(J,{onClick:v,disabled:g,children:"Сохранить"})]})]})})};var YS="AlertDialog",[GP,hO]=et(YS,[tw]),Dn=tw(),XS=e=>{const{__scopeAlertDialog:t,...n}=e,r=Dn(t);return a.jsx(vw,{...r,...n,modal:!0})};XS.displayName=YS;var qP="AlertDialogTrigger",QS=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Dn(n);return a.jsx(xw,{...s,...r,ref:t})});QS.displayName=qP;var JP="AlertDialogPortal",ZS=e=>{const{__scopeAlertDialog:t,...n}=e,r=Dn(t);return a.jsx(yw,{...r,...n})};ZS.displayName=JP;var YP="AlertDialogOverlay",eb=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Dn(n);return a.jsx(Of,{...s,...r,ref:t})});eb.displayName=YP;var Rs="AlertDialogContent",[XP,QP]=GP(Rs),ZP=g1("AlertDialogContent"),tb=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,o=Dn(n),i=h.useRef(null),l=de(t,i),c=h.useRef(null);return a.jsx(k2,{contentName:Rs,titleName:nb,docsSlug:"alert-dialog",children:a.jsx(XP,{scope:n,cancelRef:c,children:a.jsxs(Df,{role:"alertdialog",...o,...s,ref:l,onOpenAutoFocus:Y(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(ZP,{children:r}),a.jsx(tI,{contentRef:i})]})})})});tb.displayName=Rs;var nb="AlertDialogTitle",rb=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Dn(n);return a.jsx(Mf,{...s,...r,ref:t})});rb.displayName=nb;var sb="AlertDialogDescription",ob=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Dn(n);return a.jsx(Lf,{...s,...r,ref:t})});ob.displayName=sb;var eI="AlertDialogAction",ib=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Dn(n);return a.jsx($f,{...s,...r,ref:t})});ib.displayName=eI;var ab="AlertDialogCancel",lb=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=QP(ab,n),o=Dn(n),i=de(t,s);return a.jsx($f,{...o,...r,ref:i})});lb.displayName=ab;var tI=({contentRef:e})=>{const t=`\`${Rs}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Rs}\` by passing a \`${sb}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Rs}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},nI=XS,rI=QS,sI=ZS,cb=eb,ub=tb,db=ib,fb=lb,hb=rb,pb=ob;const mb=nI,oI=rI,iI=sI,gb=h.forwardRef(({className:e,...t},n)=>a.jsx(cb,{className:D("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));gb.displayName=cb.displayName;const th=h.forwardRef(({className:e,...t},n)=>a.jsxs(iI,{children:[a.jsx(gb,{}),a.jsx(ub,{ref:n,className:D("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));th.displayName=ub.displayName;const nh=({className:e,...t})=>a.jsx("div",{className:D("flex flex-col space-y-2 text-center sm:text-left",e),...t});nh.displayName="AlertDialogHeader";const rh=({className:e,...t})=>a.jsx("div",{className:D("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});rh.displayName="AlertDialogFooter";const sh=h.forwardRef(({className:e,...t},n)=>a.jsx(hb,{ref:n,className:D("text-lg font-semibold",e),...t}));sh.displayName=hb.displayName;const oh=h.forwardRef(({className:e,...t},n)=>a.jsx(pb,{ref:n,className:D("text-sm text-muted-foreground",e),...t}));oh.displayName=pb.displayName;const ih=h.forwardRef(({className:e,...t},n)=>a.jsx(db,{ref:n,className:D(cl(),e),...t}));ih.displayName=db.displayName;const ah=h.forwardRef(({className:e,...t},n)=>a.jsx(fb,{ref:n,className:D(cl({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));ah.displayName=fb.displayName;var zl="Collapsible",[aI,vb]=et(zl),[lI,lh]=aI(zl),xb=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:o,onOpenChange:i,...l}=e,[c,u]=It({prop:r,defaultProp:s??!1,onChange:i,caller:zl});return a.jsx(lI,{scope:n,disabled:o,contentId:Et(),open:c,onOpenToggle:h.useCallback(()=>u(d=>!d),[u]),children:a.jsx(se.div,{"data-state":uh(c),"data-disabled":o?"":void 0,...l,ref:t})})});xb.displayName=zl;var yb="CollapsibleTrigger",wb=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=lh(yb,n);return a.jsx(se.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":uh(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:Y(e.onClick,s.onOpenToggle)})});wb.displayName=yb;var ch="CollapsibleContent",Sb=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=lh(ch,e.__scopeCollapsible);return a.jsx(Ot,{present:n||s.open,children:({present:o})=>a.jsx(cI,{...r,ref:t,present:o})})});Sb.displayName=ch;var cI=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...o}=e,i=lh(ch,n),[l,c]=h.useState(r),u=h.useRef(null),d=de(t,u),f=h.useRef(0),p=f.current,x=h.useRef(0),S=x.current,y=i.open||l,b=h.useRef(y),v=h.useRef(void 0);return h.useEffect(()=>{const m=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(m)},[]),Le(()=>{const m=u.current;if(m){v.current=v.current||{transitionDuration:m.style.transitionDuration,animationName:m.style.animationName},m.style.transitionDuration="0s",m.style.animationName="none";const g=m.getBoundingClientRect();f.current=g.height,x.current=g.width,b.current||(m.style.transitionDuration=v.current.transitionDuration,m.style.animationName=v.current.animationName),c(r)}},[i.open,r]),a.jsx(se.div,{"data-state":uh(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!y,...o,ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":S?`${S}px`:void 0,...e.style},children:y&&s})});function uh(e){return e?"open":"closed"}var uI=xb,dI=wb,fI=Sb,Qt="Accordion",hI=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[dh,pI,mI]=ai(Qt),[Ul,pO]=et(Qt,[mI,vb]),fh=vb(),bb=be.forwardRef((e,t)=>{const{type:n,...r}=e,s=r,o=r;return a.jsx(dh.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?a.jsx(yI,{...o,ref:t}):a.jsx(xI,{...s,ref:t})})});bb.displayName=Qt;var[jb,gI]=Ul(Qt),[_b,vI]=Ul(Qt,{collapsible:!1}),xI=be.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:o=!1,...i}=e,[l,c]=It({prop:n,defaultProp:r??"",onChange:s,caller:Qt});return a.jsx(jb,{scope:e.__scopeAccordion,value:be.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:be.useCallback(()=>o&&c(""),[o,c]),children:a.jsx(_b,{scope:e.__scopeAccordion,collapsible:o,children:a.jsx(Cb,{...i,ref:t})})})}),yI=be.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...o}=e,[i,l]=It({prop:n,defaultProp:r??[],onChange:s,caller:Qt}),c=be.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=be.useCallback(d=>l((f=[])=>f.filter(p=>p!==d)),[l]);return a.jsx(jb,{scope:e.__scopeAccordion,value:i,onItemOpen:c,onItemClose:u,children:a.jsx(_b,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx(Cb,{...o,ref:t})})})}),[wI,Bl]=Ul(Qt),Cb=be.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:o="vertical",...i}=e,l=be.useRef(null),c=de(l,t),u=pI(n),f=Hr(s)==="ltr",p=Y(e.onKeyDown,x=>{var _;if(!hI.includes(x.key))return;const S=x.target,y=u().filter(E=>{var R;return!((R=E.ref.current)!=null&&R.disabled)}),b=y.findIndex(E=>E.ref.current===S),v=y.length;if(b===-1)return;x.preventDefault();let m=b;const g=0,w=v-1,k=()=>{m=b+1,m>w&&(m=g)},j=()=>{m=b-1,m<g&&(m=w)};switch(x.key){case"Home":m=g;break;case"End":m=w;break;case"ArrowRight":o==="horizontal"&&(f?k():j());break;case"ArrowDown":o==="vertical"&&k();break;case"ArrowLeft":o==="horizontal"&&(f?j():k());break;case"ArrowUp":o==="vertical"&&j();break}const C=m%v;(_=y[C].ref.current)==null||_.focus()});return a.jsx(wI,{scope:n,disabled:r,direction:s,orientation:o,children:a.jsx(dh.Slot,{scope:n,children:a.jsx(se.div,{...i,"data-orientation":o,ref:c,onKeyDown:r?void 0:p})})})}),Wa="AccordionItem",[SI,hh]=Ul(Wa),kb=be.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...s}=e,o=Bl(Wa,n),i=gI(Wa,n),l=fh(n),c=Et(),u=r&&i.value.includes(r)||!1,d=o.disabled||e.disabled;return a.jsx(SI,{scope:n,open:u,disabled:d,triggerId:c,children:a.jsx(uI,{"data-orientation":o.orientation,"data-state":Pb(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:f=>{f?i.onItemOpen(r):i.onItemClose(r)}})})});kb.displayName=Wa;var Nb="AccordionHeader",Eb=be.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Bl(Qt,n),o=hh(Nb,n);return a.jsx(se.h3,{"data-orientation":s.orientation,"data-state":Pb(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:t})});Eb.displayName=Nb;var dd="AccordionTrigger",Rb=be.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Bl(Qt,n),o=hh(dd,n),i=vI(dd,n),l=fh(n);return a.jsx(dh.ItemSlot,{scope:n,children:a.jsx(dI,{"aria-disabled":o.open&&!i.collapsible||void 0,"data-orientation":s.orientation,id:o.triggerId,...l,...r,ref:t})})});Rb.displayName=dd;var Tb="AccordionContent",Ab=be.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Bl(Qt,n),o=hh(Tb,n),i=fh(n);return a.jsx(fI,{role:"region","aria-labelledby":o.triggerId,"data-orientation":s.orientation,...i,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});Ab.displayName=Tb;function Pb(e){return e?"open":"closed"}var bI=bb,jI=kb,_I=Eb,Ib=Rb,Ob=Ab;const Db=bI,ph=h.forwardRef(({className:e,...t},n)=>a.jsx(jI,{ref:n,className:D("border-b",e),...t}));ph.displayName="AccordionItem";const mh=h.forwardRef(({className:e,children:t,...n},r)=>a.jsx(_I,{className:"flex",children:a.jsxs(Ib,{ref:r,className:D("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,a.jsx(Tf,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));mh.displayName=Ib.displayName;const gh=h.forwardRef(({className:e,children:t,...n},r)=>a.jsx(Ob,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:a.jsx("div",{className:D("pb-4 pt-0",e),children:t})}));gh.displayName=Ob.displayName;const $c=({folders:e,selectedRange:t,setSelectedRange:n,editingFolderId:r,setEditingFolderId:s,editingButton:o,setEditingButton:i,updateFolderName:l,updateRangeName:c,addRange:u,deleteFolder:d,deleteRange:f,cloneRange:p,isMobileMode:x,inDialog:S,totalFoldersCount:y,openFolderId:b,setOpenFolderId:v})=>a.jsx(Db,{type:"single",collapsible:!0,value:b||void 0,onValueChange:v,children:e.map(m=>a.jsxs(ph,{value:m.id,children:[a.jsxs(mh,{className:"flex items-center justify-between mb-1 py-2 hover:no-underline",children:[r===m.id?a.jsx(xe,{value:m.name,onChange:g=>l(m.id,g.target.value),onBlur:()=>s(null),onKeyDown:g=>{g.key==="Enter"&&s(null)},className:D("h-6 text-sm border-none bg-transparent p-0 focus:bg-background",x&&"max-w-[50vw]"),autoFocus:!0,onClick:g=>g.stopPropagation()}):a.jsx("span",{onDoubleClick:()=>s(m.id),className:D("cursor-text text-sm flex-1 truncate text-left",x&&"max-w-[50vw]"),children:m.name}),a.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[a.jsx(J,{size:"sm",variant:"ghost",onClick:g=>{g.stopPropagation(),u(m.id)},className:"h-6 w-6 p-0",children:a.jsx(kr,{className:"h-3 w-3"})}),y>1&&a.jsxs(mb,{children:[a.jsx(oI,{asChild:!0,children:a.jsx(J,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:g=>g.stopPropagation(),children:a.jsx($r,{className:"h-3 w-3"})})}),a.jsxs(th,{children:[a.jsxs(nh,{children:[a.jsx(sh,{children:"Вы уверены?"}),a.jsxs(oh,{children:['Это действие безвозвратно удалит папку "',m.name,'" и все содержащиеся в ней ренжи.']})]}),a.jsxs(rh,{children:[a.jsx(ah,{children:"Отмена"}),a.jsx(ih,{onClick:()=>d(m.id),children:"Удалить"})]})]})]})]})]}),a.jsx(gh,{className:"pb-0 pt-0",children:a.jsx("div",{className:"space-y-1 ml-4",children:m.ranges.map(g=>a.jsxs("div",{className:D("flex items-center justify-between p-2 rounded cursor-pointer",t===g.id?"bg-primary/10":"hover:bg-muted/50"),onClick:()=>{n(g.id)},children:[a.jsx("span",{onDoubleClick:w=>{w.stopPropagation(),i(g.id)},className:D("cursor-text text-xs flex-1 truncate",x&&"max-w-[50vw]"),children:o===g.id?a.jsx(xe,{value:g.name,onChange:w=>c(g.id,w.target.value),onBlur:()=>i(null),onKeyDown:w=>{w.key==="Enter"&&i(null)},className:"h-5 text-xs border-none bg-transparent p-0 focus:bg-background",autoFocus:!0,onClick:w=>w.stopPropagation()}):g.name}),a.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[a.jsx(J,{size:"sm",variant:"ghost",onClick:w=>{w.stopPropagation(),p(m.id,g)},className:"h-6 w-6 p-0",children:a.jsx(i2,{className:"h-3 w-3"})}),m.ranges.length>1&&a.jsx(J,{size:"sm",variant:"ghost",onClick:w=>{w.stopPropagation(),f(g.id)},className:"h-6 w-6 p-0",children:a.jsx($r,{className:"h-3 w-3"})})]})]},g.id))})})]},m.id))}),Fm=({isMobileMode:e=!1})=>{var Q,Z,we;const[t,n]=h.useState(null),[r,s]=h.useState(null),{folders:o,setFolders:i,actionButtons:l,setActionButtons:c,foldColor:u}=On(),[d,f]=h.useState(((Z=(Q=o[0])==null?void 0:Q.ranges[0])==null?void 0:Z.id)||""),[p,x]=h.useState(((we=l[0])==null?void 0:we.id)||"raise"),[S,y]=h.useState(!1),[b,v]=h.useState(null),[m,g]=h.useState(!1);h.useEffect(()=>{var O;const I=o.find(G=>G.ranges.some(q=>q.id===d));I?v(I.id):o.length>0?(v(o[0].id),f(((O=o[0].ranges[0])==null?void 0:O.id)||"")):v(null)},[d,o]);const w=()=>{for(const I of o){const O=I.ranges.find(G=>G.id===d);if(O)return{folder:I,range:O}}return o.length>0&&o[0].ranges.length>0?{folder:o[0],range:o[0].ranges[0]}:{folder:null,range:null}},k=(I,O)=>{i(G=>G.map(q=>({...q,ranges:q.ranges.map(X=>X.id===I?{...X,name:O}:X)})))},j=(I,O)=>{i(G=>G.map(q=>q.id===I?{...q,name:O}:q))},C=()=>{const I={id:Date.now().toString(),name:"Новая папка",ranges:[{id:Date.now().toString()+"-range",name:"Новый ренж",hands:{}}]};i(O=>[...O,I]),f(I.ranges[0].id)},_=I=>{i(O=>{var q;const G=O.filter(X=>X.id!==I);if(G.length===0){const X={id:Date.now().toString(),name:"Папка",ranges:[{id:Date.now().toString()+"-range",name:"Ренж",hands:{}}]};return f(X.ranges[0].id),[X]}else G.some(X=>X.ranges.some(ee=>ee.id===d))||f(((q=G[0].ranges[0])==null?void 0:q.id)||"");return G})},E=I=>{const O={id:Date.now().toString(),name:"Новый ренж",hands:{}};i(G=>G.map(q=>q.id===I?{...q,ranges:[...q.ranges,O]}:q)),f(O.id)},R=(I,O)=>{const G={id:Date.now().toString(),name:`${O.name} +clone`,hands:{...O.hands}};i(q=>q.map(X=>X.id===I?{...X,ranges:[...X.ranges,G]}:X)),f(G.id)},L=I=>{i(O=>{let G=d;const q=O.map(X=>{const ee=X.ranges.filter(ie=>ie.id!==I);return ee.length===0&&X.id!=="1"?null:{...X,ranges:ee}}).filter(Boolean);if(G===I){let X=!1;for(const ee of q)if(ee.ranges.length>0){G=ee.ranges[0].id,X=!0;break}if(!X){const ee={id:Date.now().toString(),name:"Папка",ranges:[{id:Date.now().toString()+"-range",name:"Ренж",hands:{}}]};return G=ee.ranges[0].id,[ee]}}return f(G),q})},M=I=>{c(O=>[...O,I]),x(I.id)},A=(I,O,G)=>{c(q=>q.map(X=>X.id===I&&X.type==="simple"?{...X,[O]:G}:X))},B=I=>{if(l.length<=1)return;const O=l.find(q=>q.id===I);if(!O)return;const G=new Set([I]);O.type==="simple"&&l.forEach(q=>{q.type==="weighted"&&(q.action1Id===I||q.action2Id===I)&&G.add(q.id)}),i(q=>q.map(X=>({...X,ranges:X.ranges.map(ee=>{const ie={...ee.hands};return Object.entries(ie).forEach(([Ie,te])=>{G.has(te)&&delete ie[Ie]}),{...ee,hands:ie}})}))),c(q=>{var ee;const X=q.filter(ie=>!G.has(ie.id));return G.has(p)&&x(((ee=X[0])==null?void 0:ee.id)||""),X})},K=(I,O)=>{const{range:G}=w();if(!G)return;const q={...G.hands};O==="select"?q[I]=p:q[I]===p&&delete q[I],i(X=>X.map(ee=>({...ee,ranges:ee.ranges.map(ie=>ie.id===G.id?{...ie,hands:q}:ie)})))},{folder:H,range:W}=w(),T=()=>{if(!W||!W.hands)return 0;let I=0;return Object.entries(W.hands).forEach(([O,G])=>{const q=J0(O);G&&G!=="fold"&&typeof q=="number"&&!isNaN(q)&&(I+=q)}),I},N=()=>{const I=T();return $m>0?Math.round(I/$m*100):0},P=(I=!1)=>a.jsxs("div",{className:D("space-y-4",I?"flex-1 flex flex-col":""),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold",children:e||I?"Создать папку":"Создать"}),e||I?a.jsx(J,{size:"sm",onClick:C,variant:"outline",children:a.jsx(kr,{className:"h-4 w-4"})}):a.jsx(J,{size:"sm",onClick:C,variant:"ghost",className:"h-6 w-6 p-0",children:a.jsx(kr,{className:"h-4 w-4"})})]}),a.jsx("div",{className:D("space-y-2 overflow-y-auto",!I&&e&&"max-h-64",I?"flex-1":""),children:I?a.jsx("div",{className:"space-y-2",children:a.jsx($c,{folders:o,selectedRange:d,setSelectedRange:f,editingFolderId:r,setEditingFolderId:s,editingButton:t,setEditingButton:n,updateFolderName:j,updateRangeName:k,addRange:E,deleteFolder:_,deleteRange:L,cloneRange:R,isMobileMode:e,inDialog:I,totalFoldersCount:o.length,openFolderId:b,setOpenFolderId:v})}):e?o.map(O=>a.jsx(We,{className:"p-3",children:a.jsx($c,{folders:[O],selectedRange:d,setSelectedRange:f,editingFolderId:r,setEditingFolderId:s,editingButton:t,setEditingButton:n,updateFolderName:j,updateRangeName:k,addRange:E,deleteFolder:_,deleteRange:L,cloneRange:R,isMobileMode:e,inDialog:I,totalFoldersCount:o.length,openFolderId:b,setOpenFolderId:v})},O.id)):a.jsx(We,{className:"p-3 space-y-2",children:a.jsx($c,{folders:o,selectedRange:d,setSelectedRange:f,editingFolderId:r,setEditingFolderId:s,editingButton:t,setEditingButton:n,updateFolderName:j,updateRangeName:k,addRange:E,deleteFolder:_,deleteRange:L,cloneRange:R,isMobileMode:e,inDialog:I,totalFoldersCount:o.length,openFolderId:b,setOpenFolderId:v})})})]}),z=(I,O)=>{if(I==="fold")return u;const G=O.find(q=>q.id===I);return G&&G.type==="simple"?G.color:"#ffffff"},V=I=>{if(I.type==="simple")return{backgroundColor:I.color};if(I.type==="weighted"){const O=z(I.action1Id,l),G=z(I.action2Id,l);return{background:`linear-gradient(to right, ${O} ${I.weight}%, ${G} ${I.weight}%)`}}return{}};return a.jsxs("div",{className:D("bg-background",e?"h-full flex flex-col":"flex h-screen"),children:[a.jsx(KP,{open:m,onOpenChange:g,onSave:M}),e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:a.jsxs("div",{className:"mx-auto max-w-full",children:[a.jsxs("div",{className:"flex justify-between items-end mb-4 px-4",children:[a.jsxs("div",{className:"text-left",children:[H&&a.jsx("h2",{className:"text-base font-bold text-muted-foreground mb-px",children:H.name}),W&&a.jsx("h1",{className:"text-sm font-normal ml-1",children:W.name})]}),W&&a.jsxs("div",{className:"bg-background/80 px-2 py-1 rounded text-xs font-mono flex items-center gap-1 z-10",children:[a.jsxs("span",{className:"text-primary font-bold",children:[N(),"%"]}),a.jsxs("span",{className:"text-muted-foreground",children:["(",T(),")"]})]})]}),W&&a.jsx("div",{className:"overflow-x-auto",children:a.jsx(Tr,{selectedHands:W.hands,onHandSelect:K,activeAction:p,actionButtons:l})}),a.jsx("div",{className:"bg-card rounded-lg p-3 mt-4 mx-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-medium",children:"Действия"}),a.jsx(J,{size:"sm",variant:"outline",onClick:()=>g(!0),children:a.jsx(kr,{className:"h-3 w-3"})})]}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:l.map(I=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(J,{size:"sm",onClick:()=>x(I.id),style:V(I),className:D("flex-1 min-w-0 text-primary-foreground border-transparent","hover:opacity-90 transition-opacity",p===I.id&&"ring-2 ring-offset-2 ring-offset-card ring-primary"),children:t===I.id?a.jsx(xe,{value:I.name,onChange:O=>A(I.id,"name",O.target.value),onBlur:()=>n(null),onKeyDown:O=>{O.key==="Enter"&&n(null)},className:"h-5 text-xs border-none bg-transparent p-0 focus:bg-background text-center w-full",autoFocus:!0,onClick:O=>O.stopPropagation()}):a.jsx("span",{onDoubleClick:O=>{O.stopPropagation(),n(I.id)},className:"cursor-text truncate px-1",children:I.name})}),a.jsxs("div",{className:"flex gap-1",children:[I.type==="simple"?a.jsx("input",{type:"color",value:I.color,onChange:O=>A(I.id,"color",O.target.value),className:"w-6 h-6 rounded border cursor-pointer"}):a.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:a.jsx(om,{className:"h-4 w-4 text-muted-foreground"})}),l.length>1&&a.jsx(J,{size:"sm",variant:"ghost",onClick:()=>B(I.id),children:a.jsx($r,{className:"h-3 w-3"})})]})]},I.id))})]})})]})}),a.jsx("div",{className:"bg-card border-t p-3 pb-[calc(env(safe-area-inset-bottom)+0.75rem)]",children:a.jsxs(Dt,{open:S,onOpenChange:y,children:[a.jsx(ww,{asChild:!0,children:a.jsx(J,{variant:"outline",className:"w-full",children:"Выбрать ренж"})}),a.jsxs(St,{mobileFullscreen:!0,className:"flex flex-col",children:[a.jsx(bt,{children:a.jsx(jt,{children:"Выбрать ренж"})}),P(!0),a.jsx(In,{className:"mt-auto p-4 border-t",children:a.jsx(J,{onClick:()=>y(!1),className:"w-full",children:"Выбрать"})})]})]})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-card space-y-4 w-80 border-r flex flex-col p-4",children:[a.jsx("div",{className:"space-y-4 order-1",children:P()}),a.jsxs("div",{className:"space-y-3 border-t order-2 pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-medium",children:"Действия"}),a.jsx(J,{size:"sm",variant:"outline",onClick:()=>g(!0),children:a.jsx(kr,{className:"h-3 w-3"})})]}),a.jsx("div",{className:"space-y-2",children:l.map(I=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(J,{size:"sm",onClick:()=>x(I.id),style:V(I),className:D("flex-1 min-w-0 text-primary-foreground border-transparent","hover:opacity-90 transition-opacity",p===I.id&&"ring-2 ring-offset-2 ring-offset-card ring-primary"),children:t===I.id?a.jsx(xe,{value:I.name,onChange:O=>A(I.id,"name",O.target.value),onBlur:()=>n(null),onKeyDown:O=>{O.key==="Enter"&&n(null)},className:"h-5 text-xs border-none bg-transparent p-0 focus:bg-background text-center w-full",autoFocus:!0,onClick:O=>O.stopPropagation()}):a.jsx("span",{onDoubleClick:O=>{O.stopPropagation(),n(I.id)},className:"cursor-text truncate px-1",children:I.name})}),a.jsxs("div",{className:"flex gap-1",children:[I.type==="simple"?a.jsx("input",{type:"color",value:I.color,onChange:O=>A(I.id,"color",O.target.value),className:"w-6 h-6 rounded border cursor-pointer"}):a.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:a.jsx(om,{className:"h-4 w-4 text-muted-foreground"})}),l.length>1&&a.jsx(J,{size:"sm",variant:"ghost",onClick:()=>B(I.id),children:a.jsx($r,{className:"h-3 w-3"})})]})]},I.id))})]})]}),a.jsx("div",{className:"flex-1 p-6",children:a.jsx("div",{className:"mx-auto max-w-4xl",children:a.jsxs("div",{className:"space-y-4 lg:w-[63%] mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{className:"text-left",children:[H&&a.jsx("h2",{className:"text-base font-bold text-muted-foreground mb-px",children:H.name}),W&&a.jsx("h1",{className:"text-sm font-normal ml-1",children:W.name})]}),W&&a.jsxs("div",{className:"bg-background/80 px-2 py-1 rounded text-xs font-mono flex items-center gap-1 z-10",children:[a.jsxs("span",{className:"text-primary font-bold",children:[N(),"%"]}),a.jsxs("span",{className:"text-muted-foreground",children:["(",T(),")"]})]})]}),W&&a.jsx("div",{className:D(e&&"overflow-x-auto"),children:a.jsx(Tr,{selectedHands:W.hands,onHandSelect:K,activeAction:p,actionButtons:l})})]})})})]})]})},CI=({open:e,onOpenChange:t,onCreateTraining:n})=>{const r=qr(),[s,o]=h.useState(""),[i,l]=h.useState("classic"),[c,u]=h.useState("all-hands"),[d,f]=h.useState(0),[p,x]=h.useState("sequential"),[S,y]=h.useState([]),{folders:b}=On(),v=b.some(w=>w.ranges.length>0),m=w=>{y(k=>k.includes(w)?k.filter(j=>j!==w):[...k,w])},g=()=>{if(!s.trim()||S.length===0||!v)return;const w={id:Date.now().toString(),name:s.trim(),type:i,subtype:i==="classic"?c:void 0,borderExpansionLevel:i==="classic"&&c==="border-check"?d:void 0,rangeSelectionOrder:i==="border-repeat"?p:void 0,ranges:S,createdAt:new Date,stats:null};n(w),o(""),l("classic"),u("all-hands"),f(0),x("sequential"),y([]),t(!1)};return a.jsx(Dt,{open:e,onOpenChange:t,children:a.jsxs(St,{mobileFullscreen:r,className:D("flex flex-col",!r&&"max-h-[90vh]"),children:[a.jsx(bt,{className:"relative -top-2 flex-shrink-0",children:a.jsx(jt,{children:"Создать тренировку"})}),a.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[a.jsx("div",{className:"space-y-2 mt-1 flex-shrink-0",children:a.jsx(xe,{id:"training-name",value:s,onChange:w=>o(w.target.value),placeholder:"Введите название тренировки",className:"h-8"})}),a.jsxs("div",{className:"flex-1 flex flex-col min-h-0 overflow-y-auto py-2 pr-2",children:[a.jsx(F,{className:"block w-full text-center flex-shrink-0 mb-3",children:"Вид тренировки"}),a.jsxs(Xe,{value:i,onValueChange:w=>l(w),className:"grid grid-cols-2 gap-x-6",children:[a.jsx("div",{className:"flex flex-col space-y-4",children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"classic",id:"classic"}),a.jsx(F,{htmlFor:"classic",className:"font-medium cursor-pointer",children:"Классическая"})]}),i==="classic"&&a.jsx("div",{className:"space-y-3 pl-8 pt-3",children:a.jsxs(Xe,{value:c,onValueChange:w=>u(w),children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"all-hands",id:"all-hands"}),a.jsx(F,{htmlFor:"all-hands",children:"Все руки"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"border-check",id:"border-check"}),a.jsx(F,{htmlFor:"border-check",children:"Граница ренжа"})]}),c==="border-check"&&a.jsxs("div",{className:"pl-8 pt-2",children:[a.jsx(F,{className:"text-xs font-normal text-muted-foreground",children:"Уровень расширения"}),a.jsxs(Xe,{value:String(d),onValueChange:w=>f(Number(w)),className:"flex items-center gap-x-4 pt-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"0",id:"level-0"}),a.jsx(F,{htmlFor:"level-0",className:"font-normal cursor-pointer",children:"0"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"1",id:"level-1"}),a.jsx(F,{htmlFor:"level-1",className:"font-normal cursor-pointer",children:"+1"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"2",id:"level-2"}),a.jsx(F,{htmlFor:"level-2",className:"font-normal cursor-pointer",children:"+2"})]})]})]})]})]})})]})}),a.jsx("div",{className:"flex flex-col space-y-4",children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"border-repeat",id:"border-repeat"}),a.jsx(F,{htmlFor:"border-repeat",className:"font-medium cursor-pointer",children:"Повторение границ"})]}),i==="border-repeat"&&a.jsxs("div",{className:"pl-8 pt-3",children:[a.jsx(F,{className:"text-xs font-normal text-muted-foreground",children:"Порядок ренжей"}),a.jsxs(Xe,{value:p,onValueChange:w=>x(w),className:"flex flex-col gap-y-3 pt-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"sequential",id:"sequential"}),a.jsx(F,{htmlFor:"sequential",className:"font-normal cursor-pointer",children:"По порядку"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"random",id:"random"}),a.jsx(F,{htmlFor:"random",className:"font-normal cursor-pointer",children:"Случайно"})]})]})]})]})})]}),a.jsxs("div",{className:"space-y-3 pt-4 flex-1 flex flex-col min-h-0",children:[a.jsx(F,{children:"Выберите ренжи для тренировки"}),v?a.jsx(Db,{type:"multiple",className:"w-full flex-1 overflow-y-auto -mr-2 pr-2",children:b.map(w=>w.ranges.length>0?a.jsxs(ph,{value:w.id,children:[a.jsx(mh,{className:"py-2 hover:no-underline",children:w.name}),a.jsx(gh,{children:a.jsx("div",{className:"space-y-2 pt-2 pl-4",children:w.ranges.map(k=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Cn,{id:k.id,checked:S.includes(k.id),onCheckedChange:()=>m(k.id)}),a.jsx(F,{htmlFor:k.id,className:"text-sm font-normal cursor-pointer",children:k.name})]},k.id))})})]},w.id):null)}):a.jsx(We,{className:"p-4 text-center",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Создайте хотя бы 1 ренж чтобы создать тренировку"})})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 mt-auto flex-shrink-0",children:[a.jsx(J,{variant:"outline",onClick:()=>t(!1),children:"Отмена"}),a.jsx(J,{onClick:g,disabled:!s.trim()||S.length===0||!v,variant:"poker",children:"Создать тренировку"})]})]})]})})},Mb=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:n,className:D("w-full caption-bottom text-sm",e),...t})}));Mb.displayName="Table";const Lb=h.forwardRef(({className:e,...t},n)=>a.jsx("thead",{ref:n,className:D("[&_tr]:border-b",e),...t}));Lb.displayName="TableHeader";const $b=h.forwardRef(({className:e,...t},n)=>a.jsx("tbody",{ref:n,className:D("[&_tr:last-child]:border-0",e),...t}));$b.displayName="TableBody";const kI=h.forwardRef(({className:e,...t},n)=>a.jsx("tfoot",{ref:n,className:D("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));kI.displayName="TableFooter";const fd=h.forwardRef(({className:e,...t},n)=>a.jsx("tr",{ref:n,className:D("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));fd.displayName="TableRow";const yo=h.forwardRef(({className:e,...t},n)=>a.jsx("th",{ref:n,className:D("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));yo.displayName="TableHead";const wo=h.forwardRef(({className:e,...t},n)=>a.jsx("td",{ref:n,className:D("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));wo.displayName="TableCell";const NI=h.forwardRef(({className:e,...t},n)=>a.jsx("caption",{ref:n,className:D("mt-4 text-sm text-muted-foreground",e),...t}));NI.displayName="TableCaption";const zm=["spades","hearts","diamonds","clubs"],EI=({hand:e,className:t,fixedCards:n})=>{const r=qr(),o=n||(u=>{const d=()=>zm[Math.floor(Math.random()*zm.length)],f=()=>{let p=d(),x=d();for(;p===x;)x=d();return[p,x]};if(u.length===2&&u[0]===u[1]){const[p,x]=f();return[{rank:u[0],suit:p},{rank:u[1],suit:x}]}else if(u.length===3)if(u[2]==="s"){const x=d();return[{rank:u[0],suit:x},{rank:u[1],suit:x}]}else{const[x,S]=f();return[{rank:u[0],suit:x},{rank:u[1],suit:S}]}else if(u.length===2){const[p,x]=f();return[{rank:u[0],suit:p},{rank:u[1],suit:x}]}return[{rank:"A",suit:"spades"},{rank:"A",suit:"hearts"}]})(e),i=u=>{switch(u){case"hearts":return"♥";case"diamonds":return"♦";case"clubs":return"♣";case"spades":default:return"♠"}},l=u=>{switch(u){case"hearts":return"bg-red-700";case"diamonds":return"bg-blue-700";case"clubs":return"bg-green-700";case"spades":default:return"bg-gray-800"}},c=u=>u;return a.jsx("div",{className:D("flex gap-1",t),children:o.map((u,d)=>a.jsxs("div",{className:D(l(u.suit),"text-white rounded-md shadow-lg w-12 h-16 sm:w-16 sm:h-20 relative font-bold flex items-center justify-center"),children:[a.jsxs("div",{className:"absolute top-[0.15rem] left-1.5 flex flex-col items-center leading-none",children:[a.jsx("span",{className:D(r?"text-[13.863px] translate-y-[10%]":"text-[14.292px] sm:text-[17.86px] translate-y-[20%]"),children:c(u.rank)}),a.jsx("span",{className:D(r?"text-[11.647px] -mt-1.5 translate-y-[75%]":"text-[10.719px] sm:text-[13.89px] -mt-1.5 translate-y-[65%]"),children:i(u.suit)})]}),a.jsx("div",{className:"text-4xl sm:text-5xl translate-x-[15%] translate-y-[20%]",children:c(u.rank)})]},d))})},RI=({open:e,onClose:t,results:n})=>{const r=c=>{const u=Math.floor(c/6e4),d=Math.floor(c%6e4/1e3);return`${u}:${d.toString().padStart(2,"0")}`},s=c=>new Date(c).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),i=(c=>c>=90?{level:"Отлично!",color:"text-green-600",icon:d2}:c>=75?{level:"Хорошо!",color:"text-blue-600",icon:im}:c>=60?{level:"Неплохо",color:"text-yellow-600",icon:s2}:{level:"Нужна практика",color:"text-red-600",icon:im})(n.accuracy),l=i.icon;return a.jsx(Dt,{open:e,onOpenChange:t,children:a.jsxs(St,{className:"sm:max-w-md",children:[a.jsxs(bt,{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:a.jsx(l,{className:`w-8 h-8 ${i.color}`})}),a.jsx(jt,{className:"text-xl",children:"Тренировка завершена!"}),a.jsxs(hr,{children:[a.jsx("p",{className:"text-base",children:n.trainingName}),a.jsxs("p",{className:"text-sm text-muted-foreground flex items-center justify-center gap-1.5 mt-1",children:[a.jsx(ZE,{className:"w-3.5 h-3.5"}),s(n.timestamp)]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(We,{className:"p-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`text-2xl font-bold ${i.color}`,children:[n.accuracy.toFixed(1),"%"]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Точность"}),a.jsx("div",{className:`text-sm font-medium ${i.color}`,children:i.level})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-1 text-2xl font-bold text-primary",children:[a.jsx(o2,{className:"w-5 h-5"}),r(n.duration)]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Время"})]})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[a.jsxs(We,{className:"p-3",children:[a.jsx("div",{className:"text-lg font-bold text-green-600",children:n.correctAnswers}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Правильно"})]}),a.jsxs(We,{className:"p-3",children:[a.jsx("div",{className:"text-lg font-bold text-red-600",children:n.totalQuestions-n.correctAnswers}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Ошибок"})]})]}),a.jsxs(We,{className:"p-3 text-center",children:[a.jsx("div",{className:"text-lg font-bold text-primary",children:n.totalQuestions}),a.jsx("div",{className:"text-sm text-muted-foreground",children:n.type==="classic"?"Всего рук":"Всего ренжей"})]})]}),a.jsx(In,{className:"mt-6",children:a.jsx(J,{onClick:t,className:"w-full",size:"lg",children:"Закрыть"})})]})})},Um=["spades","hearts","diamonds","clubs"],la=()=>Um[Math.floor(Math.random()*Um.length)],Fc=()=>{let e=la(),t=la();for(;e===t;)t=la();return[e,t]},zc=e=>{let t;if(e.length===2&&e[0]===e[1]){const[n,r]=Fc();t=[{rank:e[0],suit:n},{rank:e[1],suit:r}]}else if(e.length===3)if(e[2]==="s"){const r=la();t=[{rank:e[0],suit:r},{rank:e[1],suit:r}]}else{const[r,s]=Fc();t=[{rank:e[0],suit:r},{rank:e[1],suit:s}]}else if(e.length===2){const[n,r]=Fc();t=[{rank:e[0],suit:n},{rank:e[1],suit:r}]}else t=[{rank:"A",suit:"spades"},{rank:"A",suit:"hearts"}];return{hand:e,cards:t}},TI=({training:e,onStop:t})=>{const{folders:n,actionButtons:r,foldColor:s}=On(),{toast:o}=h0(),i=qr(),[l,c]=h.useState(""),[u,d]=h.useState(null),[f,p]=h.useState([]),[x,S]=h.useState(0),[y,b]=h.useState(null),[v,m]=h.useState({startTime:Date.now(),hands:[],accuracy:0}),[g,w]=h.useState(null),[k,j]=h.useState(!1),[C,_]=h.useState({}),[E,R]=h.useState(!1),[L,M]=h.useState(!1),[A,B]=h.useState(()=>{var $;return(($=r[0])==null?void 0:$.id)||""}),[K,H]=h.useState(!1),[W,T]=h.useState(null),N=h.useRef(null),P=($,ne)=>{if($==="fold")return s;const oe=ne.find(ae=>ae.id===$);return oe&&oe.type==="simple"?oe.color:"#ffffff"},z=($,ne)=>{if($.type==="simple")return{backgroundColor:$.color,color:"white"};if($.type==="weighted"){const oe=P($.action1Id,ne),ae=P($.action2Id,ne);return{background:`linear-gradient(to right, ${oe} ${$.weight}%, ${ae} ${$.weight}%)`,color:"white"}}return{}},V=h.useMemo(()=>{const $=[];if(!e.ranges)return[];for(const ne of e.ranges)for(const oe of n){const ae=oe.ranges.find(ge=>ge.id===ne);ae&&$.push({...ae,folderName:oe.name})}if(e.type==="border-repeat"&&e.rangeSelectionOrder==="random")for(let ne=$.length-1;ne>0;ne--){const oe=Math.floor(Math.random()*(ne+1));[$[ne],$[oe]]=[$[oe],$[ne]]}return $},[n,e.ranges,e.type,e.rangeSelectionOrder]),Q=V[x],Z=e.type==="classic"?y:Q,we=()=>{if(!C)return 0;let $=0;return Object.entries(C).forEach(([ne,oe])=>{const ae=Qf(ne);oe&&oe!=="fold"&&typeof ae=="number"&&!isNaN(ae)&&($+=ae)}),$},I=()=>{const $=we();return Dm>0?Math.round($/Dm*100):0},O=()=>{const $=Math.floor(Math.random()*Om.length),ne=Om[$];c(ne),d(zc(ne))};h.useEffect(()=>{if(V.length!==0){if(e.type==="classic"){const $=Math.floor(Math.random()*V.length),ne=V[$];if(b(ne),e.subtype==="all-hands")O();else if(e.subtype==="border-check"){if(!ne)return;const oe=Lm(ne.hands,e.borderExpansionLevel);if(p(oe),oe.length>0){const ae=Math.floor(Math.random()*oe.length),ge=oe[ae];c(ge),d(zc(ge))}else o({title:"Не удалось определить границу ренжа",description:"Ренж может быть пустым, занимать всю матрицу или не содержать граничных рук.",variant:"warning"}),c(""),d(null)}}return()=>{N.current&&clearTimeout(N.current)}}},[e.type,e.subtype,e.borderExpansionLevel,V]);const G=$=>!Z||!$?"fold":Z.hands[$]||"fold",q=r.filter($=>{if(!Z||!Z.hands)return!1;const ne=new Set(Object.values(Z.hands));return $.type==="simple"?ne.has($.id):$.type==="weighted"?ne.has($.action1Id)&&ne.has($.action2Id):!1}),X=$=>{if(g||!l)return;const ne=G(l),oe=$===ne;w(oe?"correct":"incorrect");const ae={hand:l,correct:oe,userAction:$,correctAction:ne};m(ge=>{const Mt=[...ge.hands,ae],Jr=Mt.filter(Fb=>Fb.correct).length/Mt.length*100;return{...ge,hands:Mt,accuracy:Jr}}),oe?N.current=setTimeout(()=>{Ie()},1500):(M(!0),j(!0))},ee=$=>{if(E)return;if(!A){o({title:"Действие не выбрано",description:"Пожалуйста, сначала создайте кнопки действий в редакторе.",variant:"destructive"});return}const ne={...C};ne[$]===A?delete ne[$]:ne[$]=A,_(ne)},ie=()=>{if(!Q)return;const $=Q.hands,ne=Object.keys($).every(ae=>C[ae]===$[ae])&&Object.keys(C).every(ae=>$[ae]===C[ae]);R(!0),M(!0),w(ne?"correct":"incorrect"),ne||j(!0);const oe={hand:Q.name,correct:ne,userAction:"matrix",correctAction:"matrix"};m(ae=>{const ge=[...ae.hands,oe],Mn=ge.filter(Jr=>Jr.correct).length/ge.length*100;return{...ae,hands:ge,accuracy:Mn}})},Ie=()=>{var $;if(N.current&&(clearTimeout(N.current),N.current=null),e.type==="classic"){const ne=Math.floor(Math.random()*V.length),oe=V[ne];if(b(oe),e.subtype==="all-hands")O();else if(e.subtype==="border-check"){if(!oe){te();return}const ae=Lm(oe.hands,e.borderExpansionLevel);if(p(ae),ae.length>0){const ge=Math.floor(Math.random()*ae.length),Mt=ae[ge];c(Mt),d(zc(Mt))}else{o({title:"Тренировка завершена",description:"Не удалось найти подходящие руки в одном из ренжей.",variant:"info"}),te();return}}}else if(x<V.length-1)S(ne=>ne+1),_({});else{te();return}w(null),j(!1),M(!1),R(!1),B((($=r[0])==null?void 0:$.id)||"")},te=()=>{N.current&&(clearTimeout(N.current),N.current=null);const $=Date.now(),ne=$-v.startTime,oe=v.hands.filter(Mn=>Mn.correct).length,ae=v.hands.length,ge=ae>0?oe/ae*100:0;if(ae>0){const Mn={trainingId:e.id,timestamp:$,duration:ne,totalQuestions:ae,correctAnswers:oe},Jr=JSON.parse(localStorage.getItem("training-statistics")||"[]");Jr.push(Mn),localStorage.setItem("training-statistics",JSON.stringify(Jr))}const Mt={trainingName:e.name,type:e.type,duration:ne,accuracy:ge,totalQuestions:ae,correctAnswers:oe,timestamp:$};T(Mt),H(!0)},ce=()=>{H(!1),t()},Re=()=>{const $=Date.now()-v.startTime,ne=Math.floor($/6e4),oe=Math.floor($%6e4/1e3);return`${ne}:${oe.toString().padStart(2,"0")}`};return V.length===0?a.jsx("div",{className:"h-full bg-background flex items-center justify-center",children:a.jsxs(We,{className:"p-6 text-center",children:[a.jsx("p",{className:"text-lg text-muted-foreground",children:"Ренжи для тренировки не найдены"}),a.jsx(J,{onClick:t,className:"mt-4",children:"Вернуться"})]})}):a.jsxs("div",{className:"h-full bg-background flex flex-col sm:flex-row",children:[a.jsxs("div",{className:"hidden sm:block w-80 bg-card border-r p-4 space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("h2",{className:"text-lg font-semibold",children:["Статистика: ",e.name]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-primary",children:Re()}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Время"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-primary",children:[v.accuracy.toFixed(1),"%"]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Точность"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-primary",children:v.hands.length}),a.jsx("div",{className:"text-sm text-muted-foreground",children:e.type==="classic"?"Рук сыграно":"Ренжей проверено"})]})]}),a.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[a.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"История"}),v.hands.map(($,ne)=>a.jsx("div",{className:D("p-2 rounded text-sm",$.correct?"bg-green-500/20 text-green-700 dark:text-green-300":"bg-red-500/20 text-red-700 dark:text-red-300"),children:$.hand},ne))]})]}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsx("div",{className:"sm:hidden px-4 py-2 border-b bg-card",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"text-lg font-semibold",children:[Z==null?void 0:Z.folderName," - ",Z==null?void 0:Z.name]})})}),a.jsx("div",{className:"flex-1 p-4 sm:p-6 overflow-y-auto",children:a.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:e.type==="classic"?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"hidden sm:block text-center",children:[a.jsxs("h1",{className:"text-2xl font-bold mb-2",children:[Z==null?void 0:Z.folderName," - ",Z==null?void 0:Z.name]}),a.jsxs("p",{className:"text-muted-foreground",children:["Текущая рука: ",l]})]}),a.jsxs("div",{className:"relative mx-auto w-full max-w-2xl",children:[a.jsxs("div",{className:D("relative bg-poker-felt rounded-full border-8 border-poker-table shadow-2xl transition-all duration-300","w-full aspect-[3/2] max-w-lg mx-auto",g==="correct"&&"shadow-green-500/50",g==="incorrect"&&"shadow-red-500/50"),children:[a.jsx("div",{className:"absolute inset-4 rounded-full bg-gradient-to-br from-poker-felt to-poker-green opacity-90"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:a.jsx("div",{className:"bg-black rounded-full p-4 shadow-xl border-4 border-gray-800",children:a.jsx(EI,{hand:l,fixedCards:u==null?void 0:u.cards,className:"scale-90 sm:scale-100"})})}),L&&a.jsx("div",{className:"absolute top-1/2 right-8 sm:right-12 transform -translate-y-1/2",children:a.jsx(J,{onClick:Ie,className:"bg-gray-500 hover:bg-gray-600 text-white w-[45px] h-[45px] sm:w-[55px] sm:h-[55px] rounded-lg shadow-xl border-2 border-gray-700",size:"icon",children:a.jsx(Es,{className:"h-5 w-5 sm:h-6 sm:w-6"})})}),a.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2",children:a.jsx("div",{className:"text-white/60 text-sm font-semibold",children:"DEALER"})})]}),a.jsx("div",{className:"sm:hidden text-center mt-4",children:a.jsxs("p",{className:"text-muted-foreground text-sm",children:["Рука ",v.hands.length+1,": ",a.jsx("span",{className:"font-bold text-primary",children:l})]})})]}),a.jsxs("div",{className:"flex justify-center gap-2 sm:gap-3 flex-wrap px-4",children:[a.jsx(J,{variant:"secondary",size:"sm",onClick:()=>X("fold"),disabled:L,style:{backgroundColor:s},className:D("text-white hover:opacity-80 text-xs sm:text-sm px-3 sm:px-4",g==="incorrect"&&G(l)==="fold"&&"ring-2 ring-green-500"),children:"FOLD"}),q.map($=>a.jsx(J,{size:"sm",onClick:()=>X($.id),disabled:L,style:z($,r),className:D("text-white hover:opacity-80 text-xs sm:text-sm px-3 sm:px-4",g==="incorrect"&&G(l)===$.id&&"ring-2 ring-green-500"),children:$.name},$.id))]}),k&&Z&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-center text-lg font-semibold",children:"Правильный ренж:"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsx(Tr,{selectedHands:Z.hands,onHandSelect:()=>{},activeAction:"",actionButtons:r,readOnly:!0})})]}),a.jsx("div",{className:"text-center mt-6",children:a.jsx(J,{onClick:te,variant:"destructive",size:"lg",children:"Завершить"})})]}):a.jsx(a.Fragment,{children:i?a.jsxs("div",{className:"space-y-2 sm:space-y-2",children:[a.jsx("div",{className:"overflow-x-auto pb-1",children:a.jsx(Tr,{selectedHands:k?Q.hands:C,onHandSelect:ee,activeAction:A,actionButtons:r,readOnly:E})}),a.jsx("div",{className:"flex justify-center gap-2 sm:gap-3 flex-wrap px-2 sm:px-4",children:q.map($=>a.jsx(J,{size:"sm",onClick:()=>B($.id),disabled:E,style:z($,r),className:D("text-white hover:opacity-80 text-xs sm:text-sm px-2 sm:px-4 h-7 py-1",A===$.id&&"ring-2 ring-white"),children:$.name},$.id))}),a.jsxs("div",{className:"flex justify-center items-center gap-2 sm:gap-4 px-4",children:[a.jsx(J,{onClick:ie,disabled:E,variant:g==="correct"?"default":g==="incorrect"?"destructive":"poker",className:D("h-7 py-1",g==="correct"?"bg-green-600 hover:bg-green-700":""),size:"sm",children:"Проверить"}),L&&a.jsx(J,{onClick:Ie,className:"bg-gray-500 hover:bg-gray-600 text-white w-8 h-8 rounded-lg shadow-lg border-2 border-gray-700",size:"icon",children:a.jsx(Es,{className:"h-3 w-3"})}),a.jsx(J,{onClick:te,variant:"destructive",size:"sm",className:"h-7 py-1",children:"Завершить"})]})]}):a.jsxs("div",{className:"flex flex-col items-center w-full",children:[a.jsx("div",{className:"w-full max-w-[600px] px-4",children:a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{className:"text-left",children:[a.jsx("h2",{className:"text-base font-bold text-muted-foreground mb-px",children:Q==null?void 0:Q.folderName}),a.jsx("h1",{className:"text-sm font-normal ml-1",children:Q==null?void 0:Q.name})]}),a.jsxs("div",{className:"bg-background/80 px-2 py-1 rounded text-xs font-mono flex items-center gap-1 z-10",children:[a.jsxs("span",{className:"text-primary font-bold",children:[I(),"%"]}),a.jsxs("span",{className:"text-muted-foreground",children:["(",we(),")"]})]})]})}),a.jsx("div",{className:"w-full flex justify-center mt-1",children:a.jsxs("div",{className:"w-[87%] max-w-[522px]",children:[a.jsx(Tr,{selectedHands:k?Q.hands:C,onHandSelect:ee,activeAction:A,actionButtons:r,readOnly:E}),a.jsxs("div",{className:"mt-3 space-y-3",children:[a.jsx("div",{className:"flex justify-center gap-2 sm:gap-3 flex-wrap px-2 sm:px-4",children:q.map($=>a.jsx(J,{size:"sm",onClick:()=>B($.id),disabled:E,style:z($,r),className:D("text-white hover:opacity-80 text-xs sm:text-sm px-2 sm:px-4 h-7 py-1",A===$.id&&"ring-2 ring-white"),children:$.name},$.id))}),a.jsxs("div",{className:"flex justify-center items-center gap-2 sm:gap-4 px-4",children:[a.jsx(J,{onClick:ie,disabled:E,variant:g==="correct"?"default":g==="incorrect"?"destructive":"poker",className:D("h-7 py-1",g==="correct"?"bg-green-600 hover:bg-green-700":""),size:"sm",children:"Проверить"}),L&&a.jsx(J,{onClick:Ie,className:"bg-gray-500 hover:bg-gray-600 text-white w-8 h-8 rounded-lg shadow-lg border-2 border-gray-700",size:"icon",children:a.jsx(Es,{className:"h-3 w-3"})}),a.jsx(J,{onClick:te,variant:"destructive",size:"sm",className:"h-7 py-1",children:"Завершить"})]})]})]})})]})})})}),a.jsx("div",{className:"sm:hidden p-0 border-t bg-card",children:a.jsxs("div",{className:"grid grid-cols-3 gap-1 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-bold text-primary",children:Re()}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Время"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-sm font-bold text-primary",children:[v.accuracy.toFixed(1),"%"]}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Точность"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-bold text-primary",children:v.hands.length}),a.jsx("div",{className:"text-xs text-muted-foreground",children:e.type==="classic"?"Рук":"Ренжей"})]})]})})]}),W&&a.jsx(RI,{open:K,onClose:ce,results:W})]})},AI=({isMobileMode:e=!1})=>{const t=qr(),n=e||t,[r,s]=h.useState(()=>{const N=localStorage.getItem("training-sessions");try{const P=N?JSON.parse(N):[];return Array.isArray(P)?P:[]}catch(P){return console.error("Failed to parse training sessions from localStorage",P),[]}}),[o]=h.useState(()=>{const N=localStorage.getItem("poker-ranges-folders");try{const P=N?JSON.parse(N):[];return Array.isArray(P)?P:[]}catch(P){return console.error("Failed to parse folders from localStorage",P),[]}}),[i,l]=h.useState(null),[c,u]=h.useState(!1),[d,f]=h.useState(null),[p,x]=h.useState([]),[S,y]=h.useState(0),[b,v]=h.useState(null),[m,g]=h.useState([]),[w,k]=h.useState(null),j=r.find(N=>N.id===b);h.useEffect(()=>{!n&&r.length>0&&!i&&l(r[0].id)},[n,r,i]),h.useEffect(()=>{localStorage.setItem("training-sessions",JSON.stringify(r))},[r]),h.useEffect(()=>{if(i){const N=localStorage.getItem("training-statistics");let P=[];try{const V=N?JSON.parse(N):[];P=Array.isArray(V)?V:[]}catch(V){console.error("Failed to parse training statistics",V)}const z=P.filter(V=>V.trainingId===i).sort((V,Q)=>Q.timestamp-V.timestamp);x(z)}else x([])},[i,S]),h.useEffect(()=>{if(b){const N=localStorage.getItem("training-statistics");let P=[];try{const V=N?JSON.parse(N):[];P=Array.isArray(V)?V:[]}catch(V){console.error("Failed to parse training statistics",V)}const z=P.filter(V=>V.trainingId===b).sort((V,Q)=>Q.timestamp-V.timestamp);g(z)}else g([])},[b]);const C=N=>{const P=localStorage.getItem("training-statistics");let z=[];try{const ee=P?JSON.parse(P):[];z=Array.isArray(ee)?ee:[]}catch(ee){console.error("Failed to parse training statistics from localStorage",ee),z=[]}const V=z.filter(ee=>ee.trainingId===N);if(V.length===0)return null;const Q=V.length,Z=V.reduce((ee,ie)=>ee+ie.totalQuestions,0),we=V.reduce((ee,ie)=>ee+ie.correctAnswers,0),I=V.reduce((ee,ie)=>ee+ie.duration,0),O=Z>0?we/Z*100:0,G=Q>0?I/Q:0,q=Math.floor(G/6e4),X=Math.floor(G%6e4/1e3);return{accuracy:O.toFixed(1),hands:Z,time:`${q}:${X.toString().padStart(2,"0")}`,sessions:Q}},_=N=>{if(N.type==="classic"){if(!N.subtype)return null;if(N.subtype==="all-hands")return"Все руки";if(N.subtype==="border-check")return N.borderExpansionLevel===void 0?"Граница ренжа (+0)":`Граница ренжа (+${N.borderExpansionLevel})`}else if(N.type==="border-repeat")return N.rangeSelectionOrder==="random"?"Случайный порядок":"По порядку";return null},E=N=>{s(P=>[N,...P])},R=N=>{s(Q=>Q.filter(Z=>Z.id!==N)),i===N&&l(null);const P=localStorage.getItem("training-statistics");let z=[];try{const Q=P?JSON.parse(P):[];z=Array.isArray(Q)?Q:[]}catch{}const V=z.filter(Q=>Q.trainingId!==N);localStorage.setItem("training-statistics",JSON.stringify(V)),y(Q=>Q+1)},L=()=>{w&&(R(w),k(null))},M=N=>{const P=r.find(z=>z.id===N);P&&f(P)},A=()=>{f(null),y(N=>N+1)},B=N=>{const P=Math.floor(N/1e3),z=Math.floor(P/3600),V=Math.floor(P%3600/60),Q=P%60,Z=[];return z>0&&Z.push(`${z}ч`),V>0&&Z.push(`${V}м`),(Q>0||P===0)&&Z.push(`${Q}с`),Z.join(" ")||"0с"},K=N=>{const P=Math.floor(N/6e4),z=Math.floor(N%6e4/1e3);return`${P}:${z.toString().padStart(2,"0")}`},H=N=>new Date(N).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}),W=(N,P)=>P===0?"0.0":(N/P*100).toFixed(1),T=h.useMemo(()=>{if(m.length===0)return{totalDuration:0,totalAccuracy:0};const N=m.reduce((Q,Z)=>Q+Z.duration,0),P=m.reduce((Q,Z)=>Q+Z.correctAnswers,0),z=m.reduce((Q,Z)=>Q+Z.totalQuestions,0),V=z>0?P/z*100:0;return{totalDuration:N,totalAccuracy:V}},[m]);return d?a.jsx(TI,{training:d,onStop:A}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:D("bg-background flex h-full",n?"flex-col":""),children:[a.jsxs("div",{className:D("bg-card p-4 space-y-4",n?"order-2 flex-1 flex flex-col":"w-80 border-r"),children:[a.jsx("div",{children:a.jsx("h2",{className:"text-lg font-semibold",children:"Тренировки"})}),a.jsxs("div",{className:D("space-y-2 overflow-y-auto","flex-1"),children:[a.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Созданные тренировки"}),r.length===0?a.jsx(We,{className:"p-4 text-center",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Не создано ни одной тренировки"})}):r.map(N=>{const P=C(N.id),z=i===N.id,V=_(N);return a.jsx(We,{className:D("cursor-pointer transition-all duration-300",n?"py-1 px-2":z?"p-3":"py-1 px-3",z?"bg-primary/10 border-primary":"hover:bg-muted/50"),onClick:()=>l(Q=>Q===N.id?null:N.id),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 overflow-hidden",children:[a.jsx("h4",{className:"font-medium truncate my-0",children:N.name}),a.jsxs("div",{className:D("transition-all duration-300 ease-in-out overflow-hidden",z?"max-h-40 opacity-100 mt-1":"max-h-0 opacity-0"),children:[a.jsxs("div",{className:"text-xs text-muted-foreground",children:[N.type==="classic"?"Классическая":"Повторение границ",V&&` • ${V}`]}),P&&a.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Точность: ",P.accuracy,"% • Сессий: ",P.sessions]})]})]}),a.jsxs("div",{className:"flex items-center",children:[n&&a.jsxs(a.Fragment,{children:[a.jsx(J,{size:"sm",variant:"ghost",className:"h-6 px-1",onClick:Q=>{Q.stopPropagation(),v(N.id)},children:a.jsx(t2,{className:"h-3.5 w-3.5"})}),a.jsx(J,{size:"sm",variant:"ghost",className:"h-6 px-1",onClick:Q=>{Q.stopPropagation(),M(N.id)},children:a.jsx(Es,{className:"h-3.5 w-3.5"})})]}),a.jsx(J,{size:"sm",variant:"ghost",className:n?"h-6 px-1":"",onClick:Q=>{Q.stopPropagation(),k(N.id)},children:a.jsx($r,{className:D(n?"h-3.5 w-3.5":"h-4 w-4")})})]})]})},N.id)})]}),a.jsx(J,{className:"w-full",variant:"poker",onClick:()=>u(!0),children:"Создать тренировку"})]}),!n&&a.jsx("div",{className:D("p-6",n?"order-1 flex-1":"flex-1 overflow-y-auto"),children:a.jsx("div",{className:D("mx-auto space-y-6",n?"max-w-full":"max-w-4xl"),children:i?a.jsx("div",{children:(()=>{var we;const N=r.find(I=>I.id===i);if(!N)return null;const P=C(N.id),z=_(N),V=o.find(I=>I.id===N.folderId),Q=V?V.name:null,Z=(we=N.rangeIds)==null?void 0:we.map(I=>{const O=V==null?void 0:V.ranges.find(G=>G.id===I);return O?O.name:null}).filter(Boolean).join(", ");return a.jsxs("div",{className:"space-y-4",children:[a.jsx(We,{children:a.jsxs(ed,{className:"p-2",children:[a.jsx(td,{className:"text-center text-lg",children:N.name}),a.jsxs(G0,{className:"text-center text-xs",children:[N.type==="classic"?"Классическая тренировка":"Тренировка повторения границ",z&&` • ${z}`]}),(Q||Z)&&a.jsxs("div",{className:"text-xs text-muted-foreground text-center pt-1 border-t mt-1",children:[Q&&a.jsxs("p",{children:[a.jsx("strong",{children:"Папка:"})," ",Q]}),Z&&a.jsxs("p",{className:"truncate",title:Z,children:[a.jsx("strong",{children:"Ренжи:"})," ",Z]})]})]})}),P?a.jsxs(We,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Статистика всех сессий"}),a.jsxs("div",{className:D("gap-4 text-center",n?"grid grid-cols-2 space-y-2":"grid grid-cols-4"),children:[a.jsxs("div",{children:[a.jsxs("div",{className:"text-2xl font-bold text-primary",children:[P.accuracy,"%"]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Точность"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-primary",children:P.hands}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Рук сыграно"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-primary",children:P.time}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Среднее время"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-primary",children:P.sessions}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Сессий"})]})]})]}):a.jsx(We,{className:"p-6 text-center text-muted-foreground",children:"Начните тренировку, чтобы собрать статистику."}),a.jsx("div",{className:"text-center",children:a.jsxs(J,{size:"lg",variant:"poker",onClick:()=>M(N.id),children:[a.jsx(Es,{className:"h-5 w-5 mr-2"}),"Запустить тренировку"]})}),!n&&a.jsxs(We,{children:[a.jsx(ed,{children:a.jsx(td,{children:"История сессий"})}),a.jsx(Xf,{children:p.length>0?a.jsxs(Mb,{children:[a.jsx(Lb,{children:a.jsxs(fd,{children:[a.jsx(yo,{className:"w-[100px]",children:"Сессия"}),a.jsx(yo,{children:"Дата"}),a.jsx(yo,{children:"Время"}),a.jsx(yo,{className:"text-right",children:"Точность"})]})}),a.jsx($b,{children:p.map((I,O)=>a.jsxs(fd,{children:[a.jsx(wo,{className:"font-medium",children:p.length-O}),a.jsx(wo,{children:H(I.timestamp)}),a.jsx(wo,{children:K(I.duration)}),a.jsxs(wo,{className:"text-right",children:[W(I.correctAnswers,I.totalQuestions),"%"]})]},I.timestamp))})]}):a.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Нет данных о сессиях для этой тренировки."})})]})]})})()}):!n&&a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Тренировка ренжей"}),a.jsx("p",{children:"Выберите тренировку из списка слева или создайте новую."})]})})})})]}),a.jsx(CI,{open:c,onOpenChange:u,onCreateTraining:E}),n&&a.jsx(Dt,{open:!!b,onOpenChange:N=>{N||v(null)},children:a.jsxs(St,{mobileFullscreen:!0,className:"flex flex-col",children:[a.jsxs(bt,{className:"flex-shrink-0",children:[a.jsx(jt,{children:j==null?void 0:j.name}),a.jsx(hr,{children:"История сессий"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto -mx-6 px-6",children:m.length>0?a.jsx("div",{className:"space-y-2 py-4",children:m.map((N,P)=>a.jsx(We,{className:"p-3",children:a.jsxs("div",{className:"grid grid-cols-3 items-center gap-4 text-sm",children:[a.jsxs("div",{className:"font-medium",children:[a.jsxs("p",{children:["Сессия ",m.length-P]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:H(N.timestamp)})]}),a.jsx("div",{className:"text-center text-muted-foreground",children:K(N.duration)}),a.jsxs("div",{className:"text-right font-semibold",children:[W(N.correctAnswers,N.totalQuestions),"%"]})]})},N.timestamp))}):a.jsx("div",{className:"flex items-center justify-center h-full text-center text-muted-foreground",children:"Нет данных о сессиях для этой тренировки."})}),m.length>0&&a.jsx("div",{className:"flex-shrink-0 border-t mt-auto p-4 bg-card/50",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Общее время"}),a.jsx("div",{className:"text-lg font-bold",children:B(T.totalDuration)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Общая точность"}),a.jsxs("div",{className:"text-lg font-bold",children:[T.totalAccuracy.toFixed(1),"%"]})]})]})})]})}),a.jsx(mb,{open:!!w,onOpenChange:N=>{N||k(null)},children:a.jsxs(th,{children:[a.jsxs(nh,{children:[a.jsx(sh,{children:"Вы уверены?"}),a.jsx(oh,{children:"Это действие невозможно отменить. Это приведет к необратимому удалению тренировки и всей связанной с ней статистики."})]}),a.jsxs(rh,{children:[a.jsx(ah,{children:"Отмена"}),a.jsx(ih,{onClick:L,className:cl({variant:"destructive"}),children:"Удалить"})]})]})})]})},PI=({isOpen:e,onOpenChange:t,chart:n})=>{const[r,s]=h.useState([]),[o,i]=h.useState(!0),[l,c]=h.useState(!1),u=()=>{if(!(!e||!n)){i(!0);try{const p=localStorage.getItem("poker-range-access-statistics"),x=p?JSON.parse(p):{},S=localStorage.getItem("poker-ranges-folders"),y=S?JSON.parse(S):[],b=new Map;y.forEach(w=>{w.ranges.forEach(k=>{b.set(k.id,{folderName:w.name,rangeName:k.name})})});const v=new Set;n.buttons.forEach(w=>{w.type==="normal"&&w.linkedItem&&w.linkedItem!=="label-only"&&w.linkedItem!=="exit"&&v.add(w.linkedItem),w.linkButtons&&w.linkButtons.forEach(k=>{k.enabled&&k.targetRangeId&&v.add(k.targetRangeId)})});const g=Array.from(v).map(w=>{const k=Number(x[w])||0,j=b.get(w);return{id:w,folderName:j?j.folderName:"Удаленная папка",rangeName:j?j.rangeName:"(Ренж не найден)",count:k}}).sort((w,k)=>k.count-w.count).slice(0,10);s(g)}catch(p){console.error("Ошибка при обработке статистики чарта:",p),s([])}finally{i(!1)}}};h.useEffect(()=>{e&&u()},[e,n]);const d=async()=>{if(window.confirm("Вы уверены, что хотите сбросить всю статистику обращений к ренджам? Это действие необратимо и затронет данные в облаке, если вы авторизованы.")){c(!0);try{await eA(),u()}catch(p){console.error("Failed to reset stats:",p)}finally{c(!1)}}},f=r.filter(p=>p.count>0).length>0;return a.jsx(Dt,{open:e,onOpenChange:t,children:a.jsxs(St,{className:"max-w-md",children:[a.jsxs(bt,{children:[a.jsxs(jt,{children:['Статистика для "',n==null?void 0:n.name,'"']}),a.jsx(hr,{children:"10 самых популярных ренджей в этом чарте."})]}),a.jsx("div",{className:"py-4 max-h-[60vh] overflow-y-auto",children:o?a.jsx("div",{className:"flex justify-center items-center h-24",children:a.jsx(rm,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):f?a.jsx("ol",{className:"list-decimal list-inside space-y-2",children:r.filter(p=>p.count>0).map(p=>a.jsxs("li",{className:"text-sm",children:[a.jsxs("span",{className:"font-medium",children:[p.folderName," - ",p.rangeName,":"]}),a.jsxs("span",{className:"text-muted-foreground ml-2",children:[p.count," обращений"]})]},p.id))}):a.jsx("div",{className:"text-center text-muted-foreground py-8",children:a.jsx("p",{children:"Нет данных об обращениях к ренджам в этом чарте."})})}),a.jsxs(In,{className:"flex-col-reverse gap-2 sm:flex-row sm:justify-between sm:space-x-2",children:[a.jsxs(J,{variant:"destructive",onClick:d,disabled:l||o||!f,className:"w-full sm:w-auto",children:[l?a.jsx(rm,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx($r,{className:"mr-2 h-4 w-4"}),"Сбросить статистику"]}),a.jsx(J,{onClick:()=>t(!1),className:"w-full sm:w-auto",children:"Закрыть"})]})]})})},II=e=>{const t=e%10,n=e%100;return n>=11&&n<=19?"кнопок":t===1?"кнопка":t>=2&&t<=4?"кнопки":"кнопок"},OI=({isMobileMode:e,charts:t,onCreateChart:n,onDeleteChart:r,onEditChart:s,onPlayChart:o})=>{const[i,l]=h.useState(!1),[c,u]=h.useState(""),[d,f]=h.useState(!1),[p,x]=h.useState(null),S=()=>{c.trim()&&(n(c.trim()),u(""),l(!1))},y=b=>{x(b),f(!0)};return a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Чарты"}),a.jsxs(Dt,{open:i,onOpenChange:l,children:[a.jsx(ww,{asChild:!0,children:a.jsxs(J,{children:[a.jsx(kr,{className:"mr-2 h-4 w-4"})," Создать чарт"]})}),a.jsxs(St,{children:[a.jsxs(bt,{children:[a.jsx(jt,{children:"Создать новый чарт"}),a.jsx(hr,{children:"Введите название для вашего нового чарта."})]}),a.jsx(xe,{value:c,onChange:b=>u(b.target.value),placeholder:"Название чарта",onKeyDown:b=>b.key==="Enter"&&S()}),a.jsx(In,{children:a.jsx(J,{onClick:S,disabled:!c.trim(),children:"Создать"})})]})]})]}),a.jsx("div",{className:D("space-y-3",e&&"max-h-[calc(70vh)] overflow-y-auto pr-1"),children:t.length>0?t.map(b=>a.jsx(We,{className:"transition-all hover:bg-muted/50",children:a.jsxs(Xf,{className:"p-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 overflow-hidden mr-2",children:[a.jsx("h3",{className:"font-semibold truncate",children:b.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.buttons.length," ",II(b.buttons.length)]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(J,{variant:"ghost",size:"icon",onClick:v=>{v.stopPropagation(),y(b)},children:a.jsx(e2,{className:"h-4 w-4"})}),a.jsx(J,{variant:"ghost",size:"icon",onClick:v=>{v.stopPropagation(),o(b)},children:a.jsx(Es,{className:"h-4 w-4"})}),a.jsx(J,{variant:"ghost",size:"icon",onClick:v=>{v.stopPropagation(),s(b)},children:a.jsx(Qy,{className:"h-4 w-4"})}),a.jsx(J,{variant:"destructive",size:"icon",onClick:v=>{v.stopPropagation(),r(b.id)},children:a.jsx($r,{className:"h-4 w-4"})})]})]})},b.id)):a.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Чарты не найдены"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Создайте свой первый чарт, чтобы начать."})]})})]}),a.jsx(PI,{isOpen:d,onOpenChange:f,chart:p})]})},Ne=5,DI=({buttons:e,setButtons:t,canvasRef:n,isMoveMode:r})=>{const[s,o]=h.useState(null),[i,l]=h.useState(!1),[c,u]=h.useState(!1),[d,f]=h.useState({x:0,y:0}),[p,x]=h.useState(null);h.useEffect(()=>{r||o(null)},[r]),h.useEffect(()=>{const j=n.current;if(!j)return;const C=_=>{_.target===j&&o(null)};return j.addEventListener("mousedown",C),()=>{j.removeEventListener("mousedown",C)}},[n]);const S=h.useCallback((j,C)=>{var B;const _=j.target.getBoundingClientRect(),E=((B=j.touches)==null?void 0:B[0])||j,R=E.clientX-_.left,L=E.clientY-_.top,M=8;let A=null;return R<M&&L<M?A="nw":R>_.width-M&&L<M?A="ne":R<M&&L>_.height-M?A="sw":R>_.width-M&&L>_.height-M?A="se":R<M?A="w":R>_.width-M?A="e":L<M?A="n":L>_.height-M&&(A="s"),A},[]),y=h.useCallback((j,C)=>{if(j.target.closest(".settings-icon"))return;j.stopPropagation(),o(C.id);const _=S(j,C);!r&&_?(u(!0),x(_)):l(!0);const E=j.currentTarget.getBoundingClientRect();f({x:j.clientX-E.left,y:j.clientY-E.top})},[S,r]),b=h.useCallback((j,C)=>{if(j.target.closest(".settings-icon"))return;j.stopPropagation(),o(C.id);const _=S(j,C);!r&&_?(u(!0),x(_)):l(!0);const E=j.currentTarget.getBoundingClientRect(),R=j.touches[0];f({x:R.clientX-E.left,y:R.clientY-E.top})},[S,r]),v=h.useCallback(j=>{if(!s||!n.current)return;const C=n.current.getBoundingClientRect(),_=e.find(E=>E.id===s);if(_){if(i){let E=j.clientX-d.x-C.left,R=j.clientY-d.y-C.top;E=Math.max(0,Math.min(E,C.width-_.width)),R=Math.max(0,Math.min(R,C.height-_.height)),t(L=>L.map(M=>M.id===s?{...M,x:E,y:R}:M))}else if(c&&p){let E=_.width,R=_.height,L=_.x,M=_.y;switch(p){case"e":E=Math.max(Ne,j.clientX-(_.x+C.left));break;case"s":R=Math.max(Ne,j.clientY-(_.y+C.top));break;case"w":const A=j.clientX-(_.x+C.left);E=Math.max(Ne,_.width-A),L=_.x+A;break;case"n":const B=j.clientY-(_.y+C.top);R=Math.max(Ne,_.height-B),M=_.y+B;break;case"se":E=Math.max(Ne,j.clientX-(_.x+C.left)),R=Math.max(Ne,j.clientY-(_.y+C.top));break;case"sw":const K=j.clientX-(_.x+C.left);E=Math.max(Ne,_.width-K),L=_.x+K,R=Math.max(Ne,j.clientY-(_.y+C.top));break;case"ne":E=Math.max(Ne,j.clientX-(_.x+C.left));const H=j.clientY-(_.y+C.top);R=Math.max(Ne,_.height-H),M=_.y+H;break;case"nw":const W=j.clientX-(_.x+C.left);E=Math.max(Ne,_.width-W),L=_.x+W;const T=j.clientY-(_.y+C.top);R=Math.max(Ne,_.height-T),M=_.y+T;break}L=Math.max(0,Math.min(L,C.width-E)),M=Math.max(0,Math.min(M,C.height-R)),E=Math.min(E,C.width-L),R=Math.min(R,C.height-M),t(A=>A.map(B=>B.id===s?{...B,x:L,y:M,width:E,height:R}:B))}}},[s,i,c,d,p,e,t,n]),m=h.useCallback(j=>{if(!s||!n.current)return;j.preventDefault();const C=j.touches[0];if(!C)return;const _=n.current.getBoundingClientRect(),E=e.find(R=>R.id===s);if(E){if(i){let R=C.clientX-d.x-_.left,L=C.clientY-d.y-_.top;R=Math.max(0,Math.min(R,_.width-E.width)),L=Math.max(0,Math.min(L,_.height-E.height)),t(M=>M.map(A=>A.id===s?{...A,x:R,y:L}:A))}else if(c&&p){let R=E.width,L=E.height,M=E.x,A=E.y;switch(p){case"e":R=Math.max(Ne,C.clientX-(E.x+_.left));break;case"s":L=Math.max(Ne,C.clientY-(E.y+_.top));break;case"w":const B=C.clientX-(E.x+_.left);R=Math.max(Ne,E.width-B),M=E.x+B;break;case"n":const K=C.clientY-(E.y+_.top);L=Math.max(Ne,E.height-K),A=E.y+K;break;case"se":R=Math.max(Ne,C.clientX-(E.x+_.left)),L=Math.max(Ne,C.clientY-(E.y+_.top));break;case"sw":const H=C.clientX-(E.x+_.left);R=Math.max(Ne,E.width-H),M=E.x+H,L=Math.max(Ne,C.clientY-(E.y+_.top));break;case"ne":R=Math.max(Ne,C.clientX-(E.x+_.left));const W=C.clientY-(E.y+_.top);L=Math.max(Ne,E.height-W),A=E.y+W;break;case"nw":const T=C.clientX-(E.x+_.left);R=Math.max(Ne,E.width-T),M=E.x+T;const N=C.clientY-(E.y+_.top);L=Math.max(Ne,E.height-N),A=E.y+N;break}M=Math.max(0,Math.min(M,_.width-R)),A=Math.max(0,Math.min(A,_.height-L)),R=Math.min(R,_.width-M),L=Math.min(L,_.height-A),t(B=>B.map(K=>K.id===s?{...K,x:M,y:A,width:R,height:L}:K))}}},[s,i,c,d,p,e,t,n]),g=h.useCallback(()=>{l(!1),u(!1),x(null),r||o(null)},[r]),w=h.useCallback((j,C)=>{if(i||c)return;if(r){j.currentTarget.style.cursor="grab";return}const _=S(j,C);_?j.currentTarget.style.cursor=`${_}-resize`:j.currentTarget.style.cursor="grab"},[i,c,S,r]),k=h.useCallback(j=>{i||c||(j.currentTarget.style.cursor="default")},[i,c]);return h.useEffect(()=>(i||c?(window.addEventListener("mousemove",v),window.addEventListener("mouseup",g),window.addEventListener("touchmove",m,{passive:!1}),window.addEventListener("touchend",g)):(window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",g),window.removeEventListener("touchmove",m),window.removeEventListener("touchend",g)),()=>{window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",g),window.removeEventListener("touchmove",m),window.removeEventListener("touchend",g)}),[i,c,v,g,m]),{activeButtonId:s,handleMouseDown:y,handleTouchStart:b,handleButtonMouseMove:w,handleButtonMouseLeave:k}},Bm=5,MI=({canvasRef:e,width:t,height:n,buttons:r,activeButtonId:s,onButtonMouseDown:o,onButtonTouchStart:i,onButtonMouseMove:l,onButtonMouseLeave:c,onSettingsClick:u})=>a.jsxs("div",{ref:e,className:"relative border-2 border-dashed border-muted-foreground rounded-lg bg-card flex items-center justify-center overflow-hidden",style:{width:t,height:n},children:[r.length===0&&a.jsx("p",{className:"text-muted-foreground",children:"Рабочая область (холст)"}),r.map(d=>{const f={backgroundColor:d.color,position:"absolute",left:d.x,top:d.y,width:Math.max(Bm,d.width||0),height:Math.max(Bm,d.height||0),zIndex:s===d.id?100:1,color:d.isFontAdaptive===!1&&d.fontColor?d.fontColor:"white"};return d.isFontAdaptive===!1&&d.fontSize&&(f.fontSize=`${d.fontSize}px`),a.jsxs("div",{style:f,className:"relative flex items-center justify-center rounded-md shadow-md font-semibold group",onMouseDown:p=>o(p,d),onTouchStart:p=>i(p,d),onMouseMove:p=>l(p,d),onMouseLeave:c,children:[d.name,a.jsx(J,{variant:"ghost",size:"icon",className:"absolute top-1 right-1 h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity settings-icon",onClick:p=>u(p,d),title:"Настройки кнопки",children:a.jsx(ra,{className:"h-4 w-4"})})]},d.id)})]}),LI=({isMobileMode:e,canvasWidth:t,canvasHeight:n,onAddButton:r,onMaximizeCanvas:s,onDimensionChange:o,onDimensionBlur:i,isMoveMode:l,onToggleMoveMode:c})=>a.jsxs("div",{className:D("flex flex-col",e?"p-4 mb-2 gap-2":"mb-6 gap-4"),children:[a.jsxs("div",{className:D("flex items-center",e?"gap-2":"gap-4"),children:[a.jsxs(J,{onClick:r,className:"flex items-center gap-2 h-7",children:[a.jsx(kr,{className:"h-4 w-4"}),"Создать кнопку"]}),a.jsx(J,{variant:"ghost",size:"icon",onClick:s,title:"Развернуть на весь экран",children:a.jsx(a2,{className:"h-5 w-5"})}),a.jsx(J,{variant:l?"secondary":"ghost",size:"icon",onClick:c,title:"Режим перемещения (отключает изменение размера)",children:a.jsx(c2,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:D("flex items-center gap-1 flex-wrap",e?"grid grid-cols-[auto_1fr] gap-x-1 gap-y-1 w-full":""),children:[a.jsx(F,{htmlFor:"canvasWidth",className:D("text-right",e&&"text-left"),children:"Ширина"}),a.jsx(xe,{id:"canvasWidth",type:"number",value:isNaN(t)?"":t,onChange:u=>o(u.target.value,"width"),onBlur:()=>i(t,"width"),className:"w-20 h-7",min:"100",maxLength:4}),a.jsx(F,{htmlFor:"canvasHeight",className:D("text-right",e&&"text-left"),children:"Высота"}),a.jsx(xe,{id:"canvasHeight",type:"number",value:isNaN(n)?"":n,onChange:u=>o(u.target.value,"height"),onBlur:()=>i(n,"height"),className:"w-20 h-7",min:"100",maxLength:4})]})]}),$I=({isOpen:e,onOpenChange:t,isMobileMode:n,editingButton:r,setEditingButton:s,onSave:o,onCancel:i,onDuplicate:l,onDelete:c,allRanges:u,folders:d,onOpenLegendPreview:f,isCreatingNewButton:p})=>{var k;const[x,S]=h.useState(null),y=[{name:"Красный",hex:"#FF0000"},{name:"Зеленый",hex:"#2FCA2F"},{name:"Синий",hex:"#0000FF"},{name:"Оранжевый",hex:"#FFA500"},{name:"Фиолетовый",hex:"#800080"}];h.useEffect(()=>{if(r&&r.type==="normal"&&r.linkedItem){const j=u.find(C=>C.id===r.linkedItem);if(j){const C=d.find(_=>_.ranges.some(E=>E.id===j.id));S(C?C.id:null)}else S(null)}else S(null)},[r,d,u]);const b=j=>{s(C=>{if(!C)return null;let _=C.linkedItem;return j==="label"?_="label-only":j==="exit"?_="exit-chart-placeholder":j==="normal"&&C.type!=="normal"&&(u.length>0?_=u[0].id:_=""),{...C,type:j,linkedItem:_}})},v=j=>{S(j);const C=d.find(E=>E.id===j),_=C==null?void 0:C.ranges[0];s(E=>E?{...E,linkedItem:_?_.id:""}:null)},m=j=>{s(C=>C?{...C,linkedItem:j}:null)},g=x?((k=d.find(j=>j.id===x))==null?void 0:k.ranges)||[]:[],w=(r==null?void 0:r.type)==="normal"?r.linkedItem:"";return r?a.jsx(Dt,{open:e,onOpenChange:j=>{j?t(!0):i()},children:a.jsxs(St,{mobileFullscreen:n,onInteractOutside:j=>{p&&!n&&j.preventDefault()},children:[a.jsx(bt,{children:a.jsx(jt,{children:"Настройка кнопки"})}),a.jsxs("div",{className:D("grid",n?"gap-3.5 py-3.5":"gap-4 py-4"),children:[a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(F,{htmlFor:"buttonName",className:"text-right",children:"Название"}),a.jsx(xe,{id:"buttonName",value:(r==null?void 0:r.name)||"",onChange:j=>s(C=>C?{...C,name:j.target.value}:null),className:"col-span-3"})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(F,{htmlFor:"buttonColor",className:"text-right",children:"Цвет"}),a.jsxs("div",{className:"col-span-3 flex items-center gap-2",children:[y.map(j=>a.jsx("div",{className:"w-8 h-8 rounded-md cursor-pointer border border-gray-700",style:{backgroundColor:j.hex},onClick:()=>s(C=>C?{...C,color:j.hex}:null),title:j.name},j.hex)),a.jsx(xe,{id:"buttonColor",type:"color",value:(r==null?void 0:r.color)||"#000000",onChange:j=>s(C=>C?{...C,color:j.target.value}:null),className:"w-10 h-10 p-0 border-none cursor-pointer"})]})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(F,{className:"text-right",children:"Тип кнопки"}),a.jsxs(Xe,{value:(r==null?void 0:r.type)||"normal",onValueChange:b,className:"col-span-3 flex gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"normal",id:"typeNormal"}),a.jsx(F,{htmlFor:"typeNormal",className:"font-normal",children:"Обычная"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"label",id:"typeLabel"}),a.jsx(F,{htmlFor:"typeLabel",className:"font-normal",children:"Только текст"})]}),!n&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"exit",id:"typeExit"}),a.jsx(F,{htmlFor:"typeExit",className:"font-normal",children:"Выход"})]})]})]}),r.type==="normal"&&a.jsx(a.Fragment,{children:n?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(F,{className:"font-bold whitespace-nowrap",children:"Привязать"}),a.jsxs(bn,{value:x||"",onValueChange:v,disabled:d.length===0,children:[a.jsx(on,{className:"flex-1",children:a.jsx(jn,{placeholder:"Папка"})}),a.jsx(an,{children:d.length===0?a.jsx(Ue,{value:"no-folders-available",disabled:!0,children:"Нет доступных папок"}):d.map(j=>a.jsx(Ue,{value:j.id,children:j.name},j.id))})]}),a.jsxs(bn,{value:w,onValueChange:m,disabled:!x||g.length===0,children:[a.jsx(on,{className:"flex-1",children:a.jsx(jn,{placeholder:"Диапазон"})}),a.jsx(an,{children:x?g.length===0?a.jsx(Ue,{value:"no-ranges-in-folder",disabled:!0,children:"Нет диапазонов в этой папке"}):g.map(j=>a.jsx(Ue,{value:j.id,children:j.name},j.id)):a.jsx(Ue,{value:"select-folder-first",disabled:!0,children:"Сначала выберите папку"})})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(F,{htmlFor:"linkedFolder",className:"text-right",children:"Папка"}),a.jsxs(bn,{value:x||"",onValueChange:v,disabled:d.length===0,children:[a.jsx(on,{className:"col-span-3",children:a.jsx(jn,{placeholder:"Выберите папку"})}),a.jsx(an,{children:d.length===0?a.jsx(Ue,{value:"no-folders-available",disabled:!0,children:"Нет доступных папок"}):d.map(j=>a.jsx(Ue,{value:j.id,children:j.name},j.id))})]})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(F,{htmlFor:"linkedRange",className:"text-right",children:"Диапазон"}),a.jsxs(bn,{value:w,onValueChange:m,disabled:!x||g.length===0,children:[a.jsx(on,{className:"col-span-3",children:a.jsx(jn,{placeholder:"Выберите диапазон"})}),a.jsx(an,{children:x?g.length===0?a.jsx(Ue,{value:"no-ranges-in-folder",disabled:!0,children:"Нет диапазонов в этой папке"}):g.map(j=>a.jsx(Ue,{value:j.id,children:j.name},j.id)):a.jsx(Ue,{value:"select-folder-first",disabled:!0,children:"Сначала выберите папку"})})]})]})]})}),a.jsxs("div",{className:D("grid grid-cols-4 items-center gap-4 border-t",n?"pt-3.5 mt-1.5":"pt-4 mt-2"),children:[a.jsx(F,{className:"text-right",children:"Шрифт"}),a.jsxs("div",{className:D("col-span-3 flex flex-wrap items-center gap-x-4",n?"gap-y-1.5":"gap-y-2"),children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Cn,{id:"adaptiveFont",checked:(r==null?void 0:r.isFontAdaptive)??!0,onCheckedChange:j=>{s(C=>C?{...C,isFontAdaptive:!!j}:null)}}),a.jsx(F,{htmlFor:"adaptiveFont",className:"font-normal",children:"Адаптивный"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xe,{id:"fontSize",type:"number",value:(r==null?void 0:r.fontSize)||16,onChange:j=>s(C=>C?{...C,fontSize:parseInt(j.target.value)||16}:null),className:"w-16 h-8",min:"1",disabled:(r==null?void 0:r.isFontAdaptive)??!0}),a.jsx(F,{htmlFor:"fontSize",className:"font-normal text-sm text-muted-foreground",children:"px"})]}),a.jsxs(Xe,{value:(r==null?void 0:r.fontColor)||"white",onValueChange:j=>{s(C=>C?{...C,fontColor:j}:null)},className:"flex gap-4",disabled:(r==null?void 0:r.isFontAdaptive)??!0,children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"white",id:"fontWhite"}),a.jsx(F,{htmlFor:"fontWhite",className:"font-normal",children:"Белый"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"black",id:"fontBlack"}),a.jsx(F,{htmlFor:"fontBlack",className:"font-normal",children:"Черный"})]})]})]})]}),a.jsxs("div",{className:D("grid grid-cols-4 items-center gap-4 border-t",n?"pt-3.5 mt-1.5":"pt-4 mt-2"),children:[a.jsx(F,{className:"text-right",children:"Размер"}),a.jsxs("div",{className:"col-span-3 grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(F,{htmlFor:"buttonWidth",className:"font-normal w-6 text-right",children:"W:"}),a.jsx(xe,{id:"buttonWidth",type:"number",value:(r==null?void 0:r.width)||0,onChange:j=>{const C=parseInt(j.target.value,10);s(_=>_?{..._,width:isNaN(C)?0:C}:null)},className:"w-20 h-8"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(F,{htmlFor:"buttonHeight",className:"font-normal w-6 text-right",children:"H:"}),a.jsx(xe,{id:"buttonHeight",type:"number",value:(r==null?void 0:r.height)||0,onChange:j=>{const C=parseInt(j.target.value,10);s(_=>_?{..._,height:isNaN(C)?0:C}:null)},className:"w-20 h-8"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(F,{className:"text-right",children:"Позиция"}),a.jsxs("div",{className:"col-span-3 grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(F,{htmlFor:"buttonX",className:"font-normal w-6 text-right",children:"X: "}),a.jsx(xe,{id:"buttonX",type:"number",value:(r==null?void 0:r.x)||0,onChange:j=>{const C=parseInt(j.target.value,10);s(_=>_?{..._,x:isNaN(C)?0:C}:null)},className:"w-20 h-8"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(F,{htmlFor:"buttonY",className:"font-normal w-6 text-right",children:"Y:"}),a.jsx(xe,{id:"buttonY",type:"number",value:(r==null?void 0:r.y)||0,onChange:j=>{const C=parseInt(j.target.value,10);s(_=>_?{..._,y:isNaN(C)?0:C}:null)},className:"w-20 h-8"})]})]})]}),a.jsxs("div",{className:D("grid grid-cols-4 items-start gap-4 border-t",n?"pt-3.5 mt-1.5":"pt-4 mt-2"),children:[a.jsx(F,{className:"text-right col-start-1 pt-2",children:"Опции"}),a.jsxs("div",{className:"col-span-3 flex flex-col gap-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Cn,{id:"showLegend",checked:(r==null?void 0:r.showLegend)??!1,onCheckedChange:j=>{s(C=>C?{...C,showLegend:!!j}:null)},disabled:(r==null?void 0:r.type)==="label"||(r==null?void 0:r.type)==="exit"}),a.jsx(F,{htmlFor:"showLegend",className:"font-normal",children:"Показать легенду"}),(r==null?void 0:r.showLegend)&&(r==null?void 0:r.type)==="normal"&&a.jsx(J,{variant:"outline",size:"sm",className:"h-7 ml-2",onClick:f,children:"Предпросмотр"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Cn,{id:"showRandomizer",checked:(r==null?void 0:r.showRandomizer)??!1,onCheckedChange:j=>{s(C=>C?{...C,showRandomizer:!!j}:null)},disabled:(r==null?void 0:r.type)==="label"||(r==null?void 0:r.type)==="exit"}),a.jsx(F,{htmlFor:"showRandomizer",className:"font-normal",children:"Показывать рандомайзер"})]})]})]})]}),a.jsxs(In,{children:[a.jsx(J,{variant:"destructive",onClick:c,children:"Удалить"}),a.jsx(J,{variant:"outline",onClick:l,children:"Копировать"}),a.jsx(J,{onClick:o,children:"Сохранить"})]})]})}):null},Vm=(e,t)=>{if(e==="fold")return"#6b7280";const n=t.find(r=>r.id===e);return n&&n.type==="simple"?n.color:"#ffffff"},FI=(e,t)=>{if(e.type==="simple")return{backgroundColor:e.color};if(e.type==="weighted"){const n=Vm(e.action1Id,t),r=Vm(e.action2Id,t);return{background:`linear-gradient(to right, ${n} ${e.weight}%, ${r} ${e.weight}%)`}}return{}},zI=({config:e,onConfigChange:t,folders:n,buttonIndex:r})=>{const[s,o]=h.useState("");h.useEffect(()=>{if(e.targetRangeId){const c=n.find(u=>u.ranges.some(d=>d.id===e.targetRangeId));o((c==null?void 0:c.id)||"")}else n.length>0&&o(n[0].id)},[e.targetRangeId,n]);const i=h.useMemo(()=>{const c=n.find(u=>u.id===s);return c?c.ranges:[]},[s,n]),l=c=>{var d,f;o(c);const u=((f=(d=n.find(p=>p.id===c))==null?void 0:d.ranges[0])==null?void 0:f.id)||"";t({...e,targetRangeId:u})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(F,{htmlFor:`link-button-text-${r}`,children:"Текст на кнопке"}),a.jsx(xe,{id:`link-button-text-${r}`,value:e.text,onChange:c=>t({...e,text:c.target.value}),placeholder:"Напр. vs 3-bet"})]}),r===0&&a.jsxs("div",{children:[a.jsx(F,{htmlFor:"link-button-position",children:"Расположение группы кнопок"}),a.jsxs(bn,{value:e.position,onValueChange:c=>t({...e,position:c}),children:[a.jsx(on,{id:"link-button-position",children:a.jsx(jn,{placeholder:"Выберите расположение"})}),a.jsxs(an,{children:[a.jsx(Ue,{value:"left",children:"Слева"}),a.jsx(Ue,{value:"center",children:"По центру"}),a.jsx(Ue,{value:"right",children:"Справа"})]})]})]}),a.jsxs("div",{children:[a.jsx(F,{children:"Целевой ренж"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(bn,{value:s,onValueChange:l,children:[a.jsx(on,{children:a.jsx(jn,{placeholder:"Выберите папку"})}),a.jsx(an,{children:n.map(c=>a.jsx(Ue,{value:c.id,children:c.name},c.id))})]}),a.jsxs(bn,{value:e.targetRangeId,onValueChange:c=>t({...e,targetRangeId:c}),disabled:!s,children:[a.jsx(on,{children:a.jsx(jn,{placeholder:"Выберите ренж"})}),a.jsx(an,{children:i.map(c=>a.jsx(Ue,{value:c.id,children:c.name},c.id))})]})]})]})]})},UI=({isOpen:e,onOpenChange:t,linkedRange:n,actionButtons:r,editingButton:s,onSave:o,folders:i})=>{const[l,c]=h.useState({}),[u,d]=h.useState([]),[f,p]=h.useState({showTitle:!1,titleText:"",titleFontSize:20,titleAlignment:"center"}),[x,S]=h.useState(!0),y=qr();h.useEffect(()=>{if(e){c((s==null?void 0:s.legendOverrides)||{});const k=(s==null?void 0:s.linkButtons)||[],j=Array(6).fill(null).map((C,_)=>({...k[_]||{enabled:!1,text:"",position:"center",targetRangeId:""}}));d(j),p({showTitle:(n==null?void 0:n.showTitle)||!1,titleText:(n==null?void 0:n.titleText)||(n==null?void 0:n.name)||"",titleFontSize:(n==null?void 0:n.titleFontSize)||20,titleAlignment:(n==null?void 0:n.titleAlignment)||"center"}),S((s==null?void 0:s.legendIsMultiLine)??!0)}},[e,s,n]);const b=()=>{const k={};for(const j in l)l[j]&&l[j].trim()!==""&&(k[j]=l[j].trim());o({overrides:k,linkButtonsConfig:u,titleConfig:f,legendIsMultiLine:x}),t(!1)},v=(k,j)=>{const C=[...u];if(C[k]=j,k===0){const _=j.position;for(let E=1;E<C.length;E++)C[E]={...C[E],position:_}}d(C)},m=h.useMemo(()=>{if(!n)return[];const k=new Set(Object.values(n.hands));return r.filter(j=>k.has(j.id))},[n,r]),g=h.useMemo(()=>{var j;const k=((j=u[0])==null?void 0:j.position)||"center";return{left:"justify-start",center:"justify-center",right:"justify-end"}[k]},[u]),w=h.useMemo(()=>u.filter(k=>k.enabled&&k.text.trim()!==""),[u]);return a.jsx(Dt,{open:e,onOpenChange:t,children:a.jsxs(St,{className:"max-w-4xl sm:max-h-[90vh] overflow-y-auto",onInteractOutside:k=>k.preventDefault(),mobileFullscreen:y,children:[a.jsx(bt,{children:a.jsx(jt,{children:"Предпросмотр и редактирование"})}),n&&a.jsxs("div",{children:[a.jsx(Tr,{selectedHands:n.hands,onHandSelect:()=>{},activeAction:"",actionButtons:r,readOnly:!0,isBackgroundMode:!1,sizeVariant:"editorPreview"}),a.jsxs("div",{className:"mt-4 space-y-3",children:[a.jsx("h4",{className:"font-semibold",children:"Редактировать названия в легенде:"}),a.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[a.jsx(Cn,{id:"legend-multiline",checked:x,onCheckedChange:k=>S(!!k)}),a.jsx(F,{htmlFor:"legend-multiline",children:"С новой строки"})]}),m.map(k=>a.jsxs("div",{className:"grid grid-cols-[auto_1fr] items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[a.jsx("div",{className:"w-4 h-4 rounded-sm border flex-shrink-0",style:FI(k,r)}),a.jsxs(F,{htmlFor:`legend-override-${k.id}`,children:[k.name,":"]})]}),a.jsx(xe,{id:`legend-override-${k.id}`,value:l[k.id]||"",onChange:j=>c(C=>({...C,[k.id]:j.target.value})),placeholder:`По умолчанию: ${k.name}`})]},k.id))]}),a.jsxs("div",{className:"mt-6 pt-4 border-t",children:[a.jsx("h4",{className:"font-semibold mb-3",children:"Заголовок над матрицей"}),a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(Cn,{id:"show-title",checked:f.showTitle,onCheckedChange:k=>p(j=>({...j,showTitle:!!k}))}),a.jsx(F,{htmlFor:"show-title",children:"Показывать заголовок"})]}),f.showTitle&&a.jsxs("div",{className:"space-y-4 pl-6",children:[a.jsxs("div",{children:[a.jsx(F,{htmlFor:"title-text",children:"Текст заголовка"}),a.jsx(xe,{id:"title-text",value:f.titleText,onChange:k=>p(j=>({...j,titleText:k.target.value})),placeholder:"Напр. Open Raise BTN"})]}),a.jsxs("div",{className:"flex gap-4 items-end",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(F,{htmlFor:"title-font-size",children:"Размер шрифта (px)"}),a.jsx(xe,{id:"title-font-size",type:"number",value:f.titleFontSize,onChange:k=>p(j=>({...j,titleFontSize:Number(k.target.value)||20}))})]}),a.jsxs("div",{children:[a.jsx(F,{children:"Выравнивание"}),a.jsxs(Xe,{value:f.titleAlignment,onValueChange:k=>p(j=>({...j,titleAlignment:k})),className:"flex gap-4 mt-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"left",id:"align-left"}),a.jsx(F,{htmlFor:"align-left",children:"Слева"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(le,{value:"center",id:"align-center"}),a.jsx(F,{htmlFor:"align-center",children:"По центру"})]})]})]})]})]})]}),a.jsxs("div",{className:"mt-6 pt-4 border-t",children:[a.jsx("h4",{className:"font-semibold mb-3",children:"Кнопки-ссылки на другой ренж"}),w.length>0&&a.jsxs("div",{className:"space-y-2 mb-6",children:[a.jsx(F,{children:"Предпросмотр кнопок"}),a.jsx("div",{className:`p-4 border rounded-lg bg-muted/40 flex ${g}`,children:a.jsx("div",{className:"grid grid-cols-3 gap-2",children:w.map((k,j)=>a.jsx(J,{variant:"outline",size:"sm",className:"pointer-events-none",children:k.text},j))})})]}),a.jsx(F,{children:"Настройки кнопок"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 mt-2",children:u.map((k,j)=>a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(Cn,{id:`enable-link-button-${j}`,checked:k.enabled,onCheckedChange:C=>v(j,{...k,enabled:!!C})}),a.jsxs(F,{htmlFor:`enable-link-button-${j}`,className:"font-semibold",children:["Кнопка-ссылка #",j+1]})]}),k.enabled&&a.jsx(zI,{config:k,onConfigChange:C=>v(j,C),folders:i,buttonIndex:j})]},j))})]})]}),a.jsxs(In,{children:[a.jsx(J,{variant:"outline",onClick:()=>t(!1),children:"Отмена"}),a.jsx(J,{onClick:b,children:"Сохранить"})]})]})})},BI=({isMobileMode:e=!1,chart:t,onBackToCharts:n,onSaveChart:r})=>{const{folders:s,setFolders:o,actionButtons:i}=On(),l=s.flatMap(te=>te.ranges),[c,u]=h.useState(t.name),[d,f]=h.useState(!1),[p,x]=h.useState(t.buttons),[S,y]=h.useState(t.canvasWidth||800),[b,v]=h.useState(t.canvasHeight||500),[m,g]=h.useState(!1),[w,k]=h.useState(null),[j,C]=h.useState(!1),[_,E]=h.useState(!1),[R,L]=h.useState(!1),M=h.useRef(null),A=100,B=5,{activeButtonId:K,handleMouseDown:H,handleTouchStart:W,handleButtonMouseMove:T,handleButtonMouseLeave:N}=DI({buttons:p,setButtons:x,canvasRef:M,isMoveMode:R});h.useEffect(()=>{u(t.name),x(t.buttons),y(t.canvasWidth||800),v(t.canvasHeight||500)},[t]),h.useEffect(()=>{x(te=>{let ce=!1;const Re=te.map($=>{let ne=$.x,oe=$.y,ae=$.width,ge=$.height;return ae=Math.max(B,ae),ge=Math.max(B,ge),ne=Math.max(0,Math.min(ne,S-ae)),oe=Math.max(0,Math.min(oe,b-ge)),ae=Math.min(ae,S-ne),ge=Math.min(ge,b-oe),ne!==$.x||oe!==$.y||ae!==$.width||ge!==$.height?(ce=!0,{...$,x:ne,y:oe,width:ae,height:ge}):$});return ce?Re:te})},[S,b]),h.useEffect(()=>{const te=ce=>{if(!R||!K||!p.find(ae=>ae.id===K))return;["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(ce.key)&&ce.preventDefault();let $=0,ne=0;const oe=ce.shiftKey?10:1;switch(ce.key){case"ArrowUp":ne=-oe;break;case"ArrowDown":ne=oe;break;case"ArrowLeft":$=-oe;break;case"ArrowRight":$=oe;break;default:return}x(ae=>ae.map(ge=>{if(ge.id===K){const Mt=Math.max(0,Math.min(ge.x+$,S-ge.width)),Mn=Math.max(0,Math.min(ge.y+ne,b-ge.height));return{...ge,x:Mt,y:Mn}}return ge}))};return window.addEventListener("keydown",te),()=>{window.removeEventListener("keydown",te)}},[R,K,p,x,S,b]);const P=()=>{const te={id:String(Date.now()),name:"new",color:"#60A5FA",linkedItem:l.length>0?l[0].id:"label-only",x:50,y:50,width:120,height:40,type:l.length>0?"button":"label",isFontAdaptive:!0,fontSize:16,fontColor:"white",showLegend:!0,legendIsMultiLine:!0,showRandomizer:!1,legendOverrides:{},linkButtons:Array(6).fill(null).map(()=>({enabled:!1,text:"",position:"center",targetRangeId:""}))};x(ce=>[...ce,te]),k(te),C(!0),g(!0)},z=(te,ce)=>{te.stopPropagation(),k(ce),C(!1),g(!0)},V=()=>{w&&(x(te=>te.map(ce=>ce.id===w.id?w:ce)),g(!1),k(null),C(!1))},Q=()=>{w&&!t.buttons.some(te=>te.id===w.id)&&x(te=>te.filter(ce=>ce.id!==w.id)),g(!1),k(null),C(!1)},Z=()=>{if(w){let ce,Re;const $=w.x+w.width+10;if($+w.width<=S)ce=$,Re=w.y;else{const oe=w.y+w.height+10;oe+w.height<=b?(ce=w.x,Re=oe):(ce=Math.min(w.x+10,S-w.width),Re=Math.min(w.y+10,b-w.height))}ce=Math.max(0,ce),Re=Math.max(0,Re);const ne={...w,id:String(Date.now()),x:ce,y:Re};x(oe=>[...oe,ne]),g(!1),k(null),C(!1)}},we=()=>{w&&(x(te=>te.filter(ce=>ce.id!==w.id)),g(!1),k(null),C(!1))},I=()=>{const te={...t,name:c,buttons:p,canvasWidth:S,canvasHeight:b};r(te),n(),console.log("[ChartEditor] Chart saved, triggering background sync."),Rr(!1)},O=(te,ce)=>{(ce==="width"?y:v)(parseInt(te,10))},G=(te,ce)=>{const Re=ce==="width"?y:v;(isNaN(te)||te<A)&&Re(A)},q=()=>{e?(y(window.innerWidth),v(window.innerHeight)):(y(Math.round(window.innerWidth*.97)),v(Math.round(window.innerHeight*.91)))},X=()=>{w&&E(!0)},ee=te=>{if(k(ce=>ce?{...ce,legendOverrides:te.overrides,linkButtons:te.linkButtonsConfig,legendIsMultiLine:te.legendIsMultiLine}:null),te.titleConfig&&(w!=null&&w.linkedItem)){const ce=w.linkedItem;o(Re=>Re.map($=>({...$,ranges:$.ranges.map(ne=>ne.id===ce?{...ne,showTitle:te.titleConfig.showTitle,titleText:te.titleConfig.titleText,titleFontSize:te.titleConfig.titleFontSize,titleAlignment:te.titleConfig.titleAlignment}:ne)})))}E(!1)},ie=()=>{L(te=>!te)},Ie=w!=null&&w.linkedItem?l.find(te=>te.id===w.linkedItem):null;return a.jsx("div",{className:D("p-6",e?"flex-1 overflow-y-auto":"min-h-screen"),children:a.jsxs("div",{className:D("mx-auto",e?"w-full":""),children:[a.jsx("div",{className:"flex justify-between items-center mb-2",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(J,{variant:"ghost",size:"icon",onClick:I,title:"Назад к чартам",children:a.jsx(QE,{className:"h-6 w-6 text-foreground"})}),d?a.jsx(xe,{value:c,onChange:te=>u(te.target.value),onBlur:()=>f(!1),onKeyDown:te=>{te.key==="Enter"&&(te.preventDefault(),f(!1))},className:"text-3xl font-bold h-auto p-0 border-none focus-visible:ring-0 bg-transparent",autoFocus:!0}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:c}),a.jsx(J,{variant:"ghost",size:"icon",onClick:()=>f(!0),title:"Редактировать название",children:a.jsx(Qy,{className:"h-5 w-5 text-muted-foreground"})})]})]})}),a.jsx(LI,{isMobileMode:e||!1,canvasWidth:S,canvasHeight:b,onAddButton:P,onMaximizeCanvas:q,onDimensionChange:O,onDimensionBlur:G,isMoveMode:R,onToggleMoveMode:ie}),a.jsx(MI,{canvasRef:M,width:S,height:b,buttons:p,activeButtonId:K,onButtonMouseDown:H,onButtonTouchStart:W,onButtonMouseMove:T,onButtonMouseLeave:N,onSettingsClick:z}),a.jsx($I,{isOpen:m,onOpenChange:g,isMobileMode:e||!1,editingButton:w,setEditingButton:k,onSave:V,onCancel:Q,onDuplicate:Z,onDelete:we,allRanges:l,folders:s,onOpenLegendPreview:X,isCreatingNewButton:j}),a.jsx(UI,{isOpen:_,onOpenChange:E,linkedRange:Ie,actionButtons:i,editingButton:w,onSave:ee,folders:s})]})})},Hm=(e,t)=>{if(e==="fold")return"#6b7280";const n=t.find(r=>r.id===e);return n&&n.type==="simple"?n.color:"#ffffff"},VI=(e,t)=>{if(e.type==="simple")return{backgroundColor:e.color};if(e.type==="weighted"){const n=Hm(e.action1Id,t),r=Hm(e.action2Id,t);return{background:`linear-gradient(to right, ${n} ${e.weight}%, ${r} ${e.weight}%)`}}return{}},HI=({usedActions:e,allActionButtons:t,legendOverrides:n,legendIsMultiLine:r})=>{if(e.length===0)return null;const s=r??!0;return a.jsx("div",{className:D("mt-4",s?"flex flex-col items-start gap-y-2":"flex flex-row flex-wrap items-center gap-x-4 gap-y-2"),children:e.map(o=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-sm border",style:VI(o,t)}),a.jsx("span",{className:"text-sm font-medium",children:(n==null?void 0:n[o.id])||o.name})]},o.id))})},WI=({isOpen:e,onClose:t,children:n,isMobileMode:r=!1})=>e?a.jsx("div",{className:D("fixed inset-0 z-50 flex bg-black/50",r?"items-stretch p-0":"items-center justify-center p-2"),onClick:t,children:a.jsx("div",{className:D("bg-background shadow-2xl",r?"w-full h-full rounded-none":"w-auto p-4 rounded-lg"),onClick:s=>s.stopPropagation(),children:n})}):null,KI=({isMobileMode:e=!1,chart:t,allRanges:n,onBackToCharts:r})=>{const{actionButtons:s}=On(),[o,i]=h.useState(null),[l,c]=h.useState(!1),[u,d]=h.useState(null),[f,p]=h.useState(null),[x,S]=h.useState({width:0,height:0}),[y,b]=h.useState({}),v=_=>{if(!_){console.warn("[Stats] recordRangeAccess called with no rangeId.");return}let E={};try{const R=localStorage.getItem("poker-range-access-statistics");if(R){const L=JSON.parse(R);typeof L=="object"&&L!==null&&!Array.isArray(L)&&(E=L)}}catch(R){console.error("Error parsing range access statistics, starting fresh for this session.",R),E={}}try{const R=Number(E[_])||0;E[_]=R+1,localStorage.setItem("poker-range-access-statistics",JSON.stringify(E))}catch(R){console.error("Error saving range access statistics to localStorage.",R),alert("Не удалось сохранить статистику. Возможно, хранилище переполнено.")}};h.useEffect(()=>{const _=()=>{S({width:window.innerWidth,height:window.innerHeight})};_(),window.addEventListener("resize",_);try{const E=getComputedStyle(document.documentElement).getPropertyValue("--background").trim();if(!E)return;const R=E.replace(/%/g,"").split(" ");if(R.length<3)return;const L=parseFloat(R[0]),M=parseFloat(R[1]),A=parseFloat(R[2]);if(isNaN(L)||isNaN(M)||isNaN(A))return;const B=A+(100-A)*.15,K=`hsl(${L} ${M}% ${Math.min(100,B)}%)`;b({borderColor:K,borderWidth:"1px",borderStyle:"solid"})}catch(E){console.error("Could not calculate dynamic border color, falling back.",E),b({borderColor:"hsl(var(--border))",borderWidth:"1px",borderStyle:"solid"})}return()=>window.removeEventListener("resize",_)},[]);const m=_=>{if(_.type==="label")return;if(_.type==="exit"){r();return}const E=n.find(R=>R.id===_.linkedItem);E?(v(E.id),i(E),d(_),_.showRandomizer?p(Math.floor(Math.random()*101)):p(null),c(!0)):alert("Привязанный диапазон не найден.")},g=()=>{c(!1),i(null),d(null),p(null)},w=_=>{const E=n.find(R=>R.id===_);E?(v(E.id),i(E)):alert("Связанный ренж не найден!")},k=be.useMemo(()=>{if(!o)return[];const _=new Set(Object.values(o.hands));return s.filter(E=>_.has(E.id))},[o,s]),j=e&&x.width>0&&t.canvasWidth>0?Math.min(x.width/t.canvasWidth,x.height/t.canvasHeight):1,C={left:"justify-start",center:"justify-center",right:"justify-end"};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:D(e?"fixed inset-0 z-50 flex flex-col items-center justify-center bg-background":"p-6 min-h-screen"),children:a.jsx("div",{className:D(e?"w-full h-full flex flex-col items-center justify-center":"w-full flex justify-center items-start"),children:a.jsxs("div",{className:D("relative flex items-center justify-center overflow-hidden",e?"bg-background":"bg-card rounded-lg"),style:{width:t.canvasWidth,height:t.canvasHeight,...e?{transform:`scale(${j})`,transformOrigin:"center center"}:{flexShrink:0,...y}},children:[(!e||!l)&&t.buttons.map(_=>{const E={backgroundColor:_.color,position:"absolute",left:_.x,top:_.y,width:Math.max(5,_.width||0),height:Math.max(5,_.height||0),color:_.isFontAdaptive===!1&&_.fontColor?_.fontColor:"white"};return _.isFontAdaptive===!1&&_.fontSize&&(E.fontSize=`${_.fontSize}px`),a.jsx("div",{style:E,className:D("flex items-center justify-center rounded-md shadow-md font-semibold z-20",_.type!=="label"&&"cursor-pointer hover:opacity-90 transition-opacity"),onClick:()=>m(_),children:_.name},_.id)}),t.buttons.length===0&&(!e||!l)&&a.jsx("p",{className:"text-muted-foreground z-10",children:"В этом чарте нет кнопок."})]})})}),a.jsx(WI,{isOpen:l,onClose:g,isMobileMode:e,children:o&&a.jsxs("div",{className:D("relative flex flex-col h-full",e?"pb-[30px]":"p-4"),children:[(u==null?void 0:u.showRandomizer)&&f!==null&&a.jsx("div",{className:"absolute top-0 right-0 font-bold z-10 rounded-md",style:{fontSize:"20px",color:"white",backgroundColor:"#0d0e12",padding:"4px 12px"},children:f}),o.showTitle&&o.titleText&&a.jsx("h3",{className:"pt-10 mb-2 px-4 font-bold text-white flex-shrink-0",style:{fontSize:`${o.titleFontSize||20}px`,textAlign:o.titleAlignment||"center"},children:o.titleText}),a.jsx("div",{className:D("flex items-center justify-center flex-shrink-0",e?"w-full":"h-full"),children:a.jsx("div",{className:D("aspect-square",e?"w-full":"h-full"),children:a.jsx(Tr,{selectedHands:o.hands,onHandSelect:()=>{},activeAction:"",actionButtons:s,readOnly:!0,isBackgroundMode:!1})})}),a.jsxs("div",{className:D("flex-shrink-0",e&&"px-4 pb-4"),children:[(u==null?void 0:u.showLegend)&&a.jsx(HI,{usedActions:k,allActionButtons:s,legendOverrides:u==null?void 0:u.legendOverrides,legendIsMultiLine:u==null?void 0:u.legendIsMultiLine}),(u==null?void 0:u.linkButtons)&&u.linkButtons.some(_=>_.enabled)&&a.jsx("div",{className:D("mt-4 flex",C[u.linkButtons[0].position]),children:a.jsx("div",{className:"grid grid-cols-3 gap-2",children:u.linkButtons.map((_,E)=>_.enabled&&_.targetRangeId&&a.jsx(J,{onClick:()=>w(_.targetRangeId),className:"bg-green-600 hover:bg-green-700 text-white font-bold h-8 px-2 text-xs",children:_.text||"Перейти"},E))})})]}),e&&a.jsx(J,{onClick:g,className:"absolute bottom-0 left-0 w-full rounded-none text-white font-bold bg-gray-800 hover:bg-gray-700 z-20",style:{height:"30px"},children:"Назад"})]})})]})},GI=()=>{console.log("Index.tsx rendered");const{folders:e}=On(),t=e.flatMap(_=>_.ranges),[n,r]=h.useState("chart"),[s,o]=h.useState(null),[i,l]=h.useState(null),[c,u]=h.useState(!1),d=qr(),[f,p]=h.useState(()=>{try{const _=localStorage.getItem("userCharts");return _?JSON.parse(_):[]}catch(_){return console.error("Failed to parse charts from localStorage:",_),[]}});h.useEffect(()=>{try{localStorage.setItem("userCharts",JSON.stringify(f))}catch(_){console.error("Failed to save charts to localStorage:",_)}},[f]);const x=d&&i!=="desktop"||!d&&c,S=n==="chartViewer",y=_=>{o(_),r("chartEditor")},b=_=>{o(_),r("chartViewer")},v=_=>{const E=String(Date.now()),R={id:E,name:_.trim(),buttons:[{id:`exit-${E}`,name:"Выход",color:"#EF4444",linkedItem:"",x:10,y:10,width:150,height:40,type:"exit"}],canvasWidth:800,canvasHeight:500};p(L=>[...L,R])},m=_=>{p(E=>E.filter(R=>R.id!==_))},g=_=>{p(E=>E.map(R=>R.id===_.id?_:R)),o(E=>E&&E.id===_.id?_:E)},w=()=>{switch(console.log("Index.tsx: renderSection called. activeSection:",n),n){case"editor":return a.jsx(Fm,{isMobileMode:x});case"training":return a.jsx(AI,{isMobileMode:x});case"chart":return a.jsx(OI,{isMobileMode:x,charts:f,onCreateChart:v,onDeleteChart:m,onEditChart:y,onPlayChart:b});case"chartEditor":return s?a.jsx(BI,{isMobileMode:x,chart:s,onBackToCharts:()=>r("chart"),onSaveChart:g}):null;case"chartViewer":return s?a.jsx(KI,{isMobileMode:x,chart:s,allRanges:t,onBackToCharts:()=>r("chart")}):null;default:return a.jsx(Fm,{isMobileMode:x})}},k=a.jsx(J,{variant:"outline",size:"sm",onClick:()=>{d?l(i==="desktop"?null:"desktop"):u(!c)},className:"flex items-center justify-center h-10 w-10 p-0",children:x?a.jsx(l2,{className:"h-4 w-4"}):a.jsx(u2,{className:"h-4 w-4"})}),j=a.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[k,a.jsx(Im,{isMobileMode:x})]}),{loading:C}=Wf();return console.log("Index.tsx: AuthContext loading state:",C),console.log("Index.tsx: isFullScreenViewer:",S),console.log("Index.tsx: isMobileLayout:",x),console.log("Index.tsx: activeSection:",n),console.log("Index.tsx: folders (from RangeContext):",e),console.log("Index.tsx: charts (local state):",f),C?(console.log("Index.tsx: AuthContext is still loading, rendering null."),null):S?a.jsx(be.Fragment,{children:(()=>{try{return w()}catch(_){return console.error("Index.tsx: Error rendering full screen section:",_),a.jsxs("div",{className:"text-red-500 p-4",children:["Ошибка загрузки полноэкранного режима: ",_ instanceof Error?_.message:String(_)]})}})()}):a.jsx("div",{className:"min-h-screen bg-background",children:x?a.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[a.jsx("div",{className:"px-4 border-b bg-card",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsx(Ap,{activeSection:n,onSectionChange:r,isMobile:!0,mobileActions:j})})}),a.jsx("div",{className:"flex-1 flex flex-col",children:a.jsx(be.Fragment,{children:(()=>{try{return w()}catch(_){return console.error("Index.tsx: Error rendering mobile section:",_),a.jsxs("div",{className:"text-red-500 p-4",children:["Ошибка загрузки мобильного режима: ",_ instanceof Error?_.message:String(_)]})}})()})})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"py-1 border-b bg-card",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-80 flex-shrink-0 pl-4",children:a.jsx(Ap,{activeSection:n,onSectionChange:r})}),a.jsx("div",{className:"flex-1 flex items-center justify-end pr-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[k,a.jsx(Im,{isMobileMode:x})]})})]})}),a.jsx(be.Fragment,{children:(()=>{try{return w()}catch(_){return console.error("Index.tsx: Error rendering desktop section:",_),a.jsxs("div",{className:"text-red-500 p-4",children:["Ошибка загрузки десктопного режима: ",_ instanceof Error?_.message:String(_)]})}})()})]})})};function qI(){return a.jsx(tA,{children:a.jsx(_A,{children:a.jsx(GI,{})})})}console.log("main.tsx executed");ox(document.getElementById("root")).render(a.jsx(be.StrictMode,{children:a.jsx(qI,{})}));const ti=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));
